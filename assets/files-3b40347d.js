function c(t,e){try{window.localStorage.setItem(t,e)}catch(o){console.log(`Couldn't set local storage for ${t}: ${o}`),window.alert("Your changes couldn't be saved because you've run out of local storage. Please fix this problem on the next page and try again."),window.location.href="local_storage.html"}}function u(t,e){return`npw/${t}/${e}`}function g(t){let e=`npw/${t}/`,o=[];for(let l=0;l<window.localStorage.length;l++){let r=window.localStorage.key(l);if(r.startsWith(e)){let n=r.slice(e.length);if(n=="last-opened-file")continue;try{let a=JSON.parse(window.localStorage.getItem(r));o.push([n,s(a)])}catch{}}}return o.sort(),o}function w(){let t=new Map;for(let e=0;e<window.localStorage.length;e++){let o=window.localStorage.key(e);if(o.startsWith("npw/")&&!o.endsWith("/last-opened-file"))try{let l=JSON.parse(window.localStorage.getItem(o)||""),r=s(l),[n,a,i]=o.split("/");t.has(a)||t.set(a,[]),t.get(a).push([i,r])}catch{}}for(let e of t.values())e.sort();return t}function s(t){try{return`${t.features.length} routes`}catch{return"outdated file"}}function f(){let t=[];for(let e=0;e<window.localStorage.length;e++){let o=window.localStorage.key(e);t.push([o,window.localStorage.getItem(o).length])}return t.sort((e,o)=>o[1]-e[1]),t}export{g as a,u as g,w as l,f as m,c as s};
