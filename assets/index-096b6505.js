var Pr=Object.defineProperty;var Rr=(n,e,t)=>e in n?Pr(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Rn=(n,e,t)=>(Rr(n,typeof e!="symbol"?e+"":e,t),t);import{w as Nt,s as Se,aa as Hi,ab as Zi,S as Fe,i as De,W as Wt,g as Ae,k as Z,B as tt,n as Q,C as nt,o as We,N as Cn,M as fe,O as Xe,V as Ke,H as dt,I as ft,J as mt,K as ht,E as $t,F as Gi,c as lt,m as at,G as ji,q as ut,L as Te,ac as Ar,a3 as St,e as qi,d as un,$ as An,Z as Wn,l as Wr,Q as zr,r as Fr,a as Zt,X as Dr,u as Ur}from"./index-2a520af6.js";import{m as Pe,a as Br,q as Hr}from"./Modal.svelte_svelte_type_style_lang-14adb101.js";import{s as Zr,g as Gr}from"./files-e6784ff4.js";const jr=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,yt=[];function cn(n,e){return{subscribe:R(n,e).subscribe}}function R(n,e=Nt){let t;const i=new Set;function r(s){if(Se(n,s)&&(n=s,t)){const a=!yt.length;for(const u of i)u[1](),yt.push(u,n);if(a){for(let u=0;u<yt.length;u+=2)yt[u][0](yt[u+1]);yt.length=0}}}function o(s){r(s(n))}function l(s,a=Nt){const u=[s,a];return i.add(u),i.size===1&&(t=e(r,o)||Nt),s(n),()=>{i.delete(u),i.size===0&&t&&(t(),t=null)}}return{set:r,update:o,subscribe:l}}let qr=Date.now();function en(n){return`${n}-${qr++}`}const _n=Symbol.for("svelte-maplibre");function zt(){return Zi(_n)}function Qr(n){let e=new WeakMap;return t=>{var l;let i=e.get(t.originalEvent);if(i!==void 0)return i;let o=(l=t.target.queryRenderedFeatures(t.point).find(s=>{var a;return(a=n.get(s.layer.id))==null?void 0:a.interactive}))==null?void 0:l.layer.id;return e.set(t.originalEvent,o),o}}function Vr(){let n=new Map;return Hi(_n,{map:R(null),source:cn(null),layer:cn(null),popupTarget:cn(null),cluster:R(),loadedImages:R(new Set),minzoom:R(0),maxzoom:R(24),layerEvent:R(null),layerInfo:n,eventTopMost:Qr(n),markerClickManager:new Xr})}function zn(n){return{subscribe:n.subscribe}}function xn({key:n,setPopupTarget:e=!1,setCluster:t=!1,setMouseEvent:i=!1}){let r=zt(),o=R(null),l=zn(o),s={...r,[n]:zn(o)};if(e&&(s.popupTarget=l),i){let a=R(null);s.layerEvent=a,r.layerEvent=a}return t&&(s.cluster=R()),Hi(_n,s),{...r,self:o}}function Kr(){return xn({key:"source",setCluster:!0})}function Yr(n=!0){return xn({key:"layer",setPopupTarget:n,setMouseEvent:n})}function la(){return xn({key:"popupTarget",setPopupTarget:!0,setMouseEvent:!0})}function aa(n){return"layerType"in n&&n.layerType==="deckgl"}class Xr{constructor(){Rn(this,"_handlers",new Set)}add(e){this._handlers.add(e)}remove(e){this._handlers.delete(e)}handleClick(e){for(const t of this._handlers)t(e)}}function Fn(n){let e;return t=>{if(t)for(let i in t){let r=e==null?void 0:e[i],o=t[i];r!==o&&n(i,o,r)}else if(e)for(let i in e)n(i,void 0,e[i]);e=t}}function Jr(n,...e){let t=[n];for(let i of e)if(i)Array.isArray(i)&&i[0]===n?t.push(...i.slice(1)):t.push(i);else continue;if(t.length!==1)return t.length===2?t[1]:t}function $r(n){return n===!0?["has","point_count"]:n===!1?["!",["has","point_count"]]:void 0}function ua(n,e){return["case",["boolean",["feature-state","hover"],!1],e,n]}var Vt=eo;function eo(n){var e,t,i;if(n){if(Array.isArray(n)){for(e=[],t=n.length,i=0;i<t;i++){var r=n[i];r!=null&&e.push(r)}return e}if(typeof n=="object"){e={};var o=Object.keys(n);for(t=o.length,i=0;i<t;i++){var l=o[i],s=n[l];s!=null&&(e[l]=s)}return e}}}function Dn(n){let e=n[0],t,i,r=Un(n);return{c(){r.c(),t=Wt()},m(o,l){r.m(o,l),Ae(o,t,l),i=!0},p(o,l){l[0]&1&&Se(e,e=o[0])?(tt(),Q(r,1,1,Nt),nt(),r=Un(o),r.c(),Z(r,1),r.m(t.parentNode,t)):r.p(o,l)},i(o){i||(Z(r),i=!0)},o(o){Q(r),i=!1},d(o){o&&We(t),r.d(o)}}}function Un(n){let e;const t=n[36].default,i=dt(t,n,n[35],null);return{c(){i&&i.c()},m(r,o){i&&i.m(r,o),e=!0},p(r,o){i&&i.p&&(!e||o[1]&16)&&ft(i,t,r,r[35],e?ht(t,r[35],o,null):mt(r[35]),null)},i(r){e||(Z(i,r),e=!0)},o(r){Q(i,r),e=!1},d(r){i&&i.d(r)}}}function to(n){let e,t,i=n[0]&&Dn(n);return{c(){i&&i.c(),e=Wt()},m(r,o){i&&i.m(r,o),Ae(r,e,o),t=!0},p(r,o){r[0]?i?(i.p(r,o),o[0]&1&&Z(i,1)):(i=Dn(r),i.c(),Z(i,1),i.m(e.parentNode,e)):i&&(tt(),Q(i,1,1,()=>{i=null}),nt())},i(r){t||(Z(i),t=!0)},o(r){Q(i),t=!1},d(r){r&&We(e),i&&i.d(r)}}}function no(n,e,t){let i,r,o,l,s,a,u,d,c,f,g,b,{$$slots:S={},$$scope:m}=e,{id:h=en("layer")}=e,{source:k=void 0}=e,{sourceLayer:_=void 0}=e,{beforeId:x=void 0}=e,{beforeLayerType:N=void 0}=e,{type:O}=e,{paint:v=void 0}=e,{layout:y=void 0}=e,{filter:M=void 0}=e,{applyToClusters:z=void 0}=e,{minzoom:E=void 0}=e,{maxzoom:D=void 0}=e,{manageHoverState:K=!1}=e,{hovered:I=null}=e,{interactive:U=!0}=e,{hoverCursor:$=void 0}=e,{eventsIfTopMost:A=!1}=e;const oe=Cn(),{map:le,source:we,self:me,minzoom:te,maxzoom:ne,eventTopMost:ie,layerInfo:ue}=Yr();fe(n,le,T=>t(31,c=T)),fe(n,we,T=>t(32,f=T)),fe(n,me,T=>t(0,d=T)),fe(n,te,T=>t(34,b=T)),fe(n,ne,T=>t(33,g=T)),Xe(()=>{d&&c&&(ue.delete(d),c==null||c.removeLayer(d))});let q;function he(T){var W,_e;if(!U||!d||!c||A&&ie(T)!==d)return;let w=T.features??[],F=(_e=(W=w[0])==null?void 0:W.properties)==null?void 0:_e.cluster_id,B={event:T,map:c,clusterId:F,layer:d,source:s,features:w};oe(T.type,B)}function ve(T){var W,_e;if(!U||!d||!c||A&&ie(T)!==d)return;$&&(c.getCanvas().style.cursor=$);let w=T.features??[];t(6,I=w[0]??null);let F=(_e=(W=w[0])==null?void 0:W.properties)==null?void 0:_e.cluster_id;oe("mouseenter",{event:T,map:c,clusterId:F,layer:d,source:s,features:w})}function Ce(T){var W,_e,p;if(!U||!c)return;if(A&&ie(T)!==d){t(6,I=null),K&&q!==void 0&&(c==null||c.setFeatureState({source:s,sourceLayer:_,id:q},{hover:!1}),q=void 0);return}c.getCanvas().style.cursor=$;let w=T.features??[],F=(_e=(W=w[0])==null?void 0:W.properties)==null?void 0:_e.cluster_id,B=(p=w[0])==null?void 0:p.id;B!==q&&(K&&(q!==void 0&&(c==null||c.setFeatureState({source:s,id:q,sourceLayer:_},{hover:!1})),c==null||c.setFeatureState({source:s,id:B,sourceLayer:_},{hover:!0})),q=B,t(6,I=w[0]??null)),oe("mousemove",{event:T,map:c,clusterId:F,layer:d,source:s,features:w})}function Me(T){if(!(!U||!d||!c)){if($&&(c.getCanvas().style.cursor=""),t(6,I=null),K&&q!==void 0){const w={source:s,id:q,sourceLayer:_};c==null||c.setFeatureState(w,{hover:!1}),q=void 0}oe("mouseleave",{map:c,layer:d,source:s})}}let ce=!0;function Ie(T){c&&(c.off("click",T,he),c.off("dblclick",T,he),c.off("contextmenu",T,he),c.off("mouseenter",T,ve),c.off("mousemove",T,Ce),c.off("mouseleave",T,Me))}return Xe(()=>{c&&d&&Ie(d)}),n.$$set=T=>{"id"in T&&t(7,h=T.id),"source"in T&&t(8,k=T.source),"sourceLayer"in T&&t(9,_=T.sourceLayer),"beforeId"in T&&t(10,x=T.beforeId),"beforeLayerType"in T&&t(11,N=T.beforeLayerType),"type"in T&&t(12,O=T.type),"paint"in T&&t(13,v=T.paint),"layout"in T&&t(14,y=T.layout),"filter"in T&&t(15,M=T.filter),"applyToClusters"in T&&t(16,z=T.applyToClusters),"minzoom"in T&&t(17,E=T.minzoom),"maxzoom"in T&&t(18,D=T.maxzoom),"manageHoverState"in T&&t(19,K=T.manageHoverState),"hovered"in T&&t(6,I=T.hovered),"interactive"in T&&t(20,U=T.interactive),"hoverCursor"in T&&t(21,$=T.hoverCursor),"eventsIfTopMost"in T&&t(22,A=T.eventsIfTopMost),"$$scope"in T&&t(35,m=T.$$scope)},n.$$.update=()=>{if(n.$$.dirty[0]&65536&&t(30,i=$r(z)),n.$$.dirty[0]&1073774592&&t(24,r=Jr("all",i,M)),n.$$.dirty[0]&131072|n.$$.dirty[1]&8&&t(26,o=E??b),n.$$.dirty[0]&262144|n.$$.dirty[1]&4&&t(25,l=D??g),n.$$.dirty[0]&256|n.$$.dirty[1]&2&&t(29,s=k||f),n.$$.dirty[0]&654343809|n.$$.dirty[1]&1&&c&&d!==h&&s){d&&(Ie(d),ue.delete(d));let T=x;if(!x&&N){let w=c.getStyle().layers,F=typeof N=="function"?N:W=>W.type===N,B=w==null?void 0:w.find(F);B&&(T=B.id)}Ke(me,d=h,d),c.addLayer(Vt({id:d,type:O,source:s,"source-layer":_,filter:r,paint:v,layout:y,minzoom:o,maxzoom:l}),T),t(23,ce=!0),c.on("click",d,he),c.on("dblclick",d,he),c.on("contextmenu",d,he),c.on("mouseenter",d,ve),c.on("mousemove",d,Ce),c.on("mouseleave",d,Me)}n.$$.dirty[0]&1048577&&d&&ue.set(d,{interactive:U}),n.$$.dirty[0]&1|n.$$.dirty[1]&1&&t(28,a=d?Fn((T,w)=>{c!=null&&c.style._loaded?c.setPaintProperty(d,T,w):c==null||c.once("styledata",()=>c==null?void 0:c.setPaintProperty(d,T,w))}):void 0),n.$$.dirty[0]&1|n.$$.dirty[1]&1&&t(27,u=d?Fn((T,w)=>{c!=null&&c.style._loaded?c.setLayoutProperty(d,T,w):c==null||c.once("styledata",()=>c==null?void 0:c.setLayoutProperty(d,T,w))}):void 0),n.$$.dirty[0]&268443648&&(a==null||a(v)),n.$$.dirty[0]&134234112&&(u==null||u(y)),n.$$.dirty[0]&100663297|n.$$.dirty[1]&1&&d&&(c==null||c.setLayerZoomRange(d,o,l)),n.$$.dirty[0]&25165825|n.$$.dirty[1]&1&&d&&(ce?t(23,ce=!1):c==null||c.setFilter(d,r))},[d,le,we,me,te,ne,I,h,k,_,x,N,O,v,y,M,z,E,D,K,U,$,A,ce,r,l,o,u,a,s,i,c,f,g,b,m,S]}class Qi extends Fe{constructor(e){super(),De(this,e,no,to,Se,{id:7,source:8,sourceLayer:9,beforeId:10,beforeLayerType:11,type:12,paint:13,layout:14,filter:15,applyToClusters:16,minzoom:17,maxzoom:18,manageHoverState:19,hovered:6,interactive:20,hoverCursor:21,eventsIfTopMost:22},null,[-1,-1])}}function io(n){let e;const t=n[15].default,i=dt(t,n,n[23],null);return{c(){i&&i.c()},m(r,o){i&&i.m(r,o),e=!0},p(r,o){i&&i.p&&(!e||o&8388608)&&ft(i,t,r,r[23],e?ht(t,r[23],o,null):mt(r[23]),null)},i(r){e||(Z(i,r),e=!0)},o(r){Q(i,r),e=!1},d(r){i&&i.d(r)}}}function ro(n){let e,t,i;function r(l){n[16](l)}let o={id:n[1],type:"fill",source:n[2],sourceLayer:n[3],beforeId:n[4],beforeLayerType:n[5],paint:n[6],layout:n[7],filter:n[8],minzoom:n[9],maxzoom:n[10],hoverCursor:n[11],manageHoverState:n[12],eventsIfTopMost:n[13],interactive:n[14],$$slots:{default:[io]},$$scope:{ctx:n}};return n[0]!==void 0&&(o.hovered=n[0]),e=new Qi({props:o}),$t.push(()=>Gi(e,"hovered",r)),e.$on("click",n[17]),e.$on("dblclick",n[18]),e.$on("contextmenu",n[19]),e.$on("mouseenter",n[20]),e.$on("mousemove",n[21]),e.$on("mouseleave",n[22]),{c(){lt(e.$$.fragment)},m(l,s){at(e,l,s),i=!0},p(l,[s]){const a={};s&2&&(a.id=l[1]),s&4&&(a.source=l[2]),s&8&&(a.sourceLayer=l[3]),s&16&&(a.beforeId=l[4]),s&32&&(a.beforeLayerType=l[5]),s&64&&(a.paint=l[6]),s&128&&(a.layout=l[7]),s&256&&(a.filter=l[8]),s&512&&(a.minzoom=l[9]),s&1024&&(a.maxzoom=l[10]),s&2048&&(a.hoverCursor=l[11]),s&4096&&(a.manageHoverState=l[12]),s&8192&&(a.eventsIfTopMost=l[13]),s&16384&&(a.interactive=l[14]),s&8388608&&(a.$$scope={dirty:s,ctx:l}),!t&&s&1&&(t=!0,a.hovered=l[0],ji(()=>t=!1)),e.$set(a)},i(l){i||(Z(e.$$.fragment,l),i=!0)},o(l){Q(e.$$.fragment,l),i=!1},d(l){ut(e,l)}}}function oo(n,e,t){let{$$slots:i={},$$scope:r}=e,{id:o=en("fill")}=e,{source:l=void 0}=e,{sourceLayer:s=void 0}=e,{beforeId:a=void 0}=e,{beforeLayerType:u=void 0}=e,{paint:d}=e,{layout:c=void 0}=e,{filter:f=void 0}=e,{minzoom:g=void 0}=e,{maxzoom:b=void 0}=e,{hoverCursor:S=void 0}=e,{manageHoverState:m=!1}=e,{hovered:h=null}=e,{eventsIfTopMost:k=!1}=e,{interactive:_=!0}=e;function x(E){h=E,t(0,h)}function N(E){Te.call(this,n,E)}function O(E){Te.call(this,n,E)}function v(E){Te.call(this,n,E)}function y(E){Te.call(this,n,E)}function M(E){Te.call(this,n,E)}function z(E){Te.call(this,n,E)}return n.$$set=E=>{"id"in E&&t(1,o=E.id),"source"in E&&t(2,l=E.source),"sourceLayer"in E&&t(3,s=E.sourceLayer),"beforeId"in E&&t(4,a=E.beforeId),"beforeLayerType"in E&&t(5,u=E.beforeLayerType),"paint"in E&&t(6,d=E.paint),"layout"in E&&t(7,c=E.layout),"filter"in E&&t(8,f=E.filter),"minzoom"in E&&t(9,g=E.minzoom),"maxzoom"in E&&t(10,b=E.maxzoom),"hoverCursor"in E&&t(11,S=E.hoverCursor),"manageHoverState"in E&&t(12,m=E.manageHoverState),"hovered"in E&&t(0,h=E.hovered),"eventsIfTopMost"in E&&t(13,k=E.eventsIfTopMost),"interactive"in E&&t(14,_=E.interactive),"$$scope"in E&&t(23,r=E.$$scope)},[h,o,l,s,a,u,d,c,f,g,b,S,m,k,_,i,x,N,O,v,y,M,z,r]}class ca extends Fe{constructor(e){super(),De(this,e,oo,ro,Se,{id:1,source:2,sourceLayer:3,beforeId:4,beforeLayerType:5,paint:6,layout:7,filter:8,minzoom:9,maxzoom:10,hoverCursor:11,manageHoverState:12,hovered:0,eventsIfTopMost:13,interactive:14})}}function so(n,e,t){let i;const{map:r}=zt();fe(n,r,a=>t(4,i=a));let{position:o="top-left"}=e,{container:l=void 0}=e,s=null;return Xe(()=>{i!=null&&i.loaded()&&s&&i.removeControl(s)}),n.$$set=a=>{"position"in a&&t(1,o=a.position),"container"in a&&t(2,l=a.container)},n.$$.update=()=>{if(n.$$.dirty&30&&i&&!s){let a;typeof l=="string"?a=document.querySelector(l)??void 0:a=l,t(3,s=new Pe.FullscreenControl({container:a})),i.addControl(s,o)}},[r,o,l,s,i]}class lo extends Fe{constructor(e){super(),De(this,e,so,null,Se,{position:1,container:2})}}function ao(n,e,t,i,r){let o=!1;n.getSource(e)&&(o=!0,n.removeSource(e));const l=()=>{i(e)&&(n.addSource(e,t),r())};if(o){const s=()=>{e&&(n.getSource(e)?setTimeout(s,1):l())};s()}else l()}function uo(n,e,t){Ar().then(()=>{let i=St(n);if(!i)return;i.getSource(e)===t&&i.removeSource(e)})}function Bn(n){let e=n[0],t,i,r=Hn(n);return{c(){r.c(),t=Wt()},m(o,l){r.m(o,l),Ae(o,t,l),i=!0},p(o,l){l&1&&Se(e,e=o[0])?(tt(),Q(r,1,1,Nt),nt(),r=Hn(o),r.c(),Z(r,1),r.m(t.parentNode,t)):r.p(o,l)},i(o){i||(Z(r),i=!0)},o(o){Q(r),i=!1},d(o){o&&We(t),r.d(o)}}}function Hn(n){let e;const t=n[19].default,i=dt(t,n,n[18],null);return{c(){i&&i.c()},m(r,o){i&&i.m(r,o),e=!0},p(r,o){i&&i.p&&(!e||o&262144)&&ft(i,t,r,r[18],e?ht(t,r[18],o,null):mt(r[18]),null)},i(r){e||(Z(i,r),e=!0)},o(r){Q(i,r),e=!1},d(r){i&&i.d(r)}}}function co(n){let e,t,i=n[0]&&Bn(n);return{c(){i&&i.c(),e=Wt()},m(r,o){i&&i.m(r,o),Ae(r,e,o),t=!0},p(r,[o]){r[0]?i?(i.p(r,o),o&1&&Z(i,1)):(i=Bn(r),i.c(),Z(i,1),i.m(e.parentNode,e)):i&&(tt(),Q(i,1,1,()=>{i=null}),nt())},i(r){t||(Z(i),t=!0)},o(r){Q(i),t=!1},d(r){r&&We(e),i&&i.d(r)}}}function fo(n,e,t){let i,r,o,{$$slots:l={},$$scope:s}=e,{id:a=en("geojson")}=e,{data:u}=e,{generateId:d=!1}=e,{promoteId:c=void 0}=e,{filter:f=void 0}=e,{lineMetrics:g=void 0}=e,{cluster:b=void 0}=e,{maxzoom:S=void 0}=e,{attribution:m=void 0}=e,{buffer:h=void 0}=e,{tolerance:k=void 0}=e;const{map:_,cluster:x,self:N}=Kr();fe(n,_,y=>t(17,r=y)),fe(n,x,y=>t(20,o=y)),fe(n,N,y=>t(0,i=y));let O,v=!0;return Xe(()=>{i&&O&&r&&(uo(_,i,O),Ke(N,i=null,i),t(15,O=void 0))}),n.$$set=y=>{"id"in y&&t(4,a=y.id),"data"in y&&t(5,u=y.data),"generateId"in y&&t(6,d=y.generateId),"promoteId"in y&&t(7,c=y.promoteId),"filter"in y&&t(8,f=y.filter),"lineMetrics"in y&&t(9,g=y.lineMetrics),"cluster"in y&&t(10,b=y.cluster),"maxzoom"in y&&t(11,S=y.maxzoom),"attribution"in y&&t(12,m=y.attribution),"buffer"in y&&t(13,h=y.buffer),"tolerance"in y&&t(14,k=y.tolerance),"$$scope"in y&&t(18,s=y.$$scope)},n.$$.update=()=>{n.$$.dirty&1024&&Ke(x,o=b,o),n.$$.dirty&196593&&r&&i!==a&&(Ke(N,i=a,i),ao(r,i,Vt({type:"geojson",data:u,filter:f,lineMetrics:g,generateId:d,promoteId:c,cluster:!!b,clusterMinPoints:b==null?void 0:b.minPoints,clusterMaxZoom:b==null?void 0:b.maxZoom,clusterRadius:b==null?void 0:b.radius,clusterProperties:b==null?void 0:b.properties,maxzoom:S,attribution:m,buffer:h,tolerance:k}),y=>r&&y===i,()=>{i&&(t(15,O=r==null?void 0:r.getSource(i)),t(16,v=!0))})),n.$$.dirty&131088&&(r==null||r.on("style.load",()=>{t(15,O=r==null?void 0:r.getSource(a))})),n.$$.dirty&98336&&O&&(v?t(16,v=!1):O.setData(u)),n.$$.dirty&33792&&(O==null||O.setClusterOptions(Vt({cluster:!!b,clusterMaxZoom:b==null?void 0:b.maxZoom,clusterRadius:b==null?void 0:b.radius})))},[i,_,x,N,a,u,d,c,f,g,b,S,m,h,k,O,v,r,s,l]}class da extends Fe{constructor(e){super(),De(this,e,fo,co,Se,{id:4,data:5,generateId:6,promoteId:7,filter:8,lineMetrics:9,cluster:10,maxzoom:11,attribution:12,buffer:13,tolerance:14})}}function mo(n,e,t){let i;const{map:r}=zt();fe(n,r,f=>t(8,i=f));let{position:o="top-left"}=e,{positionOptions:l=void 0}=e,{fitBoundsOptions:s=void 0}=e,{trackUserLocation:a=!1}=e,{showAccuracyCircle:u=!0}=e,{showUserLocation:d=!0}=e,{control:c=null}=e;return Xe(()=>{i!=null&&i.loaded()&&c&&i.removeControl(c)}),n.$$set=f=>{"position"in f&&t(2,o=f.position),"positionOptions"in f&&t(3,l=f.positionOptions),"fitBoundsOptions"in f&&t(4,s=f.fitBoundsOptions),"trackUserLocation"in f&&t(5,a=f.trackUserLocation),"showAccuracyCircle"in f&&t(6,u=f.showAccuracyCircle),"showUserLocation"in f&&t(7,d=f.showUserLocation),"control"in f&&t(1,c=f.control)},n.$$.update=()=>{n.$$.dirty&510&&i&&!c&&(t(1,c=new Pe.GeolocateControl({positionOptions:l,fitBoundsOptions:s,trackUserLocation:a,showAccuracyCircle:u,showUserLocation:d})),i.addControl(c,o))},[r,c,o,l,s,a,u,d,i]}class ho extends Fe{constructor(e){super(),De(this,e,mo,null,Se,{position:2,positionOptions:3,fitBoundsOptions:4,trackUserLocation:5,showAccuracyCircle:6,showUserLocation:7,control:1})}}function go(n){let e;const t=n[15].default,i=dt(t,n,n[23],null);return{c(){i&&i.c()},m(r,o){i&&i.m(r,o),e=!0},p(r,o){i&&i.p&&(!e||o&8388608)&&ft(i,t,r,r[23],e?ht(t,r[23],o,null):mt(r[23]),null)},i(r){e||(Z(i,r),e=!0)},o(r){Q(i,r),e=!1},d(r){i&&i.d(r)}}}function bo(n){let e,t,i;function r(l){n[16](l)}let o={id:n[1],type:"line",source:n[2],sourceLayer:n[3],beforeId:n[4],beforeLayerType:n[5],paint:n[6],layout:n[7],filter:n[8],minzoom:n[9],maxzoom:n[10],hoverCursor:n[11],manageHoverState:n[12],eventsIfTopMost:n[13],interactive:n[14],$$slots:{default:[go]},$$scope:{ctx:n}};return n[0]!==void 0&&(o.hovered=n[0]),e=new Qi({props:o}),$t.push(()=>Gi(e,"hovered",r)),e.$on("click",n[17]),e.$on("dblclick",n[18]),e.$on("contextmenu",n[19]),e.$on("mouseenter",n[20]),e.$on("mousemove",n[21]),e.$on("mouseleave",n[22]),{c(){lt(e.$$.fragment)},m(l,s){at(e,l,s),i=!0},p(l,[s]){const a={};s&2&&(a.id=l[1]),s&4&&(a.source=l[2]),s&8&&(a.sourceLayer=l[3]),s&16&&(a.beforeId=l[4]),s&32&&(a.beforeLayerType=l[5]),s&64&&(a.paint=l[6]),s&128&&(a.layout=l[7]),s&256&&(a.filter=l[8]),s&512&&(a.minzoom=l[9]),s&1024&&(a.maxzoom=l[10]),s&2048&&(a.hoverCursor=l[11]),s&4096&&(a.manageHoverState=l[12]),s&8192&&(a.eventsIfTopMost=l[13]),s&16384&&(a.interactive=l[14]),s&8388608&&(a.$$scope={dirty:s,ctx:l}),!t&&s&1&&(t=!0,a.hovered=l[0],ji(()=>t=!1)),e.$set(a)},i(l){i||(Z(e.$$.fragment,l),i=!0)},o(l){Q(e.$$.fragment,l),i=!1},d(l){ut(e,l)}}}function yo(n,e,t){let{$$slots:i={},$$scope:r}=e,{id:o=en("line")}=e,{source:l=void 0}=e,{sourceLayer:s=void 0}=e,{beforeId:a=void 0}=e,{beforeLayerType:u=void 0}=e,{paint:d}=e,{layout:c=void 0}=e,{filter:f=void 0}=e,{minzoom:g=void 0}=e,{maxzoom:b=void 0}=e,{hoverCursor:S=void 0}=e,{manageHoverState:m=!1}=e,{hovered:h=null}=e,{eventsIfTopMost:k=!1}=e,{interactive:_=!0}=e;function x(E){h=E,t(0,h)}function N(E){Te.call(this,n,E)}function O(E){Te.call(this,n,E)}function v(E){Te.call(this,n,E)}function y(E){Te.call(this,n,E)}function M(E){Te.call(this,n,E)}function z(E){Te.call(this,n,E)}return n.$$set=E=>{"id"in E&&t(1,o=E.id),"source"in E&&t(2,l=E.source),"sourceLayer"in E&&t(3,s=E.sourceLayer),"beforeId"in E&&t(4,a=E.beforeId),"beforeLayerType"in E&&t(5,u=E.beforeLayerType),"paint"in E&&t(6,d=E.paint),"layout"in E&&t(7,c=E.layout),"filter"in E&&t(8,f=E.filter),"minzoom"in E&&t(9,g=E.minzoom),"maxzoom"in E&&t(10,b=E.maxzoom),"hoverCursor"in E&&t(11,S=E.hoverCursor),"manageHoverState"in E&&t(12,m=E.manageHoverState),"hovered"in E&&t(0,h=E.hovered),"eventsIfTopMost"in E&&t(13,k=E.eventsIfTopMost),"interactive"in E&&t(14,_=E.interactive),"$$scope"in E&&t(23,r=E.$$scope)},[h,o,l,s,a,u,d,c,f,g,b,S,m,k,_,i,x,N,O,v,y,M,z,r]}class fa extends Fe{constructor(e){super(),De(this,e,yo,bo,Se,{id:1,source:2,sourceLayer:3,beforeId:4,beforeLayerType:5,paint:6,layout:7,filter:8,minzoom:9,maxzoom:10,hoverCursor:11,manageHoverState:12,hovered:0,eventsIfTopMost:13,interactive:14})}}function vo(n){let e=n.getCenter(),t=Math.round(n.getZoom()*100)/100,i=Math.ceil((t*Math.LN2+Math.log(512/360/.5))/Math.LN10),r=Math.pow(10,i),o=Math.round(e.lat*r)/r,l=Math.round(e.lng*r)/r,s=`${t}/${o}/${l}`,a=n.getBearing(),u=n.getPitch();return(a||u)&&(s+=`/${Math.round(a*10)/10}`),u&&(s+=`/${Math.round(u)}`),`#${s}`}function po(n){return n.replace("#","").split("/").map(parseFloat)}var vt=kn;function kn(n,e){return n===e||n!==n&&e!==e?!0:typeof n!=typeof e||{}.toString.call(n)!={}.toString.call(e)||n!==Object(n)||!n?!1:Array.isArray(n)?Zn(n,e):{}.toString.call(n)=="[object Set]"?Zn(Array.from(n),Array.from(e)):{}.toString.call(n)=="[object Object]"?Eo(n,e):Lo(n,e)}function Lo(n,e){return n.toString()===e.toString()}function Zn(n,e){var t=n.length;if(t!=e.length)return!1;for(var i=0;i<t;i++)if(!kn(n[i],e[i]))return!1;return!0}function Eo(n,e){var t=Object.keys(n),i=t.length;if(i!=Object.keys(e).length)return!1;for(var r=0;r<i;r++){var o=t[r];if(!(e.hasOwnProperty(o)&&kn(n[o],e[o])))return!1}return!0}function So(n,e,t){let i;const{map:r}=zt();fe(n,r,d=>t(6,i=d));let{position:o="top-left"}=e,{showCompass:l=!0}=e,{showZoom:s=!0}=e,{visualizePitch:a=!1}=e,u=null;return Xe(()=>{i!=null&&i.loaded()&&u&&i.removeControl(u)}),n.$$set=d=>{"position"in d&&t(1,o=d.position),"showCompass"in d&&t(2,l=d.showCompass),"showZoom"in d&&t(3,s=d.showZoom),"visualizePitch"in d&&t(4,a=d.visualizePitch)},n.$$.update=()=>{n.$$.dirty&126&&i&&!u&&(t(5,u=new Pe.NavigationControl({showCompass:l,showZoom:s,visualizePitch:a})),i.addControl(u,o))},[r,o,l,s,a,u,i]}class wo extends Fe{constructor(e){super(),De(this,e,So,null,Se,{position:1,showCompass:2,showZoom:3,visualizePitch:4})}}function Co(n,e,t){let i;const{map:r}=zt();fe(n,r,u=>t(5,i=u));let{position:o="bottom-left"}=e,{maxWidth:l=void 0}=e,{unit:s="metric"}=e,a=null;return Xe(()=>{i!=null&&i.loaded()&&a&&i.removeControl(a)}),n.$$set=u=>{"position"in u&&t(1,o=u.position),"maxWidth"in u&&t(2,l=u.maxWidth),"unit"in u&&t(3,s=u.unit)},n.$$.update=()=>{n.$$.dirty&62&&i&&!a&&(t(4,a=new Pe.ScaleControl({maxWidth:l,unit:s})),i.addControl(a,o))},[r,o,l,s,a,i]}class _o extends Fe{constructor(e){super(),De(this,e,Co,null,Se,{position:1,maxWidth:2,unit:3})}}const{window:xo}=jr,ko=n=>({map:n[0]&16,loadedImages:n[0]&32,allImagesLoaded:n[0]&64}),Gn=n=>({map:n[4],loadedImages:n[5],allImagesLoaded:n[6]});function jn(n){let e,t,i=n[3]&&qn(n);const r=n[46].default,o=dt(r,n,n[45],Gn);return{c(){i&&i.c(),e=Zt(),o&&o.c()},m(l,s){i&&i.m(l,s),Ae(l,e,s),o&&o.m(l,s),t=!0},p(l,s){l[3]?i?(i.p(l,s),s[0]&8&&Z(i,1)):(i=qn(l),i.c(),Z(i,1),i.m(e.parentNode,e)):i&&(tt(),Q(i,1,1,()=>{i=null}),nt()),o&&o.p&&(!t||s[0]&112|s[1]&16384)&&ft(o,r,l,l[45],t?ht(r,l[45],s,ko):mt(l[45]),Gn)},i(l){t||(Z(i),Z(o,l),t=!0)},o(l){Q(i),Q(o,l),t=!1},d(l){l&&We(e),i&&i.d(l),o&&o.d(l)}}}function qn(n){let e,t,i,r,o,l,s,a;return e=new wo({props:{position:n[7]}}),i=new ho({props:{position:n[7],fitBoundsOptions:{maxZoom:12}}}),o=new lo({props:{position:n[7]}}),s=new _o({props:{position:n[7]}}),{c(){lt(e.$$.fragment),t=Zt(),lt(i.$$.fragment),r=Zt(),lt(o.$$.fragment),l=Zt(),lt(s.$$.fragment)},m(u,d){at(e,u,d),Ae(u,t,d),at(i,u,d),Ae(u,r,d),at(o,u,d),Ae(u,l,d),at(s,u,d),a=!0},p(u,d){const c={};d[0]&128&&(c.position=u[7]),e.$set(c);const f={};d[0]&128&&(f.position=u[7]),i.$set(f);const g={};d[0]&128&&(g.position=u[7]),o.$set(g);const b={};d[0]&128&&(b.position=u[7]),s.$set(b)},i(u){a||(Z(e.$$.fragment,u),Z(i.$$.fragment,u),Z(o.$$.fragment,u),Z(s.$$.fragment,u),a=!0)},o(u){Q(e.$$.fragment,u),Q(i.$$.fragment,u),Q(o.$$.fragment,u),Q(s.$$.fragment,u),a=!1},d(u){u&&(We(t),We(r),We(l)),ut(e,u),ut(i,u),ut(o,u),ut(s,u)}}}function Mo(n){let e,t,i,r,o,l=n[4]&&n[0]&&jn(n);return{c(){e=qi("div"),l&&l.c(),un(e,"class",t=An(n[2])+" svelte-p00lfq"),un(e,"data-testid","map-container"),Wn(e,"expand-map",!n[2])},m(s,a){Ae(s,e,a),l&&l.m(e,null),n[47](e),i=!0,r||(o=[Wr(xo,"hashchange",n[11]),zr(n[10].call(null,e))],r=!0)},p(s,a){s[4]&&s[0]?l?(l.p(s,a),a[0]&17&&Z(l,1)):(l=jn(s),l.c(),Z(l,1),l.m(e,null)):l&&(tt(),Q(l,1,1,()=>{l=null}),nt()),(!i||a[0]&4&&t!==(t=An(s[2])+" svelte-p00lfq"))&&un(e,"class",t),(!i||a[0]&4)&&Wn(e,"expand-map",!s[2])},i(s){i||(Z(l),i=!0)},o(s){Q(l),i=!1},d(s){s&&We(e),l&&l.d(),n[47](null),r=!1,Fr(o)}}}function No(n,e,t){let i,r,o,l,{$$slots:s={},$$scope:a}=e,{map:u=null}=e,{mapContainer:d=void 0}=e,{class:c=void 0}=e,{style:f}=e,{diffStyleUpdates:g=!1}=e,{center:b=void 0}=e,{zoom:S=void 0}=e,{pitch:m=0}=e,{bearing:h=0}=e,{bounds:k=void 0}=e,{hash:_=!1}=e,{updateHash:x=p=>{window.history.replaceState(window.history.state,"",p)}}=e,{loaded:N=!1}=e,{minZoom:O=0}=e,{maxZoom:v=22}=e,{minPitch:y=0}=e,{maxPitch:M=60}=e,{renderWorldCopies:z=void 0}=e,{dragPan:E=void 0}=e,{dragRotate:D=void 0}=e,{pitchWithRotate:K=void 0}=e,{antialias:I=void 0}=e,{zoomOnDoubleClick:U=!0}=e,{locale:$=void 0}=e,{interactive:A=!0}=e,{attributionControl:oe=!0}=e,{cooperativeGestures:le=!1}=e,{preserveDrawingBuffer:we=!1}=e,{maxBounds:me=void 0}=e,{images:te=[]}=e,{standardControls:ne=!1}=e,{filterLayers:ie=void 0}=e,{transformRequest:ue=void 0}=e;const q=Cn(),{map:he,loadedImages:ve}=Vr();fe(n,he,p=>t(4,o=p)),fe(n,ve,p=>t(5,l=p));let Ce=new Set;async function Me(p,P=!1){if(o&&!(!o.loaded()&&!P))if("url"in p){Ce.add(p.id);try{let j=await o.loadImage(p.url);o==null||o.addImage(p.id,j.data,p.options),l.add(p.id),ve.set(l)}catch(j){q("error",j)}finally{Ce.delete(p.id)}}else o.addImage(p.id,p.data,p.options),l.add(p.id),ve.set(l)}let ce,Ie,T,w;function F(p){return W(),Ke(he,o=new Pe.Map(Vt({container:p,style:f,locale:$,center:b,zoom:S,pitch:m,bearing:h,minZoom:O,maxZoom:v,minPitch:y,maxPitch:M,renderWorldCopies:z,dragPan:E,dragRotate:D,pitchWithRotate:K,antialias:I,interactive:A,preserveDrawingBuffer:we,maxBounds:me,bounds:k,attributionControl:oe,transformRequest:ue,cooperativeGestures:le})),o),o.on("load",P=>{P.target.getContainer().setAttribute("data-testid","map"),P.target.getCanvas().setAttribute("data-testid","map-canvas"),t(0,N=!0),q("load",o)}),o.on("error",P=>q("error",{...P,map:o})),o.on("movestart",P=>q("movestart",{...P,map:o})),o.on("moveend",P=>{if(t(12,b=P.target.getCenter()),t(13,S=P.target.getZoom()),t(14,m=P.target.getPitch()),t(15,h=P.target.getBearing()),t(16,k=P.target.getBounds()),q("moveend",{...P,map:o}),_){let j=new URL(window.location.href.replace(/(#.+)?$/,vo(o)));x(j)}}),o.on("click",P=>q("click",{...P,map:o})),o.on("dblclick",P=>q("dblclick",{...P,map:o})),o.on("contextmenu",P=>q("contextmenu",{...P,map:o})),o.on("zoomstart",P=>q("zoomstart",{...P,map:o})),o.on("zoom",P=>{q("zoom",{...P,map:o})}),o.on("zoomend",P=>{q("zoomend",{...P,map:o})}),o.on("style.load",()=>{if(o){const P=o.getStyle();if(t(42,ce=P.layers.map(j=>j.id)),t(43,Ie=Object.keys(P.sources)),w)for(const[j,Be]of Object.entries(w))o.addSource(j,Be);if(T)for(const j of T)o.addLayer(j);for(const j of te)Me(j,!0)}}),o.on("styledata",P=>{if(o&&ie){const j=o.getStyle().layers;if(j)for(let Be of j)ie(Be)||o.setLayoutProperty(Be.id,"visibility","none")}q("styledata",{...P,map:o})}),{destroy(){t(0,N=!1),o==null||o.remove(),Ke(he,o=null,o)}}}let B=f;function W(){if(_){let p=po(window.location.hash);if(p.some(isNaN))return;p.length>=3&&(t(13,S=p[0]),t(12,b=[p[2],p[1]])),p.length==5&&(t(15,h=p[3]),t(14,m=p[4]))}}function _e(p){$t[p?"unshift":"push"](()=>{d=p,t(1,d)})}return n.$$set=p=>{"map"in p&&t(17,u=p.map),"mapContainer"in p&&t(1,d=p.mapContainer),"class"in p&&t(2,c=p.class),"style"in p&&t(18,f=p.style),"diffStyleUpdates"in p&&t(19,g=p.diffStyleUpdates),"center"in p&&t(12,b=p.center),"zoom"in p&&t(13,S=p.zoom),"pitch"in p&&t(14,m=p.pitch),"bearing"in p&&t(15,h=p.bearing),"bounds"in p&&t(16,k=p.bounds),"hash"in p&&t(20,_=p.hash),"updateHash"in p&&t(21,x=p.updateHash),"loaded"in p&&t(0,N=p.loaded),"minZoom"in p&&t(22,O=p.minZoom),"maxZoom"in p&&t(23,v=p.maxZoom),"minPitch"in p&&t(24,y=p.minPitch),"maxPitch"in p&&t(25,M=p.maxPitch),"renderWorldCopies"in p&&t(26,z=p.renderWorldCopies),"dragPan"in p&&t(27,E=p.dragPan),"dragRotate"in p&&t(28,D=p.dragRotate),"pitchWithRotate"in p&&t(29,K=p.pitchWithRotate),"antialias"in p&&t(30,I=p.antialias),"zoomOnDoubleClick"in p&&t(31,U=p.zoomOnDoubleClick),"locale"in p&&t(32,$=p.locale),"interactive"in p&&t(33,A=p.interactive),"attributionControl"in p&&t(34,oe=p.attributionControl),"cooperativeGestures"in p&&t(35,le=p.cooperativeGestures),"preserveDrawingBuffer"in p&&t(36,we=p.preserveDrawingBuffer),"maxBounds"in p&&t(37,me=p.maxBounds),"images"in p&&t(38,te=p.images),"standardControls"in p&&t(3,ne=p.standardControls),"filterLayers"in p&&t(39,ie=p.filterLayers),"transformRequest"in p&&t(40,ue=p.transformRequest),"$$scope"in p&&t(45,a=p.$$scope)},n.$$.update=()=>{if(n.$$.dirty[0]&8&&t(7,i=typeof ne=="boolean"?void 0:ne),n.$$.dirty[0]&16&&t(17,u=o),n.$$.dirty[0]&786448|n.$$.dirty[1]&14336&&o&&!vt(f,B)){const p=o.getStyle();if(ce&&(T=p.layers.filter(P=>!ce.includes(P.id))),Ie){const P=Object.keys(p.sources).filter(j=>!Ie.includes(j));w={};for(const j of P)w[j]=p.sources[j]}t(44,B=f),o.setStyle(f,{diff:g}),Ke(ve,l=new Set,l),t(41,Ce=new Set)}if(n.$$.dirty[0]&49|n.$$.dirty[1]&1152&&N&&o!=null&&o.loaded())for(let p of te)!l.has(p.id)&&!Ce.has(p.id)&&!o.hasImage(p.id)&&Me(p);if(n.$$.dirty[0]&32|n.$$.dirty[1]&128&&t(6,r=te.every(p=>l.has(p.id))),n.$$.dirty[0]&61456&&o){let p={};b!=null&&!vt(b,o==null?void 0:o.getCenter())&&(p.center=b),S!=null&&!vt(S,o==null?void 0:o.getZoom())&&(p.zoom=S),h!=null&&!vt(h,o==null?void 0:o.getBearing())&&(p.bearing=h),m!=null&&!vt(m,o==null?void 0:o.getPitch())&&(p.pitch=m),Object.keys(p).length&&o.easeTo(p)}n.$$.dirty[0]&65552&&k&&!vt(k,o==null?void 0:o.getBounds())&&(o==null||o.fitBounds(k)),n.$$.dirty[0]&16|n.$$.dirty[1]&1&&(U?o==null||o.doubleClickZoom.enable():o==null||o.doubleClickZoom.disable())},[N,d,c,ne,o,l,r,i,he,ve,F,W,b,S,m,h,k,u,f,g,_,x,O,v,y,M,z,E,D,K,I,U,$,A,oe,le,we,me,te,ie,ue,Ce,ce,Ie,B,a,s,_e]}class ma extends Fe{constructor(e){super(),De(this,e,No,Mo,Se,{map:17,mapContainer:1,class:2,style:18,diffStyleUpdates:19,center:12,zoom:13,pitch:14,bearing:15,bounds:16,hash:20,updateHash:21,loaded:0,minZoom:22,maxZoom:23,minPitch:24,maxPitch:25,renderWorldCopies:26,dragPan:27,dragRotate:28,pitchWithRotate:29,antialias:30,zoomOnDoubleClick:31,locale:32,interactive:33,attributionControl:34,cooperativeGestures:35,preserveDrawingBuffer:36,maxBounds:37,images:38,standardControls:3,filterLayers:39,transformRequest:40},null,[-1,-1])}}var To=Object.defineProperty,Vi=n=>{throw TypeError(n)},Oo=(n,e,t)=>e in n?To(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,xe=(n,e,t)=>Oo(n,typeof e!="symbol"?e+"":e,t),Ki=(n,e,t)=>e.has(n)||Vi("Cannot "+t),ae=(n,e,t)=>(Ki(n,e,"read from private field"),t?t.call(n):e.get(n)),Qn=(n,e,t)=>e.has(n)?Vi("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Vn=(n,e,t,i)=>(Ki(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t);function X(){}function Io(n,e){for(const t in e)n[t]=e[t];return n}function Yi(n){return n()}function Kn(){return Object.create(null)}function je(n){n.forEach(Yi)}function Xi(n){return typeof n=="function"}function it(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Bt;function ye(n,e){return n===e?!0:(Bt||(Bt=document.createElement("a")),Bt.href=e,n===Bt.href)}function Po(n){return Object.keys(n).length===0}function Ro(n,e,t,i){if(n){const r=Ji(n,e,t,i);return n[0](r)}}function Ji(n,e,t,i){return n[1]&&i?Io(t.ctx.slice(),n[1](i(e))):t.ctx}function Ao(n,e,t,i){if(n[2]&&i){const r=n[2](i(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const o=[],l=Math.max(e.dirty.length,r.length);for(let s=0;s<l;s+=1)o[s]=e.dirty[s]|r[s];return o}return e.dirty|r}return e.dirty}function Wo(n,e,t,i,r,o){if(r){const l=Ji(e,t,i,o);n.p(l,r)}}function zo(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let i=0;i<t;i++)e[i]=-1;return e}return-1}function Yn(n){return n??""}function G(n,e){n.appendChild(e)}function ee(n,e,t){n.insertBefore(e,t||null)}function J(n){n.parentNode&&n.parentNode.removeChild(n)}function Y(n){return document.createElement(n)}function ze(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Je(n){return document.createTextNode(n)}function ke(){return Je(" ")}function Fo(){return Je("")}function Ee(n,e,t,i){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}function Do(n){return function(e){return e.preventDefault(),n.call(this,e)}}function C(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Uo(n){return Array.from(n.childNodes)}function Ot(n,e){e=""+e,n.data!==e&&(n.data=e)}function Xn(n,e){n.value=e??""}function Oe(n,e,t){n.classList.toggle(e,!!t)}function Bo(n,e,{bubbles:t=!1,cancelable:i=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:i})}let It;function Tt(n){It=n}function $i(){if(!It)throw new Error("Function called outside component initialization");return It}function Ho(n){$i().$$.on_destroy.push(n)}function Zo(){const n=$i();return(e,t,{cancelable:i=!1}={})=>{const r=n.$$.callbacks[e];if(r){const o=Bo(e,t,{cancelable:i});return r.slice().forEach(l=>{l.call(n,o)}),!o.defaultPrevented}return!0}}function Jn(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(i=>i.call(this,e))}const Et=[],gn=[];let wt=[];const $n=[],Go=Promise.resolve();let bn=!1;function jo(){bn||(bn=!0,Go.then(er))}function yn(n){wt.push(n)}const dn=new Set;let pt=0;function er(){if(pt!==0)return;const n=It;do{try{for(;pt<Et.length;){const e=Et[pt];pt++,Tt(e),qo(e.$$)}}catch(e){throw Et.length=0,pt=0,e}for(Tt(null),Et.length=0,pt=0;gn.length;)gn.pop()();for(let e=0;e<wt.length;e+=1){const t=wt[e];dn.has(t)||(dn.add(t),t())}wt.length=0}while(Et.length);for(;$n.length;)$n.pop()();bn=!1,dn.clear(),Tt(n)}function qo(n){if(n.fragment!==null){n.update(),je(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(yn)}}function Qo(n){const e=[],t=[];wt.forEach(i=>n.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),wt=e}const Gt=new Set;let ct;function jt(){ct={r:0,c:[],p:ct}}function qt(){ct.r||je(ct.c),ct=ct.p}function re(n,e){n&&n.i&&(Gt.delete(n),n.i(e))}function de(n,e,t,i){if(n&&n.o){if(Gt.has(n))return;Gt.add(n),ct.c.push(()=>{Gt.delete(n),i&&(t&&n.d(1),i())}),n.o(e)}else i&&i()}function ei(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Vo(n,e){de(n,1,1,()=>{e.delete(n.key)})}function Ko(n,e,t,i,r,o,l,s,a,u,d,c){let f=n.length,g=o.length,b=f;const S={};for(;b--;)S[n[b].key]=b;const m=[],h=new Map,k=new Map,_=[];for(b=g;b--;){const v=c(r,o,b),y=t(v);let M=l.get(y);M?_.push(()=>M.p(v,e)):(M=u(y,v),M.c()),h.set(y,m[b]=M),y in S&&k.set(y,Math.abs(b-S[y]))}const x=new Set,N=new Set;function O(v){re(v,1),v.m(s,d),l.set(v.key,v),d=v.first,g--}for(;f&&g;){const v=m[g-1],y=n[f-1],M=v.key,z=y.key;v===y?(d=v.first,f--,g--):h.has(z)?!l.has(M)||x.has(M)?O(v):N.has(z)?f--:k.get(M)>k.get(z)?(N.add(M),O(v)):(x.add(z),f--):(a(y,l),f--)}for(;f--;){const v=n[f];h.has(v.key)||a(v,l)}for(;g;)O(m[g-1]);return je(_),m}function $e(n){n&&n.c()}function Ze(n,e,t){const{fragment:i,after_update:r}=n.$$;i&&i.m(e,t),yn(()=>{const o=n.$$.on_mount.map(Yi).filter(Xi);n.$$.on_destroy?n.$$.on_destroy.push(...o):je(o),n.$$.on_mount=[]}),r.forEach(yn)}function Ge(n,e){const t=n.$$;t.fragment!==null&&(Qo(t.after_update),je(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Yo(n,e){n.$$.dirty[0]===-1&&(Et.push(n),jo(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function rt(n,e,t,i,r,o,l=null,s=[-1]){const a=It;Tt(n);const u=n.$$={fragment:null,ctx:[],props:o,update:X,not_equal:r,bound:Kn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Kn(),dirty:s,skip_bound:!1,root:e.target||a.$$.root};l&&l(u.root);let d=!1;if(u.ctx=t?t(n,e.props||{},(c,f,...g)=>{const b=g.length?g[0]:f;return u.ctx&&r(u.ctx[c],u.ctx[c]=b)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](b),d&&Yo(n,c)),f}):[],u.update(),d=!0,je(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const c=Uo(e.target);u.fragment&&u.fragment.l(c),c.forEach(J)}else u.fragment&&u.fragment.c();e.intro&&re(n.$$.fragment),Ze(n,e.target,e.anchor),er()}Tt(a)}class ot{constructor(){xe(this,"$$"),xe(this,"$$set")}$destroy(){Ge(this,1),this.$destroy=X}$on(e,t){if(!Xi(t))return X;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const r=i.indexOf(t);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!Po(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Xo="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Xo);function Jo(n){let e,t;return{c(){e=ze("svg"),t=ze("path"),C(t,"d","M13.12.706a.982.982 0 0 0-1.391 0L6.907 5.517 2.087.696a.982.982 0 1 0-1.391 1.39l4.821 4.821L.696 11.73a.982.982 0 1 0 1.39 1.39l4.821-4.821 4.822 4.821a.982.982 0 1 0 1.39-1.39L8.298 6.908l4.821-4.822a.988.988 0 0 0 0-1.38Z"),C(e,"viewBox","0 0 14 14"),C(e,"width","13"),C(e,"height","13"),C(e,"class","svelte-en2qvf")},m(i,r){ee(i,e,r),G(e,t)},p:X,i:X,o:X,d(i){i&&J(e)}}}class tr extends ot{constructor(e){super(),rt(this,e,null,Jo,it,{})}}function $o(n){let e,t;return{c(){e=ze("svg"),t=ze("path"),C(t,"d","M15 0C6.705 0 0 6.705 0 15C0 23.295 6.705 30 15 30C23.295 30 30 23.295 30 15C30 6.705 23.295 0 15 0ZM22.5 20.385L20.385 22.5L15 17.115L9.615 22.5L7.5 20.385L12.885 15L7.5 9.615L9.615 7.5L15 12.885L20.385 7.5L22.5 9.615L17.115 15L22.5 20.385Z"),C(e,"viewBox","0 0 30 30"),C(e,"fill","none"),C(e,"xmlns","http://www.w3.org/2000/svg"),C(e,"class","svelte-d2loi5")},m(i,r){ee(i,e,r),G(e,t)},p:X,i:X,o:X,d(i){i&&J(e)}}}class nr extends ot{constructor(e){super(),rt(this,e,null,$o,it,{})}}function es(n){let e,t;return{c(){e=Y("img"),ye(e.src,t=n[3]+"area.svg")||C(e,"src",t),C(e,"alt",n[6]),C(e,"class","svelte-ltkwvy")},m(i,r){ee(i,e,r)},p(i,r){r&8&&!ye(e.src,t=i[3]+"area.svg")&&C(e,"src",t),r&64&&C(e,"alt",i[6])},d(i){i&&J(e)}}}function ts(n){let e,t;return{c(){e=Y("img"),ye(e.src,t=n[3]+"reverse.svg")||C(e,"src",t),C(e,"alt",n[6]),C(e,"class","svelte-ltkwvy")},m(i,r){ee(i,e,r)},p(i,r){r&8&&!ye(e.src,t=i[3]+"reverse.svg")&&C(e,"src",t),r&64&&C(e,"alt",i[6])},d(i){i&&J(e)}}}function ns(n){let e,t;return{c(){e=Y("img"),ye(e.src,t=n[3]+"poi.svg")||C(e,"src",t),C(e,"alt",n[6]),C(e,"class","svelte-ltkwvy")},m(i,r){ee(i,e,r)},p(i,r){r&8&&!ye(e.src,t=i[3]+"poi.svg")&&C(e,"src",t),r&64&&C(e,"alt",i[6])},d(i){i&&J(e)}}}function is(n){let e,t;return{c(){e=Y("img"),ye(e.src,t=n[3]+"postal_code.svg")||C(e,"src",t),C(e,"alt",n[6]),C(e,"class","svelte-ltkwvy")},m(i,r){ee(i,e,r)},p(i,r){r&8&&!ye(e.src,t=i[3]+"postal_code.svg")&&C(e,"src",t),r&64&&C(e,"alt",i[6])},d(i){i&&J(e)}}}function rs(n){let e,t;return{c(){e=Y("img"),ye(e.src,t=n[3]+"street.svg")||C(e,"src",t),C(e,"alt",n[6]),C(e,"class","svelte-ltkwvy")},m(i,r){ee(i,e,r)},p(i,r){r&8&&!ye(e.src,t=i[3]+"street.svg")&&C(e,"src",t),r&64&&C(e,"alt",i[6])},d(i){i&&J(e)}}}function os(n){let e,t;return{c(){e=Y("img"),ye(e.src,t=n[3]+"road.svg")||C(e,"src",t),C(e,"alt",n[6]),C(e,"class","svelte-ltkwvy")},m(i,r){ee(i,e,r)},p(i,r){r&8&&!ye(e.src,t=i[3]+"road.svg")&&C(e,"src",t),r&64&&C(e,"alt",i[6])},d(i){i&&J(e)}}}function ss(n){let e,t;return{c(){e=Y("img"),ye(e.src,t=n[3]+"housenumber.svg")||C(e,"src",t),C(e,"alt",n[6]),C(e,"class","svelte-ltkwvy")},m(i,r){ee(i,e,r)},p(i,r){r&8&&!ye(e.src,t=i[3]+"housenumber.svg")&&C(e,"src",t),r&64&&C(e,"alt",i[6])},d(i){i&&J(e)}}}function ls(n){let e,t,i,r;return{c(){e=Y("img"),ye(e.src,t=n[5])||C(e,"src",t),C(e,"alt",n[4]),C(e,"class","svelte-ltkwvy")},m(o,l){ee(o,e,l),i||(r=Ee(e,"error",n[14]),i=!0)},p(o,l){l&32&&!ye(e.src,t=o[5])&&C(e,"src",t),l&16&&C(e,"alt",o[4])},d(o){o&&J(e),i=!1,r()}}}function ti(n){let e,t;return{c(){e=Y("span"),t=Je(n[6]),C(e,"class","secondary svelte-ltkwvy")},m(i,r){ee(i,e,r),G(e,t)},p(i,r){r&64&&Ot(t,i[6])},d(i){i&&J(e)}}}function as(n){let e,t,i,r,o,l,s,a,u,d=(n[7]?n[0].place_name:n[0].place_name.replace(/,.*/,""))+"",c,f,g=n[2]==="always"||n[2]!=="never"&&!n[0].address&&!n[0].id.startsWith("road.")&&!n[0].id.startsWith("address.")&&!n[0].id.startsWith("postal_code.")&&(!n[0].id.startsWith("poi.")||!n[5])&&!n[7],b,S,m=(n[7]?"":n[0].place_name.replace(/[^,]*,?\s*/,""))+"",h,k,_;function x(y,M){return M&1&&(t=null),M&1&&(i=null),M&1&&(r=null),M&1&&(o=null),y[5]?ls:y[0].address?ss:(t==null&&(t=!!y[0].id.startsWith("road.")),t?os:(i==null&&(i=!!y[0].id.startsWith("address.")),i?rs:(r==null&&(r=!!y[0].id.startsWith("postal_code.")),r?is:(o==null&&(o=!!y[0].id.startsWith("poi.")),o?ns:y[7]?ts:es))))}let N=x(n,-1),O=N(n),v=g&&ti(n);return{c(){e=Y("li"),O.c(),l=ke(),s=Y("span"),a=Y("span"),u=Y("span"),c=Je(d),f=ke(),v&&v.c(),b=ke(),S=Y("span"),h=Je(m),C(u,"class","primary svelte-ltkwvy"),C(a,"class","svelte-ltkwvy"),C(S,"class","line2 svelte-ltkwvy"),C(s,"class","texts svelte-ltkwvy"),C(e,"tabindex","0"),C(e,"data-selected",n[1]),C(e,"class","svelte-ltkwvy"),Oe(e,"selected",n[1])},m(y,M){ee(y,e,M),O.m(e,null),G(e,l),G(e,s),G(s,a),G(a,u),G(u,c),G(a,f),v&&v.m(a,null),G(s,b),G(s,S),G(S,h),k||(_=[Ee(e,"mouseenter",n[12]),Ee(e,"focus",n[13])],k=!0)},p(y,[M]){N===(N=x(y,M))&&O?O.p(y,M):(O.d(1),O=N(y),O&&(O.c(),O.m(e,l))),M&1&&d!==(d=(y[7]?y[0].place_name:y[0].place_name.replace(/,.*/,""))+"")&&Ot(c,d),M&37&&(g=y[2]==="always"||y[2]!=="never"&&!y[0].address&&!y[0].id.startsWith("road.")&&!y[0].id.startsWith("address.")&&!y[0].id.startsWith("postal_code.")&&(!y[0].id.startsWith("poi.")||!y[5])&&!y[7]),g?v?v.p(y,M):(v=ti(y),v.c(),v.m(a,null)):v&&(v.d(1),v=null),M&1&&m!==(m=(y[7]?"":y[0].place_name.replace(/[^,]*,?\s*/,""))+"")&&Ot(h,m),M&2&&C(e,"data-selected",y[1]),M&2&&Oe(e,"selected",y[1])},i:X,o:X,d(y){y&&J(e),O.d(),v&&v.d(),k=!1,je(_)}}}function us(n,e,t){var i;let r,o,{feature:l}=e,{selected:s=!1}=e,{showPlaceType:a}=e,{missingIconsCache:u}=e,{iconsBaseUrl:d}=e;const c=(i=l.properties)==null?void 0:i.categories;let f,g,b=0,S=l.place_type[0]==="reverse";function m(){g&&u.add(g),t(10,b++,b)}function h(x){Jn.call(this,n,x)}function k(x){Jn.call(this,n,x)}const _=()=>m();return n.$$set=x=>{"feature"in x&&t(0,l=x.feature),"selected"in x&&t(1,s=x.selected),"showPlaceType"in x&&t(2,a=x.showPlaceType),"missingIconsCache"in x&&t(9,u=x.missingIconsCache),"iconsBaseUrl"in x&&t(3,d=x.iconsBaseUrl)},n.$$.update=()=>{var x,N,O,v;if(n.$$.dirty&3640)do t(11,r--,r),t(4,f=c==null?void 0:c[r]),t(5,g=f?d+f.replace(/ /g,"_")+".svg":void 0);while(r>-1&&(!g||u.has(g)));n.$$.dirty&1&&t(6,o=((N=(x=l.properties)==null?void 0:x.categories)==null?void 0:N.join(", "))??((v=(O=l.properties)==null?void 0:O.place_type_name)==null?void 0:v[0])??l.place_type[0])},t(11,r=(c==null?void 0:c.length)??0),[l,s,a,d,f,g,o,S,m,u,b,r,h,k,_]}class cs extends ot{constructor(e){super(),rt(this,e,us,as,it,{feature:0,selected:1,showPlaceType:2,missingIconsCache:9,iconsBaseUrl:3})}}function ds(n){let e;return{c(){e=Y("div"),e.innerHTML='<svg viewBox="0 0 18 18" width="24" height="24" class="svelte-7cmwmc"><path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"></path><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"></path></svg>',C(e,"class","svelte-7cmwmc")},m(t,i){ee(t,e,i)},p:X,i:X,o:X,d(t){t&&J(e)}}}class fs extends ot{constructor(e){super(),rt(this,e,null,ds,it,{})}}function ms(n){let e,t,i;return{c(){e=ze("svg"),t=ze("path"),C(t,"stroke-width","4"),C(t,"d","M 5,33.103579 C 5,17.607779 18.457,5 35,5 C 51.543,5 65,17.607779 65,33.103579 C 65,56.388679 40.4668,76.048179 36.6112,79.137779 C 36.3714,79.329879 36.2116,79.457979 36.1427,79.518879 C 35.8203,79.800879 35.4102,79.942779 35,79.942779 C 34.5899,79.942779 34.1797,79.800879 33.8575,79.518879 C 33.7886,79.457979 33.6289,79.330079 33.3893,79.138079 C 29.5346,76.049279 5,56.389379 5,33.103579 Z M 35.0001,49.386379 C 43.1917,49.386379 49.8323,42.646079 49.8323,34.331379 C 49.8323,26.016779 43.1917,19.276479 35.0001,19.276479 C 26.8085,19.276479 20.1679,26.016779 20.1679,34.331379 C 20.1679,42.646079 26.8085,49.386379 35.0001,49.386379 Z"),C(t,"class","svelte-gzo3ar"),C(e,"width",i=n[0]==="list"?20:void 0),C(e,"viewBox","0 0 70 85"),C(e,"fill","none"),C(e,"class","svelte-gzo3ar"),Oe(e,"in-map",n[0]!=="list"),Oe(e,"list-icon",n[0]==="list")},m(r,o){ee(r,e,o),G(e,t)},p(r,[o]){o&1&&i!==(i=r[0]==="list"?20:void 0)&&C(e,"width",i),o&1&&Oe(e,"in-map",r[0]!=="list"),o&1&&Oe(e,"list-icon",r[0]==="list")},i:X,o:X,d(r){r&&J(e)}}}function hs(n,e,t){let{displayIn:i}=e;return n.$$set=r=>{"displayIn"in r&&t(0,i=r.displayIn)},[i]}class gs extends ot{constructor(e){super(),rt(this,e,hs,ms,it,{displayIn:0})}}function bs(n){let e,t;return{c(){e=ze("svg"),t=ze("path"),C(t,"d","M30.003-26.765C13.46-26.765 0-14.158 0 1.337c0 23.286 24.535 42.952 28.39 46.04.24.192.402.316.471.376.323.282.732.424 1.142.424.41 0 .82-.142 1.142-.424.068-.06.231-.183.471-.376 3.856-3.09 28.39-22.754 28.39-46.04 0-15.495-13.46-28.102-30.003-28.102Zm1.757 12.469c4.38 0 7.858 1.052 10.431 3.158 2.595 2.105 3.89 4.913 3.89 8.422 0 2.34-.53 4.362-1.593 6.063-1.063 1.702-3.086 3.616-6.063 5.742-2.042 1.51-3.337 2.659-3.89 3.446-.532.787-.8 1.82-.8 3.096v1.914h-8.449V15.18c0-2.041.434-3.815 1.306-5.325.872-1.51 2.467-3.118 4.785-4.82 2.233-1.594 3.7-2.89 4.402-3.889a5.582 5.582 0 0 0 1.087-3.35c0-1.382-.51-2.435-1.531-3.158-1.02-.723-2.45-1.087-4.28-1.087-3.19 0-6.826 1.047-10.91 3.131l-3.472-6.986c4.742-2.659 9.77-3.992 15.087-3.992Zm-1.88 37.324c1.765 0 3.124.472 4.08 1.408.98.936 1.47 2.276 1.47 4.02 0 1.68-.49 3.007-1.47 3.985-.977.957-2.336 1.435-4.08 1.435-1.787 0-3.171-.465-4.15-1.4-.978-.958-1.47-2.298-1.47-4.02 0-1.787.48-3.14 1.436-4.054.957-.915 2.355-1.374 4.184-1.374Z"),C(e,"viewBox","0 0 60.006 21.412"),C(e,"width","14"),C(e,"height","20"),C(e,"class","svelte-en2qvf")},m(i,r){ee(i,e,r),G(e,t)},p:X,i:X,o:X,d(i){i&&J(e)}}}class ys extends ot{constructor(e){super(),rt(this,e,null,bs,it,{})}}function vs(n){let e,t,i;return{c(){e=ze("svg"),t=ze("circle"),i=ze("path"),C(t,"cx","4.789"),C(t,"cy","4.787"),C(t,"r","3.85"),C(t,"class","svelte-1aq105l"),C(i,"d","M12.063 12.063 7.635 7.635"),C(i,"class","svelte-1aq105l"),C(e,"xmlns","http://www.w3.org/2000/svg"),C(e,"width","13"),C(e,"height","13"),C(e,"viewBox","0 0 13 13"),C(e,"class","svelte-1aq105l")},m(r,o){ee(r,e,o),G(e,t),G(e,i)},p:X,i:X,o:X,d(r){r&&J(e)}}}class ps extends ot{constructor(e){super(),rt(this,e,null,vs,it,{})}}function Ls(n,e,t){const i=e[1],r=e[0],o=i-r;return n===i&&t?n:((n-r)%o+o)%o+r}function Kt(n){const e=[...n];return e[2]<e[0]&&(Math.abs((e[0]+e[2]+360)/2)>Math.abs((e[0]-360+e[2])/2)?e[0]-=360:e[2]+=360),e}let _t;async function Es(n,e,t){const i=n==null?void 0:n.getCenterAndZoom();for(const r of e??[])if(!(i&&(r.minZoom!=null&&r.minZoom>i[0]||r.maxZoom!=null&&r.maxZoom<i[0]))){if(r.type==="fixed")return r.coordinates.join(",");e:if(r.type==="client-geolocation"){if(_t&&r.cachedLocationExpiry&&_t.time+r.cachedLocationExpiry>Date.now()){if(!_t.coords)break e;return _t.coords}let o;try{return o=await new Promise((l,s)=>{t.signal.addEventListener("abort",()=>{s(Error("aborted"))}),navigator.geolocation.getCurrentPosition(a=>{l([a.coords.longitude,a.coords.latitude].map(u=>u.toFixed(6)).join(","))},a=>{s(a)},r)}),o}catch{}finally{r.cachedLocationExpiry&&(_t={time:Date.now(),coords:o})}if(t.signal.aborted)return}if(r.type==="server-geolocation")return"ip";if(i&&r.type==="map-center")return i[1].toFixed(6)+","+i[2].toFixed(6)}}const Ss=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([6-9][0-9])\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([6-9][0-9])\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*(EAST|WEST|[EW])?$/i,ni=/^([+-]?[0-8]?[0-9])\s+([0-5]?[0-9]\.\d{3,})[\s,]{1,}([+-]?[0-1]?[0-9]?[0-9])\s+([0-5]?[0-9]\.\d{3,})$/,ii=/^(NORTH|SOUTH|[NS])?[\s]*([+-]?[0-8]?[0-9](?:[\.,]\d{3,}))[\s]*([•º°]?)[\s]*(NORTH|SOUTH|[NS])?[\s]*[,/;]?[\s]*(EAST|WEST|[EW])?[\s]*([+-]?[0-1]?[0-9]?[0-9](?:[\.,]\d{3,}))[\s]*([•º°]?)[\s]*(EAST|WEST|[EW])?$/i,ri=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*(\.)\s*([0-5]?[0-9])\s*(\.)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*(\.)\s*([0-5]?[0-9])\s*(\.)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(EAST|WEST|[EW])?$/i,oi=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*(D(?:EG)?(?:REES)?)\s*([0-5]?[0-9])\s*(M(?:IN)?(?:UTES)?)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(S(?:EC)?(?:ONDS)?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*(D(?:EG)?(?:REES)?)\s*([0-5]?[0-9])\s*(M(?:IN)?(?:UTES)?)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(S(?:EC)?(?:ONDS)?)\s*(EAST|WEST|[EW])?$/i,si=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([0-5]?[0-9](?:[\.,]\d{1,})?)?\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*,?((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(''|′′|’’|´´|["″”\.])?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([0-5]?[0-9](?:[\.,]\d{1,})?)?\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*,?((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(''|′′|´´|’’|["″”\.])?\s*(EAST|WEST|[EW])?$/i;function ws(n){if(!["DMS","DM","DD"].includes(n))throw new Error("invalid format specified");if(this.decimalCoordinates&&this.decimalCoordinates.trim()){const e=this.decimalCoordinates.split(",").map(g=>Number(g.trim())),t=Number(e[0]),i=Number(e[1]),r=Math.abs(t),o=Math.abs(i),l=t>0?"N":"S",s=i>0?"E":"W";let a;n=="DD"&&(a=`${r}° ${l}, ${o}° ${s}`);const u=Math.floor(r),d=Math.floor(o),c=(r-u)*60,f=(o-d)*60;if(n=="DM"){let g=li(c,3).toFixed(3).padStart(6,"0"),b=li(f,3).toFixed(3).padStart(6,"0");g.endsWith(".000")&&b.endsWith(".000")&&(g=g.replace(/\.000$/,""),b=b.replace(/\.000$/,"")),a=`${u}° ${g}' ${l}, ${d}° ${b}' ${s}`}if(n=="DMS"){const g=Math.floor(c),b=Math.floor(f);let S=((c-g)*60).toFixed(1).padStart(4,"0"),m=((f-b)*60).toFixed(1).padStart(4,"0");const h=g.toString().padStart(2,"0"),k=b.toString().padStart(2,"0");S.endsWith(".0")&&m.endsWith(".0")&&(S=S.replace(/\.0$/,""),m=m.replace(/\.0$/,"")),a=`${u}° ${h}' ${S}" ${l}, ${d}° ${k}' ${m}" ${s}`}return a}else throw new Error("no decimal coordinates to convert")}function li(n,e){const t=Math.pow(10,e);return Math.round((n+Number.EPSILON)*t)/t}function Mn(n,e){e||(e=5),n=n.replace(/\s+/g," ").trim();let t=null,i=null,r="",o="",l=null,s=[],a=!1;if(Ss.test(n))throw new Error("invalid coordinate value");if(ni.test(n))if(s=ni.exec(n),a=xt(s),a)t=Math.abs(s[1])+s[2]/60,Number(s[1])<0&&(t*=-1),i=Math.abs(s[3])+s[4]/60,Number(s[3])<0&&(i*=-1),l="DM";else throw new Error("invalid coordinate format");else if(ii.test(n))if(s=ii.exec(n),a=xt(s),a){if(t=s[2],i=s[6],t.includes(",")&&(t=t.replace(",",".")),i.includes(",")&&(i=i.replace(",",".")),l="DD",Number(Math.round(t))==Number(t))throw new Error("integer only coordinate provided");if(Number(Math.round(i))==Number(i))throw new Error("integer only coordinate provided");s[1]?(r=s[1],o=s[5]):s[4]&&(r=s[4],o=s[8])}else throw new Error("invalid decimal coordinate format");else if(ri.test(n))if(s=ri.exec(n),a=xt(s),a)t=Math.abs(parseInt(s[2])),s[4]&&(t+=s[4]/60,l="DM"),s[6]&&(t+=s[6].replace(",",".")/3600,l="DMS"),parseInt(s[2])<0&&(t=-1*t),i=Math.abs(parseInt(s[9])),s[11]&&(i+=s[11]/60),s[13]&&(i+=s[13].replace(",",".")/3600),parseInt(s[9])<0&&(i=-1*i),s[1]?(r=s[1],o=s[8]):s[7]&&(r=s[7],o=s[14]);else throw new Error("invalid DMS coordinates format");else if(oi.test(n))if(s=oi.exec(n),a=xt(s),a)t=Math.abs(parseInt(s[2])),s[4]&&(t+=s[4]/60,l="DM"),s[6]&&(t+=s[6]/3600,l="DMS"),parseInt(s[2])<0&&(t=-1*t),i=Math.abs(parseInt(s[10])),s[12]&&(i+=s[12]/60),s[14]&&(i+=s[14]/3600),parseInt(s[10])<0&&(i=-1*i),s[1]?(r=s[1],o=s[9]):s[8]&&(r=s[8],o=s[16]);else throw new Error("invalid DMS coordinates format");else if(si.test(n)){if(s=si.exec(n),a=xt(s),s.filter(u=>u).length<=5)throw new Error("invalid coordinates format");if(a)t=Math.abs(parseInt(s[2])),s[4]&&(t+=s[4].replace(",",".")/60,l="DM"),s[6]&&(t+=s[6].replace(",",".")/3600,l="DMS"),parseInt(s[2])<0&&(t=-1*t),i=Math.abs(parseInt(s[10])),s[12]&&(i+=s[12].replace(",",".")/60),s[14]&&(i+=s[14].replace(",",".")/3600),parseInt(s[10])<0&&(i=-1*i),s[1]?(r=s[1],o=s[9]):s[8]&&(r=s[8],o=s[16]);else throw new Error("invalid coordinates format")}if(a){if(Math.abs(i)>=180)throw new Error("invalid longitude value");if(Math.abs(t)>=90)throw new Error("invalid latitude value");if(r&&!o||!r&&o)throw new Error("invalid coordinates value");if(r&&r==o)throw new Error("invalid coordinates format");t.toString().includes(",")&&(t=t.replace(",",".")),i.toString().includes(",")&&(i=i.replace(",","."));let u=/S|SOUTH/i;u.test(r)&&t>0&&(t=-1*t),u=/W|WEST/i,u.test(o)&&i>0&&(i=-1*i);const d=s[0].trim();let c,f;const g=/[,/;\u0020]/g,b=d.match(g);if(b==null){const h=Math.floor(n.length/2);c=d.substring(0,h).trim(),f=d.substring(h).trim()}else{let h;b.length%2==1?h=Math.floor(b.length/2):h=b.length/2-1;let k=0;if(h==0)k=d.indexOf(b[0]),c=d.substring(0,k).trim(),f=d.substring(k+1).trim();else{let _=0,x=0;for(;_<=h;)k=d.indexOf(b[_],x),x=k+1,_++;c=d.substring(0,k).trim(),f=d.substring(k+1).trim()}}const S=c.split(".");if(S.length==2&&S[1]==0&&S[1].length!=2)throw new Error("invalid coordinates format");const m=f.split(".");if(m.length==2&&m[1]==0&&m[1].length!=2)throw new Error("invalid coordinates format");if(/^\d+$/.test(c)||/^\d+$/.test(f))throw new Error("degree only coordinate/s provided");return t=Number(Number(t).toFixed(e)),i=Number(Number(i).toFixed(e)),Object.freeze({verbatimCoordinates:d,verbatimLatitude:c,verbatimLongitude:f,decimalLatitude:t,decimalLongitude:i,decimalCoordinates:`${t},${i}`,originalFormat:l,closeEnough:Cs,toCoordinateFormat:ws})}else throw new Error("coordinates pattern match failed")}function xt(n){if(!isNaN(n[0]))return!1;const e=[...n];if(e.shift(),e.length%2>0)return!1;const t=/^[-+]?\d+([\.,]\d+)?$/,i=/[eastsouthnorthwest]+/i,r=e.length/2;for(let o=0;o<r;o++){const l=e[o],s=e[o+r],a=t.test(l)&&t.test(s),u=i.test(l)&&i.test(s),d=l==s;if(!(l==null&&s==null)){if(l==null||s==null)return!1;if(a||u||d)continue;return!1}}return!0}function ai(n,e){const t=Math.abs(n-e);return Number(t.toFixed(6))<=1e-5}function Cs(n){if(!n)throw new Error("coords must be provided");if(n.includes(",")){const e=n.split(",");if(Number(e[0])==NaN||Number(e[1])==NaN)throw new Error("coords are not valid decimals");return ai(this.decimalLatitude,Number(e[0]))&&ai(this.decimalLongitude,e[1])}else throw new Error("coords being tested must be separated by a comma")}const _s=Object.freeze({DMS:"DMS",DM:"DM",DD:"DD"});Mn.to=_s;const xs=[{verbatimCoordinates:"40.123, -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123° N 74.123° W",verbatimLatitude:"40.123° N",verbatimLongitude:"74.123° W"},{verbatimCoordinates:"40.123° N 74.123° W",verbatimLatitude:"40.123° N",verbatimLongitude:"74.123° W"},{verbatimCoordinates:'40° 7´ 22.8" N 74° 7´ 22.8" W',verbatimLatitude:'40° 7´ 22.8" N',verbatimLongitude:'74° 7´ 22.8" W'},{verbatimCoordinates:"40° 7.38’ , -74° 7.38’",verbatimLatitude:"40° 7.38’",verbatimLongitude:"-74° 7.38’"},{verbatimCoordinates:"N40°7’22.8’’, W74°7’22.8’’",verbatimLatitude:"N40°7’22.8’’",verbatimLongitude:"W74°7’22.8’’"},{verbatimCoordinates:'40°7’22.8"N, 74°7’22.8"W',verbatimLatitude:'40°7’22.8"N',verbatimLongitude:'74°7’22.8"W'},{verbatimCoordinates:`40°7'22.8"N, 74°7'22.8"W`,verbatimLatitude:`40°7'22.8"N`,verbatimLongitude:`74°7'22.8"W`},{verbatimCoordinates:"40 7 22.8, -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"},{verbatimCoordinates:"40.123 -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123°,-74.123°",verbatimLatitude:"40.123°",verbatimLongitude:"-74.123°"},{verbatimCoordinates:"40.123N74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"4007.38N7407.38W",verbatimLatitude:"4007.38N",verbatimLongitude:"7407.38W"},{verbatimCoordinates:'40°7’22.8"N, 74°7’22.8"W',verbatimLatitude:'40°7’22.8"N',verbatimLongitude:'74°7’22.8"W'},{verbatimCoordinates:"400722.8N740722.8W",verbatimLatitude:"400722.8N",verbatimLongitude:"740722.8W"},{verbatimCoordinates:"N 40 7.38 W 74 7.38",verbatimLatitude:"N 40 7.38",verbatimLongitude:"W 74 7.38"},{verbatimCoordinates:"40:7:22.8N 74:7:22.8W",verbatimLatitude:"40:7:22.8N",verbatimLongitude:"74:7:22.8W"},{verbatimCoordinates:"40:7:23N,74:7:23W",verbatimLatitude:"40:7:23N",verbatimLongitude:"74:7:23W",decimalLatitude:40.1230555555,decimalLongitude:-74.1230555555},{verbatimCoordinates:'40°7’23"N 74°7’23"W',verbatimLatitude:'40°7’23"N',verbatimLongitude:'74°7’23"W',decimalLatitude:40.1230555555,decimalLongitude:-74.12305555555555},{verbatimCoordinates:'40°7’23"S 74°7’23"E',verbatimLatitude:'40°7’23"S',verbatimLongitude:'74°7’23"E',decimalLatitude:-40.1230555555,decimalLongitude:74.12305555555555},{verbatimCoordinates:'40°7’23" -74°7’23"',verbatimLatitude:'40°7’23"',verbatimLongitude:'-74°7’23"',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:'40d 7’ 23" N 74d 7’ 23" W',verbatimLatitude:'40d 7’ 23" N',verbatimLongitude:'74d 7’ 23" W',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:"40.123N 74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"40° 7.38, -74° 7.38",verbatimLatitude:"40° 7.38",verbatimLongitude:"-74° 7.38"},{verbatimCoordinates:"40° 7.38, -74° 7.38",verbatimLatitude:"40° 7.38",verbatimLongitude:"-74° 7.38"},{verbatimCoordinates:"40 7 22.8; -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"}],ks={decimalLatitude:40.123,decimalLongitude:-74.123},Ms=[{verbatimCoordinates:`50°4'17.698"south, 14°24'2.826"east`,verbatimLatitude:`50°4'17.698"south`,verbatimLongitude:`14°24'2.826"east`,decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"50d4m17.698S 14d24m2.826E",verbatimLatitude:"50d4m17.698S",verbatimLongitude:"14d24m2.826E",decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"40:26:46N,79:56:55W",verbatimLatitude:"40:26:46N",verbatimLongitude:"79:56:55W",decimalLatitude:40.44611111111111,decimalLongitude:-79.9486111111111},{verbatimCoordinates:"40:26:46.302N 79:56:55.903W",verbatimLatitude:"40:26:46.302N",verbatimLongitude:"79:56:55.903W",decimalLatitude:40.446195,decimalLongitude:-79.94886194444445},{verbatimCoordinates:"40°26′47″N 79°58′36″W",verbatimLatitude:"40°26′47″N",verbatimLongitude:"79°58′36″W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40d 26′ 47″ N 79d 58′ 36″ W",verbatimLatitude:"40d 26′ 47″ N",verbatimLongitude:"79d 58′ 36″ W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40.446195N 79.948862W",verbatimLatitude:"40.446195N",verbatimLongitude:"79.948862W",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40,446195° 79,948862°",verbatimLatitude:"40,446195°",verbatimLongitude:"79,948862°",decimalLatitude:40.446195,decimalLongitude:79.948862},{verbatimCoordinates:"40° 26.7717, -79° 56.93172",verbatimLatitude:"40° 26.7717",verbatimLongitude:"-79° 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.446195, -79.948862",verbatimLatitude:"40.446195",verbatimLongitude:"-79.948862",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.123256; -74.123256",verbatimLatitude:"40.123256",verbatimLongitude:"-74.123256",decimalLatitude:40.123256,decimalLongitude:-74.123256},{verbatimCoordinates:"18°24S 22°45E",verbatimLatitude:"18°24S",verbatimLongitude:"22°45E",decimalLatitude:-18.4,decimalLongitude:22.75}],Ns=[{verbatimCoordinates:"10.432342S 10.6345345E",verbatimLatitude:"10.432342S",verbatimLongitude:"10.6345345E",decimalLatitude:-10.432342,decimalLongitude:10.6345345},{verbatimCoordinates:"10.00S 10.00E",verbatimLatitude:"10.00S",verbatimLongitude:"10.00E",decimalLatitude:-10,decimalLongitude:10},{verbatimCoordinates:"00.00S 01.00E",verbatimLatitude:"00.00S",verbatimLongitude:"01.00E",decimalLatitude:0,decimalLongitude:1},{verbatimCoordinates:"18.24S 22.45E",verbatimLatitude:"18.24S",verbatimLongitude:"22.45E",decimalLatitude:-18.4,decimalLongitude:22.75},{verbatimCoordinates:"27deg 15min 45.2sec S 18deg 32min 53.7sec E",verbatimLatitude:"27deg 15min 45.2sec S",verbatimLongitude:"18deg 32min 53.7sec E",decimalLatitude:-27.262555555555554,decimalLongitude:18.54825},{verbatimCoordinates:"-23.3245° S / 28.2344° E",verbatimLatitude:"-23.3245° S",verbatimLongitude:"28.2344° E",decimalLatitude:-23.3245,decimalLongitude:28.2344},{verbatimCoordinates:"40° 26.7717 -79° 56.93172",verbatimLatitude:"40° 26.7717",verbatimLongitude:"-79° 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"27.15.45S 18.32.53E",verbatimLatitude:"27.15.45S",verbatimLongitude:"18.32.53E",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"-27.15.45 18.32.53",verbatimLatitude:"-27.15.45",verbatimLongitude:"18.32.53",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"27.15.45.2S 18.32.53.4E",verbatimLatitude:"27.15.45.2S",verbatimLongitude:"18.32.53.4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"27.15.45,2S 18.32.53,4E",verbatimLatitude:"27.15.45,2S",verbatimLongitude:"18.32.53,4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"S23.43563 °  E22.45634 °",verbatimLatitude:"S23.43563 °",verbatimLongitude:"E22.45634 °",decimalLatitude:-23.43563,decimalLongitude:22.45634},{verbatimCoordinates:"27,71372° S 23,07771° E",verbatimLatitude:"27,71372° S",verbatimLongitude:"23,07771° E",decimalLatitude:-27.71372,decimalLongitude:23.07771},{verbatimCoordinates:"27.45.34 S 23.23.23 E",verbatimLatitude:"27.45.34 S",verbatimLongitude:"23.23.23 E",decimalLatitude:-27.759444,decimalLongitude:23.38972222},{verbatimCoordinates:"S 27.45.34 E 23.23.23",verbatimLatitude:"S 27.45.34",verbatimLongitude:"E 23.23.23",decimalLatitude:-27.759444,decimalLongitude:23.38972222},{verbatimCoordinates:"53 16.3863,4 52.8171",verbatimLatitude:"53 16.3863",verbatimLongitude:"4 52.8171",decimalLatitude:53.273105,decimalLongitude:4.88029},{verbatimCoordinates:"50 8.2914,-5 2.4447",verbatimLatitude:"50 8.2914",verbatimLongitude:"-5 2.4447",decimalLatitude:50.13819,decimalLongitude:-5.040745},{verbatimCoordinates:"N 48° 30,6410', E 18° 57,4583'",verbatimLatitude:"N 48° 30,6410'",verbatimLongitude:"E 18° 57,4583'",decimalLatitude:48.51068,decimalLongitude:18.95764},{verbatimCoordinates:"1.23456, 18.33453",verbatimLatitude:"1.23456",verbatimLongitude:"18.33453",decimalLatitude:1.23456,decimalLongitude:18.33453}];function Ts(){const n=[];return xs.forEach(e=>{e.decimalLatitude?n.push(e):n.push({...e,...ks})}),[...n,...Ms,...Ns]}const Os=Ts();Mn.formats=Os.map(n=>n.verbatimCoordinates);const Is=Mn;function ui(n,e,t){const i=n.slice();return i[84]=e[t],i[86]=t,i}function ci(n){let e,t;return e=new fs({}),{c(){$e(e.$$.fragment)},m(i,r){Ze(e,i,r),t=!0},i(i){t||(re(e.$$.fragment,i),t=!0)},o(i){de(e.$$.fragment,i),t=!1},d(i){Ge(e,i)}}}function di(n){let e,t,i,r,o;return t=new ys({}),{c(){e=Y("button"),$e(t.$$.fragment),C(e,"type","button"),C(e,"title",n[9]),C(e,"class","svelte-bz0zu3"),Oe(e,"active",n[0])},m(l,s){ee(l,e,s),Ze(t,e,null),i=!0,r||(o=Ee(e,"click",n[69]),r=!0)},p(l,s){(!i||s[0]&512)&&C(e,"title",l[9]),(!i||s[0]&1)&&Oe(e,"active",l[0])},i(l){i||(re(t.$$.fragment,l),i=!0)},o(l){de(t.$$.fragment,l),i=!1},d(l){l&&J(e),Ge(t),r=!1,o()}}}function Ps(n){let e,t=[],i=new Map,r,o,l,s=ei(n[14]);const a=u=>u[84].id+(u[84].address?","+u[84].address:"");for(let u=0;u<s.length;u+=1){let d=ui(n,s,u),c=a(d);i.set(c,t[u]=fi(c,d))}return{c(){e=Y("ul");for(let u=0;u<t.length;u+=1)t[u].c();C(e,"class","options svelte-bz0zu3")},m(u,d){ee(u,e,d);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);r=!0,o||(l=[Ee(e,"mouseleave",n[73]),Ee(e,"blur",n[74])],o=!0)},p(u,d){d[0]&17880064&&(s=ei(u[14]),jt(),t=Ko(t,d,a,1,u,s,i,e,Vo,fi,null,ui),qt())},i(u){if(!r){for(let d=0;d<s.length;d+=1)re(t[d]);r=!0}},o(u){for(let d=0;d<t.length;d+=1)de(t[d]);r=!1},d(u){u&&J(e);for(let d=0;d<t.length;d+=1)t[d].d();o=!1,je(l)}}}function Rs(n){let e,t,i,r,o,l;return t=new nr({}),{c(){e=Y("div"),$e(t.$$.fragment),i=ke(),r=Y("div"),o=Je(n[7]),C(r,"class","svelte-bz0zu3"),C(e,"class","no-results svelte-bz0zu3")},m(s,a){ee(s,e,a),Ze(t,e,null),G(e,i),G(e,r),G(r,o),l=!0},p(s,a){(!l||a[0]&128)&&Ot(o,s[7])},i(s){l||(re(t.$$.fragment,s),l=!0)},o(s){de(t.$$.fragment,s),l=!1},d(s){s&&J(e),Ge(t)}}}function As(n){let e="",t;return{c(){t=Je(e)},m(i,r){ee(i,t,r)},p:X,i:X,o:X,d(i){i&&J(t)}}}function Ws(n){let e,t,i,r,o,l,s,a,u,d,c;return t=new nr({}),a=new tr({}),{c(){e=Y("div"),$e(t.$$.fragment),i=ke(),r=Y("div"),o=Je(n[6]),l=ke(),s=Y("button"),$e(a.$$.fragment),C(r,"class","svelte-bz0zu3"),C(s,"class","svelte-bz0zu3"),C(e,"class","error svelte-bz0zu3")},m(f,g){ee(f,e,g),Ze(t,e,null),G(e,i),G(e,r),G(r,o),G(e,l),G(e,s),Ze(a,s,null),u=!0,d||(c=Ee(s,"click",n[70]),d=!0)},p(f,g){(!u||g[0]&64)&&Ot(o,f[6])},i(f){u||(re(t.$$.fragment,f),re(a.$$.fragment,f),u=!0)},o(f){de(t.$$.fragment,f),de(a.$$.fragment,f),u=!1},d(f){f&&J(e),Ge(t),Ge(a),d=!1,c()}}}function fi(n,e){let t,i,r;function o(){return e[71](e[86])}function l(){return e[72](e[84])}return i=new cs({props:{feature:e[84],showPlaceType:e[10],selected:e[15]===e[86],missingIconsCache:e[20],iconsBaseUrl:e[12]}}),i.$on("mouseenter",o),i.$on("focus",l),{key:n,first:null,c(){t=Fo(),$e(i.$$.fragment),this.first=t},m(s,a){ee(s,t,a),Ze(i,s,a),r=!0},p(s,a){e=s;const u={};a[0]&16384&&(u.feature=e[84]),a[0]&1024&&(u.showPlaceType=e[10]),a[0]&49152&&(u.selected=e[15]===e[86]),a[0]&4096&&(u.iconsBaseUrl=e[12]),i.$set(u)},i(s){r||(re(i.$$.fragment,s),r=!0)},o(s){de(i.$$.fragment,s),r=!1},d(s){s&&J(t),Ge(i,s)}}}function zs(n){let e,t,i,r,o,l,s,a,u,d,c,f,g,b,S,m,h,k,_,x,N,O=!1;o=new ps({}),c=new tr({});let v=n[19]&&ci(),y=n[5]==="button"&&di(n);const M=n[61].default,z=Ro(M,n,n[60],null),E=[Ws,As,Rs,Ps],D=[];function K(I,U){var $,A;return I[18]?0:I[16]?(($=I[14])==null?void 0:$.length)===0?2:I[16]&&(A=I[14])!=null&&A.length?3:-1:1}return~(m=K(n))&&(h=D[m]=E[m](n)),{c(){e=ke(),t=Y("form"),i=Y("div"),r=Y("button"),$e(o.$$.fragment),l=ke(),s=Y("input"),a=ke(),u=Y("div"),d=Y("button"),$e(c.$$.fragment),f=ke(),v&&v.c(),g=ke(),y&&y.c(),b=ke(),z&&z.c(),S=ke(),h&&h.c(),C(r,"class","search-button svelte-bz0zu3"),C(r,"type","button"),C(s,"placeholder",n[8]),C(s,"aria-label",n[8]),C(s,"class","svelte-bz0zu3"),C(d,"type","button"),C(d,"title",n[3]),C(d,"class","svelte-bz0zu3"),C(u,"class","clear-button-container svelte-bz0zu3"),Oe(u,"displayable",n[1]!==""),C(i,"class","input-group svelte-bz0zu3"),C(t,"tabindex","0"),C(t,"class",k=Yn(n[2])+" svelte-bz0zu3"),Oe(t,"can-collapse",n[4]&&n[1]==="")},m(I,U){ee(I,e,U),ee(I,t,U),G(t,i),G(i,r),Ze(o,r,null),G(i,l),G(i,s),n[63](s),Xn(s,n[1]),G(i,a),G(i,u),G(u,d),Ze(c,d,null),G(u,f),v&&v.m(u,null),G(i,g),y&&y.m(i,null),G(i,b),z&&z.m(i,null),G(t,S),~m&&D[m].m(t,null),_=!0,x||(N=[Ee(r,"click",n[62]),Ee(s,"input",n[64]),Ee(s,"focus",n[65]),Ee(s,"blur",n[66]),Ee(s,"keydown",n[22]),Ee(s,"input",n[67]),Ee(d,"click",n[68]),Ee(t,"submit",Do(n[21]))],x=!0)},p(I,U){(!_||U[0]&256)&&C(s,"placeholder",I[8]),(!_||U[0]&256)&&C(s,"aria-label",I[8]),U[0]&2&&s.value!==I[1]&&Xn(s,I[1]),(!_||U[0]&8)&&C(d,"title",I[3]),I[19]?v?U[0]&524288&&re(v,1):(v=ci(),v.c(),re(v,1),v.m(u,null)):v&&(jt(),de(v,1,1,()=>{v=null}),qt()),(!_||U[0]&2)&&Oe(u,"displayable",I[1]!==""),I[5]==="button"?y?(y.p(I,U),U[0]&32&&re(y,1)):(y=di(I),y.c(),re(y,1),y.m(i,b)):y&&(jt(),de(y,1,1,()=>{y=null}),qt()),z&&z.p&&(!_||U[1]&536870912)&&Wo(z,M,I,I[60],_?Ao(M,I[60],U,null):zo(I[60]),null);let $=m;m=K(I),m===$?~m&&D[m].p(I,U):(h&&(jt(),de(D[$],1,1,()=>{D[$]=null}),qt()),~m?(h=D[m],h?h.p(I,U):(h=D[m]=E[m](I),h.c()),re(h,1),h.m(t,null)):h=null),(!_||U[0]&4&&k!==(k=Yn(I[2])+" svelte-bz0zu3"))&&C(t,"class",k),(!_||U[0]&22)&&Oe(t,"can-collapse",I[4]&&I[1]==="")},i(I){_||(re(O),re(o.$$.fragment,I),re(c.$$.fragment,I),re(v),re(y),re(z,I),re(h),_=!0)},o(I){de(O),de(o.$$.fragment,I),de(c.$$.fragment,I),de(v),de(y),de(z,I),de(h),_=!1},d(I){I&&(J(e),J(t)),Ge(o),n[63](null),Ge(c),v&&v.d(),y&&y.d(),z&&z.d(I),~m&&D[m].d(),x=!1,je(N)}}}function Fs(n,e,t){let i,r,{$$slots:o={},$$scope:l}=e;const s={continental_marine:4,country:4,major_landform:8,region:5,subregion:6,county:7,joint_municipality:8,joint_submunicipality:9,municipality:10,municipal_district:11,locality:12,neighbourhood:13,place:14,postal_code:14,road:16,poi:17,address:18,"poi.peak":15,"poi.shop":18,"poi.cafe":18,"poi.restaurant":18,"poi.aerodrome":13};let{class:a=void 0}=e,{apiKey:u}=e,{bbox:d=void 0}=e,{clearButtonTitle:c="clear"}=e,{clearOnBlur:f=!1}=e,{collapsed:g=!1}=e,{country:b=void 0}=e,{debounceSearch:S=200}=e,{enableReverse:m="never"}=e,{errorMessage:h="Something went wrong…"}=e,{filter:k=()=>!0}=e,{flyTo:_=!0}=e,{fuzzyMatch:x=!0}=e,{language:N=void 0}=e,{limit:O=void 0}=e,{mapController:v=void 0}=e,{minLength:y=2}=e,{noResultsMessage:M="Oops! Looks like you're trying to predict something that's not quite right. We can't seem to find what you're looking for. Maybe try double-checking your spelling or try a different search term. Keep on typing - we'll do our best to get you where you need to go!"}=e,{placeholder:z="Search"}=e,{proximity:E=[{type:"server-geolocation"}]}=e,{reverseActive:D=m==="always"}=e,{reverseButtonTitle:K="toggle reverse geocoding"}=e,{searchValue:I=""}=e,{pickedResultStyle:U="full-geometry"}=e,{showPlaceType:$="if-needed"}=e,{showResultsWhileTyping:A=!0}=e,{selectFirst:oe=!0}=e,{flyToSelected:le=!1}=e,{markerOnSelected:we=!0}=e,{types:me=void 0}=e,{exhaustiveReverseGeocoding:te=!1}=e,{excludeTypes:ne=!1}=e,{zoom:ie=s}=e,{apiUrl:ue="https://api.maptiler.com/geocoding"}=e,{fetchParameters:q={}}=e,{iconsBaseUrl:he="https://cdn.maptiler.com/maptiler-geocoding-control/v2.0.1/icons/"}=e,{adjustUrlQuery:ve=()=>{}}=e;function Ce(){p.focus()}function Me(){p.blur()}function ce(L,V=!0,pe=!1){t(1,I=L),V?(t(15,P=-1),Pn()):(on(!pe,pe),setTimeout(()=>{p.focus(),p.select()}))}function Ie(){t(14,F=void 0),t(56,W=void 0),t(15,P=-1)}function T(){t(55,B=[]),t(56,W=void 0)}let w=!1,F,B,W,_e="",p,P=-1,j,Be=[],gt,bt,Dt,tn;const br=new Set,qe=Zo();Ho(()=>{v&&(v.setEventHandler(void 0),v.indicateReverse(!1),v.setSelectedMarker(-1),v.setFeatures(void 0,void 0,!1))});function Pn(L){if(bt&&(clearTimeout(bt),bt=void 0),P>-1&&F)t(56,W=F[P]),t(1,I=W.place_type[0]==="reverse"?W.place_name:W.place_name.replace(/,.*/,"")),t(18,j=void 0),t(55,B=void 0),t(15,P=-1);else if(I){const V=L||!nn(I);rn(I,{exact:!0}).then(()=>{t(55,B=F),t(56,W=void 0),V&&yr()}).catch(pe=>t(18,j=pe))}}function nn(L){try{return Is(L,6)}catch{return!1}}async function rn(L,{byId:V=!1,exact:pe=!1}={}){t(18,j=void 0),gt==null||gt.abort();const ge=new AbortController;t(19,gt=ge);try{const H=nn(L),se=new URLSearchParams;if(N!==void 0&&se.set("language",Array.isArray(N)?N.join(","):N??""),me&&se.set("types",me.join(",")),ne&&se.set("excludeTypes",String(ne)),d&&se.set("bbox",d.map(Ut=>Ut.toFixed(6)).join(",")),b&&se.set("country",Array.isArray(b)?b.join(","):b),!V&&!H){const Ut=await Es(v,E,ge);Ut&&se.set("proximity",Ut),(pe||!A)&&se.set("autocomplete","false"),se.set("fuzzyMatch",String(x))}O!==void 0&&(te||!H||(me==null?void 0:me.length)===1)&&se.set("limit",String(O)),se.set("key",u),ve(se);const Ue=ue+"/"+encodeURIComponent(H?H.decimalLongitude+","+H.decimalLatitude:L)+".json?"+se.toString();if(Ue===_e){V?(t(14,F=void 0),t(56,W=Be[0])):t(14,F=Be);return}_e=Ue;const ln=await fetch(Ue,{signal:ge.signal,...q});if(!ln.ok)throw new Error(await ln.text());const an=await ln.json();qe("response",{url:Ue,featureCollection:an}),V?(t(14,F=void 0),t(56,W=an.features[0]),Be=[W]):(t(14,F=an.features.filter(k)),H&&F.unshift({type:"Feature",properties:{},id:"reverse_"+H.decimalLongitude+"_"+H.decimalLatitude,text:H.decimalLatitude+", "+H.decimalLongitude,place_name:H.decimalLatitude+", "+H.decimalLongitude,place_type:["reverse"],center:[H.decimalLongitude,H.decimalLatitude],bbox:[H.decimalLongitude,H.decimalLatitude,H.decimalLongitude,H.decimalLatitude],geometry:{type:"Point",coordinates:[H.decimalLongitude,H.decimalLatitude]}}),Be=F,H&&p.focus())}catch(H){if(H&&typeof H=="object"&&"name"in H&&H.name==="AbortError")return;throw H}finally{ge===gt&&t(19,gt=void 0)}}function yr(){var L;if(!(B!=null&&B.length)||!_)return;const V=[180,90,-180,-90],pe=!B.some(H=>!H.matching_text);let ge;for(const H of B){const se=Ct(H);if(ge=ge===void 0?se:se===void 0?ge:Math.max(ge,se),pe||!H.matching_text)for(const Ue of[0,1,2,3])V[Ue]=Math[Ue<2?"min":"max"](V[Ue],((L=H.bbox)==null?void 0:L[Ue])??H.center[Ue%2])}v&&B.length>0&&(W&&V[0]===V[2]&&V[1]===V[3]?v.flyTo(W.center,Ct(W)):v.fitBounds(Kt(V),50,ge))}function Ct(L){var V;if(!L.bbox||L.bbox[0]!==L.bbox[2]&&L.bbox[1]!==L.bbox[3])return;const pe=L.id.replace(/\..*/,"");return(Array.isArray((V=L.properties)==null?void 0:V.categories)?L.properties.categories.reduce((ge,H)=>{const se=ie[pe+"."+H];return ge===void 0?se:se===void 0?ge:Math.max(ge,se)},void 0):void 0)??ie[pe]}function vr(L){t(0,D=m==="always"),t(14,F=void 0),t(56,W=void 0),t(15,P=-1),ce(L[1].toFixed(6)+", "+Ls(L[0],[-180,180],!0).toFixed(6),!1,!0)}function pr(L){if(!F)return;let V=L.key==="ArrowDown"?1:L.key==="ArrowUp"?-1:0;V&&(P===(oe?0:-1)&&V===-1&&t(15,P=F.length),t(15,P+=V),P>=F.length&&t(15,P=-1),P<0&&oe&&t(15,P=0),L.preventDefault())}function on(L=!0,V=!1){if(t(18,j=void 0),A||V){if(bt&&clearTimeout(bt),I.length<y)return;const pe=I;bt=window.setTimeout(()=>{rn(pe).catch(ge=>t(18,j=ge))},L?S:0)}else t(14,F=void 0),t(18,j=void 0)}function sn(L){t(56,W=L),t(1,I=L.place_name),t(15,P=-1)}const Lr=()=>p.focus();function Er(L){gn[L?"unshift":"push"](()=>{p=L,t(17,p)})}function Sr(){I=this.value,t(1,I),t(13,w),t(28,f)}const wr=()=>t(13,w=!0),Cr=()=>t(13,w=!1),_r=()=>on(),xr=()=>{t(1,I=""),p.focus()},kr=()=>t(0,D=!D),Mr=()=>t(18,j=void 0),Nr=L=>t(15,P=L),Tr=L=>sn(L),Or=()=>{oe||t(15,P=-1)},Ir=()=>{};return n.$$set=L=>{"class"in L&&t(2,a=L.class),"apiKey"in L&&t(26,u=L.apiKey),"bbox"in L&&t(27,d=L.bbox),"clearButtonTitle"in L&&t(3,c=L.clearButtonTitle),"clearOnBlur"in L&&t(28,f=L.clearOnBlur),"collapsed"in L&&t(4,g=L.collapsed),"country"in L&&t(29,b=L.country),"debounceSearch"in L&&t(30,S=L.debounceSearch),"enableReverse"in L&&t(5,m=L.enableReverse),"errorMessage"in L&&t(6,h=L.errorMessage),"filter"in L&&t(31,k=L.filter),"flyTo"in L&&t(32,_=L.flyTo),"fuzzyMatch"in L&&t(33,x=L.fuzzyMatch),"language"in L&&t(34,N=L.language),"limit"in L&&t(35,O=L.limit),"mapController"in L&&t(36,v=L.mapController),"minLength"in L&&t(37,y=L.minLength),"noResultsMessage"in L&&t(7,M=L.noResultsMessage),"placeholder"in L&&t(8,z=L.placeholder),"proximity"in L&&t(38,E=L.proximity),"reverseActive"in L&&t(0,D=L.reverseActive),"reverseButtonTitle"in L&&t(9,K=L.reverseButtonTitle),"searchValue"in L&&t(1,I=L.searchValue),"pickedResultStyle"in L&&t(39,U=L.pickedResultStyle),"showPlaceType"in L&&t(10,$=L.showPlaceType),"showResultsWhileTyping"in L&&t(40,A=L.showResultsWhileTyping),"selectFirst"in L&&t(11,oe=L.selectFirst),"flyToSelected"in L&&t(41,le=L.flyToSelected),"markerOnSelected"in L&&t(42,we=L.markerOnSelected),"types"in L&&t(43,me=L.types),"exhaustiveReverseGeocoding"in L&&t(44,te=L.exhaustiveReverseGeocoding),"excludeTypes"in L&&t(45,ne=L.excludeTypes),"zoom"in L&&t(46,ie=L.zoom),"apiUrl"in L&&t(47,ue=L.apiUrl),"fetchParameters"in L&&t(48,q=L.fetchParameters),"iconsBaseUrl"in L&&t(12,he=L.iconsBaseUrl),"adjustUrlQuery"in L&&t(49,ve=L.adjustUrlQuery),"$$scope"in L&&t(60,l=L.$$scope)},n.$$.update=()=>{if(n.$$.dirty[0]&32&&t(0,D=m==="always"),n.$$.dirty[0]&268443648&&setTimeout(()=>{t(16,Dt=w),f&&!w&&t(1,I="")}),n.$$.dirty[0]&16386|n.$$.dirty[1]&64&&I.length<y&&(t(56,W=void 0),t(14,F=void 0),t(18,j=void 0),t(55,B=F)),n.$$.dirty[1]&33554688&&U!=="marker-only"&&W&&!W.address&&W.geometry.type==="Point"&&W.place_type[0]!=="reverse"&&rn(W.id,{byId:!0}).catch(L=>t(18,j=L)),n.$$.dirty[1]&100663330&&(v&&W&&W.id!==tn&&_&&(!W.bbox||W.bbox[0]===W.bbox[2]&&W.bbox[1]===W.bbox[3]?v.flyTo(W.center,Ct(W)):v.fitBounds(Kt(W.bbox),50,Ct(W)),t(14,F=void 0),t(55,B=void 0),t(15,P=-1)),t(57,tn=W==null?void 0:W.id)),n.$$.dirty[0]&18432&&oe&&F!=null&&F.length&&t(15,P=0),n.$$.dirty[0]&2&&t(15,P=-1),n.$$.dirty[0]&16384|n.$$.dirty[1]&16777216&&B!==F&&t(55,B=void 0),n.$$.dirty[0]&81921|n.$$.dirty[1]&16777248&&v&&v.setEventHandler(L=>{switch(L.type){case"mapClick":D&&vr(L.coordinates);break;case"markerClick":{const V=F==null?void 0:F.find(pe=>pe.id===L.id);V&&sn(V)}break;case"markerMouseEnter":B&&t(15,P=Dt?(F==null?void 0:F.findIndex(V=>V.id===L.id))??-1:-1);break;case"markerMouseLeave":B&&t(15,P=-1);break}}),n.$$.dirty[0]&49152&&t(58,r=F==null?void 0:F[P]),n.$$.dirty[1]&134218786&&v&&r&&_&&le&&v.flyTo(r.center,Ct(r)),n.$$.dirty[1]&256&&t(59,i=U==="full-geometry-including-polygon-center-marker"),n.$$.dirty[1]&268437536&&(we||v==null||v.setFeatures(void 0,void 0,i)),n.$$.dirty[1]&419432480&&v&&we&&!B&&(v.setFeatures(r?[r]:void 0,void 0,i),v.setSelectedMarker(r?0:-1)),n.$$.dirty[1]&318767136&&v&&v.setFeatures(B,W,i),n.$$.dirty[0]&32768|n.$$.dirty[1]&16777248&&B&&v&&v.setSelectedMarker(P),n.$$.dirty[0]&2|n.$$.dirty[1]&32&&v){const L=nn(I);v.setReverseMarker(L?[L.decimalLongitude,L.decimalLatitude]:void 0)}n.$$.dirty[1]&134217728&&qe("select",{feature:r}),n.$$.dirty[1]&33554432&&qe("pick",{feature:W}),n.$$.dirty[0]&81920&&qe("optionsvisibilitychange",{optionsVisible:Dt&&!!F}),n.$$.dirty[0]&16384&&qe("featureslisted",{features:F}),n.$$.dirty[1]&16777216&&qe("featuresmarked",{features:B}),n.$$.dirty[0]&1&&qe("reversetoggle",{reverse:D}),n.$$.dirty[0]&2&&qe("querychange",{query:I}),n.$$.dirty[0]&1|n.$$.dirty[1]&32&&v&&v.indicateReverse(D)},[D,I,a,c,g,m,h,M,z,K,$,oe,he,w,F,P,Dt,p,j,gt,br,Pn,pr,on,sn,s,u,d,f,b,S,k,_,x,N,O,v,y,E,U,A,le,we,me,te,ne,ie,ue,q,ve,Ce,Me,ce,Ie,T,B,W,tn,r,i,l,o,Lr,Er,Sr,wr,Cr,_r,xr,kr,Mr,Nr,Tr,Or,Ir]}let Ds=class extends ot{constructor(n){super(),rt(this,n,Fs,zs,it,{ZOOM_DEFAULTS:25,class:2,apiKey:26,bbox:27,clearButtonTitle:3,clearOnBlur:28,collapsed:4,country:29,debounceSearch:30,enableReverse:5,errorMessage:6,filter:31,flyTo:32,fuzzyMatch:33,language:34,limit:35,mapController:36,minLength:37,noResultsMessage:7,placeholder:8,proximity:38,reverseActive:0,reverseButtonTitle:9,searchValue:1,pickedResultStyle:39,showPlaceType:10,showResultsWhileTyping:40,selectFirst:11,flyToSelected:41,markerOnSelected:42,types:43,exhaustiveReverseGeocoding:44,excludeTypes:45,zoom:46,apiUrl:47,fetchParameters:48,iconsBaseUrl:12,adjustUrlQuery:49,focus:50,blur:51,setQuery:52,clearList:53,clearMap:54},null,[-1,-1,-1])}get ZOOM_DEFAULTS(){return this.$$.ctx[25]}get focus(){return this.$$.ctx[50]}get blur(){return this.$$.ctx[51]}get setQuery(){return this.$$.ctx[52]}get clearList(){return this.$$.ctx[53]}get clearMap(){return this.$$.ctx[54]}};function Pt(n,e,t={}){const i={type:"Feature"};return(t.id===0||t.id)&&(i.id=t.id),t.bbox&&(i.bbox=t.bbox),i.properties=e||{},i.geometry=n,i}function Nn(n,e,t={}){for(const i of n){if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(i[i.length-1].length!==i[0].length)throw new Error("First and last Position are not equivalent.");for(let r=0;r<i[i.length-1].length;r++)if(i[i.length-1][r]!==i[0][r])throw new Error("First and last Position are not equivalent.")}return Pt({type:"Polygon",coordinates:n},e,t)}function Rt(n,e={}){const t={type:"FeatureCollection"};return e.id&&(t.id=e.id),e.bbox&&(t.bbox=e.bbox),t.features=n,t}function ir(n,e,t={}){return Pt({type:"MultiPolygon",coordinates:n},e,t)}/**
 * splaytree v3.1.2
 * Fast Splay tree for Node and browser
 *
 * @author Alexander Milevski <info@w8r.name>
 * @license MIT
 * @preserve
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Us(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,l;return l={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function s(u){return function(d){return a([u,d])}}function a(u){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,r&&(o=u[0]&2?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,r=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(d){u=[6,d],r=0}finally{i=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var et=function(){function n(e,t){this.next=null,this.key=e,this.data=t,this.left=null,this.right=null}return n}();function Bs(n,e){return n>e?1:n<e?-1:0}function Qe(n,e,t){for(var i=new et(null,null),r=i,o=i;;){var l=t(n,e.key);if(l<0){if(e.left===null)break;if(t(n,e.left.key)<0){var s=e.left;if(e.left=s.right,s.right=e,e=s,e.left===null)break}o.left=e,o=e,e=e.left}else if(l>0){if(e.right===null)break;if(t(n,e.right.key)>0){var s=e.right;if(e.right=s.left,s.left=e,e=s,e.right===null)break}r.right=e,r=e,e=e.right}else break}return r.right=e.left,o.left=e.right,e.left=i.right,e.right=i.left,e}function fn(n,e,t,i){var r=new et(n,e);if(t===null)return r.left=r.right=null,r;t=Qe(n,t,i);var o=i(n,t.key);return o<0?(r.left=t.left,r.right=t,t.left=null):o>=0&&(r.right=t.right,r.left=t,t.right=null),r}function mi(n,e,t){var i=null,r=null;if(e){e=Qe(n,e,t);var o=t(e.key,n);o===0?(i=e.left,r=e.right):o<0?(r=e.right,e.right=null,i=e):(i=e.left,e.left=null,r=e)}return{left:i,right:r}}function Hs(n,e,t){return e===null?n:(n===null||(e=Qe(n.key,e,t),e.left=n),e)}function vn(n,e,t,i,r){if(n){i(""+e+(t?"└── ":"├── ")+r(n)+`
`);var o=e+(t?"    ":"│   ");n.left&&vn(n.left,o,!1,i,r),n.right&&vn(n.right,o,!0,i,r)}}var Tn=function(){function n(e){e===void 0&&(e=Bs),this._root=null,this._size=0,this._comparator=e}return n.prototype.insert=function(e,t){return this._size++,this._root=fn(e,t,this._root,this._comparator)},n.prototype.add=function(e,t){var i=new et(e,t);this._root===null&&(i.left=i.right=null,this._size++,this._root=i);var r=this._comparator,o=Qe(e,this._root,r),l=r(e,o.key);return l===0?this._root=o:(l<0?(i.left=o.left,i.right=o,o.left=null):l>0&&(i.right=o.right,i.left=o,o.right=null),this._size++,this._root=i),this._root},n.prototype.remove=function(e){this._root=this._remove(e,this._root,this._comparator)},n.prototype._remove=function(e,t,i){var r;if(t===null)return null;t=Qe(e,t,i);var o=i(e,t.key);return o===0?(t.left===null?r=t.right:(r=Qe(e,t.left,i),r.right=t.right),this._size--,r):t},n.prototype.pop=function(){var e=this._root;if(e){for(;e.left;)e=e.left;return this._root=Qe(e.key,this._root,this._comparator),this._root=this._remove(e.key,this._root,this._comparator),{key:e.key,data:e.data}}return null},n.prototype.findStatic=function(e){for(var t=this._root,i=this._comparator;t;){var r=i(e,t.key);if(r===0)return t;r<0?t=t.left:t=t.right}return null},n.prototype.find=function(e){return this._root&&(this._root=Qe(e,this._root,this._comparator),this._comparator(e,this._root.key)!==0)?null:this._root},n.prototype.contains=function(e){for(var t=this._root,i=this._comparator;t;){var r=i(e,t.key);if(r===0)return!0;r<0?t=t.left:t=t.right}return!1},n.prototype.forEach=function(e,t){for(var i=this._root,r=[],o=!1;!o;)i!==null?(r.push(i),i=i.left):r.length!==0?(i=r.pop(),e.call(t,i),i=i.right):o=!0;return this},n.prototype.range=function(e,t,i,r){for(var o=[],l=this._comparator,s=this._root,a;o.length!==0||s;)if(s)o.push(s),s=s.left;else{if(s=o.pop(),a=l(s.key,t),a>0)break;if(l(s.key,e)>=0&&i.call(r,s))return this;s=s.right}return this},n.prototype.keys=function(){var e=[];return this.forEach(function(t){var i=t.key;return e.push(i)}),e},n.prototype.values=function(){var e=[];return this.forEach(function(t){var i=t.data;return e.push(i)}),e},n.prototype.min=function(){return this._root?this.minNode(this._root).key:null},n.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},n.prototype.minNode=function(e){if(e===void 0&&(e=this._root),e)for(;e.left;)e=e.left;return e},n.prototype.maxNode=function(e){if(e===void 0&&(e=this._root),e)for(;e.right;)e=e.right;return e},n.prototype.at=function(e){for(var t=this._root,i=!1,r=0,o=[];!i;)if(t)o.push(t),t=t.left;else if(o.length>0){if(t=o.pop(),r===e)return t;r++,t=t.right}else i=!0;return null},n.prototype.next=function(e){var t=this._root,i=null;if(e.right){for(i=e.right;i.left;)i=i.left;return i}for(var r=this._comparator;t;){var o=r(e.key,t.key);if(o===0)break;o<0?(i=t,t=t.left):t=t.right}return i},n.prototype.prev=function(e){var t=this._root,i=null;if(e.left!==null){for(i=e.left;i.right;)i=i.right;return i}for(var r=this._comparator;t;){var o=r(e.key,t.key);if(o===0)break;o<0?t=t.left:(i=t,t=t.right)}return i},n.prototype.clear=function(){return this._root=null,this._size=0,this},n.prototype.toList=function(){return Gs(this._root)},n.prototype.load=function(e,t,i){t===void 0&&(t=[]),i===void 0&&(i=!1);var r=e.length,o=this._comparator;if(i&&En(e,t,0,r-1,o),this._root===null)this._root=pn(e,t,0,r),this._size=r;else{var l=js(this.toList(),Zs(e,t),o);r=this._size+r,this._root=Ln({head:l},0,r)}return this},n.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(n.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),n.prototype.toString=function(e){e===void 0&&(e=function(i){return String(i.key)});var t=[];return vn(this._root,"",!0,function(i){return t.push(i)},e),t.join("")},n.prototype.update=function(e,t,i){var r=this._comparator,o=mi(e,this._root,r),l=o.left,s=o.right;r(e,t)<0?s=fn(t,i,s,r):l=fn(t,i,l,r),this._root=Hs(l,s,r)},n.prototype.split=function(e){return mi(e,this._root,this._comparator)},n.prototype[Symbol.iterator]=function(){var e,t,i;return Us(this,function(r){switch(r.label){case 0:e=this._root,t=[],i=!1,r.label=1;case 1:return i?[3,6]:e===null?[3,2]:(t.push(e),e=e.left,[3,5]);case 2:return t.length===0?[3,4]:(e=t.pop(),[4,e]);case 3:return r.sent(),e=e.right,[3,5];case 4:i=!0,r.label=5;case 5:return[3,1];case 6:return[2]}})},n}();function pn(n,e,t,i){var r=i-t;if(r>0){var o=t+Math.floor(r/2),l=n[o],s=e[o],a=new et(l,s);return a.left=pn(n,e,t,o),a.right=pn(n,e,o+1,i),a}return null}function Zs(n,e){for(var t=new et(null,null),i=t,r=0;r<n.length;r++)i=i.next=new et(n[r],e[r]);return i.next=null,t.next}function Gs(n){for(var e=n,t=[],i=!1,r=new et(null,null),o=r;!i;)e?(t.push(e),e=e.left):t.length>0?(e=o=o.next=t.pop(),e=e.right):i=!0;return o.next=null,r.next}function Ln(n,e,t){var i=t-e;if(i>0){var r=e+Math.floor(i/2),o=Ln(n,e,r),l=n.head;return l.left=o,n.head=n.head.next,l.right=Ln(n,r+1,t),l}return null}function js(n,e,t){for(var i=new et(null,null),r=i,o=n,l=e;o!==null&&l!==null;)t(o.key,l.key)<0?(r.next=o,o=o.next):(r.next=l,l=l.next),r=r.next;return o!==null?r.next=o:l!==null&&(r.next=l),i.next}function En(n,e,t,i,r){if(!(t>=i)){for(var o=n[t+i>>1],l=t-1,s=i+1;;){do l++;while(r(n[l],o)<0);do s--;while(r(n[s],o)>0);if(l>=s)break;var a=n[l];n[l]=n[s],n[s]=a,a=e[l],e[l]=e[s],e[s]=a}En(n,e,t,s,r),En(n,e,s+1,i,r)}}const He=11102230246251565e-32,be=134217729,qs=(3+8*He)*He;function mn(n,e,t,i,r){let o,l,s,a,u=e[0],d=i[0],c=0,f=0;d>u==d>-u?(o=u,u=e[++c]):(o=d,d=i[++f]);let g=0;if(c<n&&f<t)for(d>u==d>-u?(l=u+o,s=o-(l-u),u=e[++c]):(l=d+o,s=o-(l-d),d=i[++f]),o=l,s!==0&&(r[g++]=s);c<n&&f<t;)d>u==d>-u?(l=o+u,a=l-o,s=o-(l-a)+(u-a),u=e[++c]):(l=o+d,a=l-o,s=o-(l-a)+(d-a),d=i[++f]),o=l,s!==0&&(r[g++]=s);for(;c<n;)l=o+u,a=l-o,s=o-(l-a)+(u-a),u=e[++c],o=l,s!==0&&(r[g++]=s);for(;f<t;)l=o+d,a=l-o,s=o-(l-a)+(d-a),d=i[++f],o=l,s!==0&&(r[g++]=s);return(o!==0||g===0)&&(r[g++]=o),g}function Qs(n,e){let t=e[0];for(let i=1;i<n;i++)t+=e[i];return t}function Ft(n){return new Float64Array(n)}const Vs=(3+16*He)*He,Ks=(2+12*He)*He,Ys=(9+64*He)*He*He,Lt=Ft(4),hi=Ft(8),gi=Ft(12),bi=Ft(16),Le=Ft(4);function Xs(n,e,t,i,r,o,l){let s,a,u,d,c,f,g,b,S,m,h,k,_,x,N,O,v,y;const M=n-r,z=t-r,E=e-o,D=i-o;x=M*D,f=be*M,g=f-(f-M),b=M-g,f=be*D,S=f-(f-D),m=D-S,N=b*m-(x-g*S-b*S-g*m),O=E*z,f=be*E,g=f-(f-E),b=E-g,f=be*z,S=f-(f-z),m=z-S,v=b*m-(O-g*S-b*S-g*m),h=N-v,c=N-h,Lt[0]=N-(h+c)+(c-v),k=x+h,c=k-x,_=x-(k-c)+(h-c),h=_-O,c=_-h,Lt[1]=_-(h+c)+(c-O),y=k+h,c=y-k,Lt[2]=k-(y-c)+(h-c),Lt[3]=y;let K=Qs(4,Lt),I=Ks*l;if(K>=I||-K>=I||(c=n-M,s=n-(M+c)+(c-r),c=t-z,u=t-(z+c)+(c-r),c=e-E,a=e-(E+c)+(c-o),c=i-D,d=i-(D+c)+(c-o),s===0&&a===0&&u===0&&d===0)||(I=Ys*l+qs*Math.abs(K),K+=M*d+D*s-(E*u+z*a),K>=I||-K>=I))return K;x=s*D,f=be*s,g=f-(f-s),b=s-g,f=be*D,S=f-(f-D),m=D-S,N=b*m-(x-g*S-b*S-g*m),O=a*z,f=be*a,g=f-(f-a),b=a-g,f=be*z,S=f-(f-z),m=z-S,v=b*m-(O-g*S-b*S-g*m),h=N-v,c=N-h,Le[0]=N-(h+c)+(c-v),k=x+h,c=k-x,_=x-(k-c)+(h-c),h=_-O,c=_-h,Le[1]=_-(h+c)+(c-O),y=k+h,c=y-k,Le[2]=k-(y-c)+(h-c),Le[3]=y;const U=mn(4,Lt,4,Le,hi);x=M*d,f=be*M,g=f-(f-M),b=M-g,f=be*d,S=f-(f-d),m=d-S,N=b*m-(x-g*S-b*S-g*m),O=E*u,f=be*E,g=f-(f-E),b=E-g,f=be*u,S=f-(f-u),m=u-S,v=b*m-(O-g*S-b*S-g*m),h=N-v,c=N-h,Le[0]=N-(h+c)+(c-v),k=x+h,c=k-x,_=x-(k-c)+(h-c),h=_-O,c=_-h,Le[1]=_-(h+c)+(c-O),y=k+h,c=y-k,Le[2]=k-(y-c)+(h-c),Le[3]=y;const $=mn(U,hi,4,Le,gi);x=s*d,f=be*s,g=f-(f-s),b=s-g,f=be*d,S=f-(f-d),m=d-S,N=b*m-(x-g*S-b*S-g*m),O=a*u,f=be*a,g=f-(f-a),b=a-g,f=be*u,S=f-(f-u),m=u-S,v=b*m-(O-g*S-b*S-g*m),h=N-v,c=N-h,Le[0]=N-(h+c)+(c-v),k=x+h,c=k-x,_=x-(k-c)+(h-c),h=_-O,c=_-h,Le[1]=_-(h+c)+(c-O),y=k+h,c=y-k,Le[2]=k-(y-c)+(h-c),Le[3]=y;const A=mn($,gi,4,Le,bi);return bi[A-1]}function Js(n,e,t,i,r,o){const l=(e-o)*(t-r),s=(n-r)*(i-o),a=l-s,u=Math.abs(l+s);return Math.abs(a)>=Vs*u?a:-Xs(n,e,t,i,r,o,u)}const kt=(n,e)=>n.ll.x<=e.x&&e.x<=n.ur.x&&n.ll.y<=e.y&&e.y<=n.ur.y,Sn=(n,e)=>{if(e.ur.x<n.ll.x||n.ur.x<e.ll.x||e.ur.y<n.ll.y||n.ur.y<e.ll.y)return null;const t=n.ll.x<e.ll.x?e.ll.x:n.ll.x,i=n.ur.x<e.ur.x?n.ur.x:e.ur.x,r=n.ll.y<e.ll.y?e.ll.y:n.ll.y,o=n.ur.y<e.ur.y?n.ur.y:e.ur.y;return{ll:{x:t,y:r},ur:{x:i,y:o}}};let Ve=Number.EPSILON;Ve===void 0&&(Ve=Math.pow(2,-52));const $s=Ve*Ve,yi=(n,e)=>{if(-Ve<n&&n<Ve&&-Ve<e&&e<Ve)return 0;const t=n-e;return t*t<$s*n*e?0:n<e?-1:1};class el{constructor(){this.reset()}reset(){this.xRounder=new vi,this.yRounder=new vi}round(e,t){return{x:this.xRounder.round(e),y:this.yRounder.round(t)}}}class vi{constructor(){this.tree=new Tn,this.round(0)}round(e){const t=this.tree.add(e),i=this.tree.prev(t);if(i!==null&&yi(t.key,i.key)===0)return this.tree.remove(e),i.key;const r=this.tree.next(t);return r!==null&&yi(t.key,r.key)===0?(this.tree.remove(e),r.key):e}}const At=new el,Qt=(n,e)=>n.x*e.y-n.y*e.x,rr=(n,e)=>n.x*e.x+n.y*e.y,pi=(n,e,t)=>{const i=Js(n.x,n.y,e.x,e.y,t.x,t.y);return i>0?-1:i<0?1:0},Yt=n=>Math.sqrt(rr(n,n)),tl=(n,e,t)=>{const i={x:e.x-n.x,y:e.y-n.y},r={x:t.x-n.x,y:t.y-n.y};return Qt(r,i)/Yt(r)/Yt(i)},nl=(n,e,t)=>{const i={x:e.x-n.x,y:e.y-n.y},r={x:t.x-n.x,y:t.y-n.y};return rr(r,i)/Yt(r)/Yt(i)},Li=(n,e,t)=>e.y===0?null:{x:n.x+e.x/e.y*(t-n.y),y:t},Ei=(n,e,t)=>e.x===0?null:{x:t,y:n.y+e.y/e.x*(t-n.x)},il=(n,e,t,i)=>{if(e.x===0)return Ei(t,i,n.x);if(i.x===0)return Ei(n,e,t.x);if(e.y===0)return Li(t,i,n.y);if(i.y===0)return Li(n,e,t.y);const r=Qt(e,i);if(r==0)return null;const o={x:t.x-n.x,y:t.y-n.y},l=Qt(o,e)/r,s=Qt(o,i)/r,a=n.x+s*e.x,u=t.x+l*i.x,d=n.y+s*e.y,c=t.y+l*i.y,f=(a+u)/2,g=(d+c)/2;return{x:f,y:g}};class Ne{static compare(e,t){const i=Ne.comparePoints(e.point,t.point);return i!==0?i:(e.point!==t.point&&e.link(t),e.isLeft!==t.isLeft?e.isLeft?1:-1:Ye.compare(e.segment,t.segment))}static comparePoints(e,t){return e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0}constructor(e,t){e.events===void 0?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=t}link(e){if(e.point===this.point)throw new Error("Tried to link already linked events");const t=e.point.events;for(let i=0,r=t.length;i<r;i++){const o=t[i];this.point.events.push(o),o.point=this.point}this.checkForConsuming()}checkForConsuming(){const e=this.point.events.length;for(let t=0;t<e;t++){const i=this.point.events[t];if(i.segment.consumedBy===void 0)for(let r=t+1;r<e;r++){const o=this.point.events[r];o.consumedBy===void 0&&i.otherSE.point.events===o.otherSE.point.events&&i.segment.consume(o.segment)}}}getAvailableLinkedEvents(){const e=[];for(let t=0,i=this.point.events.length;t<i;t++){const r=this.point.events[t];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&e.push(r)}return e}getLeftmostComparator(e){const t=new Map,i=r=>{const o=r.otherSE;t.set(r,{sine:tl(this.point,e.point,o.point),cosine:nl(this.point,e.point,o.point)})};return(r,o)=>{t.has(r)||i(r),t.has(o)||i(o);const{sine:l,cosine:s}=t.get(r),{sine:a,cosine:u}=t.get(o);return l>=0&&a>=0?s<u?1:s>u?-1:0:l<0&&a<0?s<u?-1:s>u?1:0:a<l?-1:a>l?1:0}}}let rl=0;class Ye{static compare(e,t){const i=e.leftSE.point.x,r=t.leftSE.point.x,o=e.rightSE.point.x,l=t.rightSE.point.x;if(l<i)return 1;if(o<r)return-1;const s=e.leftSE.point.y,a=t.leftSE.point.y,u=e.rightSE.point.y,d=t.rightSE.point.y;if(i<r){if(a<s&&a<u)return 1;if(a>s&&a>u)return-1;const c=e.comparePoint(t.leftSE.point);if(c<0)return 1;if(c>0)return-1;const f=t.comparePoint(e.rightSE.point);return f!==0?f:-1}if(i>r){if(s<a&&s<d)return-1;if(s>a&&s>d)return 1;const c=t.comparePoint(e.leftSE.point);if(c!==0)return c;const f=e.comparePoint(t.rightSE.point);return f<0?1:f>0?-1:1}if(s<a)return-1;if(s>a)return 1;if(o<l){const c=t.comparePoint(e.rightSE.point);if(c!==0)return c}if(o>l){const c=e.comparePoint(t.rightSE.point);if(c<0)return 1;if(c>0)return-1}if(o!==l){const c=u-s,f=o-i,g=d-a,b=l-r;if(c>f&&g<b)return 1;if(c<f&&g>b)return-1}return o>l?1:o<l||u<d?-1:u>d?1:e.id<t.id?-1:e.id>t.id?1:0}constructor(e,t,i,r){this.id=++rl,this.leftSE=e,e.segment=this,e.otherSE=t,this.rightSE=t,t.segment=this,t.otherSE=e,this.rings=i,this.windings=r}static fromRing(e,t,i){let r,o,l;const s=Ne.comparePoints(e,t);if(s<0)r=e,o=t,l=1;else if(s>0)r=t,o=e,l=-1;else throw new Error(`Tried to create degenerate segment at [${e.x}, ${e.y}]`);const a=new Ne(r,!0),u=new Ne(o,!1);return new Ye(a,u,[i],[l])}replaceRightSE(e){this.rightSE=e,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const e=this.leftSE.point.y,t=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:e<t?e:t},ur:{x:this.rightSE.point.x,y:e>t?e:t}}}vector(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}isAnEndpoint(e){return e.x===this.leftSE.point.x&&e.y===this.leftSE.point.y||e.x===this.rightSE.point.x&&e.y===this.rightSE.point.y}comparePoint(e){if(this.isAnEndpoint(e))return 0;const t=this.leftSE.point,i=this.rightSE.point,r=this.vector();if(t.x===i.x)return e.x===t.x?0:e.x<t.x?1:-1;const o=(e.y-t.y)/r.y,l=t.x+o*r.x;if(e.x===l)return 0;const s=(e.x-t.x)/r.x,a=t.y+s*r.y;return e.y===a?0:e.y<a?-1:1}getIntersection(e){const t=this.bbox(),i=e.bbox(),r=Sn(t,i);if(r===null)return null;const o=this.leftSE.point,l=this.rightSE.point,s=e.leftSE.point,a=e.rightSE.point,u=kt(t,s)&&this.comparePoint(s)===0,d=kt(i,o)&&e.comparePoint(o)===0,c=kt(t,a)&&this.comparePoint(a)===0,f=kt(i,l)&&e.comparePoint(l)===0;if(d&&u)return f&&!c?l:!f&&c?a:null;if(d)return c&&o.x===a.x&&o.y===a.y?null:o;if(u)return f&&l.x===s.x&&l.y===s.y?null:s;if(f&&c)return null;if(f)return l;if(c)return a;const g=il(o,this.vector(),s,e.vector());return g===null||!kt(r,g)?null:At.round(g.x,g.y)}split(e){const t=[],i=e.events!==void 0,r=new Ne(e,!0),o=new Ne(e,!1),l=this.rightSE;this.replaceRightSE(o),t.push(o),t.push(r);const s=new Ye(r,l,this.rings.slice(),this.windings.slice());return Ne.comparePoints(s.leftSE.point,s.rightSE.point)>0&&s.swapEvents(),Ne.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),i&&(r.checkForConsuming(),o.checkForConsuming()),t}swapEvents(){const e=this.rightSE;this.rightSE=this.leftSE,this.leftSE=e,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let t=0,i=this.windings.length;t<i;t++)this.windings[t]*=-1}consume(e){let t=this,i=e;for(;t.consumedBy;)t=t.consumedBy;for(;i.consumedBy;)i=i.consumedBy;const r=Ye.compare(t,i);if(r!==0){if(r>0){const o=t;t=i,i=o}if(t.prev===i){const o=t;t=i,i=o}for(let o=0,l=i.rings.length;o<l;o++){const s=i.rings[o],a=i.windings[o],u=t.rings.indexOf(s);u===-1?(t.rings.push(s),t.windings.push(a)):t.windings[u]+=a}i.rings=null,i.windings=null,i.consumedBy=t,i.leftSE.consumedBy=t.leftSE,i.rightSE.consumedBy=t.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{const e=this.prev.consumedBy||this.prev;this._beforeState=e.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;const e=this.beforeState();this._afterState={rings:e.rings.slice(0),windings:e.windings.slice(0),multiPolys:[]};const t=this._afterState.rings,i=this._afterState.windings,r=this._afterState.multiPolys;for(let s=0,a=this.rings.length;s<a;s++){const u=this.rings[s],d=this.windings[s],c=t.indexOf(u);c===-1?(t.push(u),i.push(d)):i[c]+=d}const o=[],l=[];for(let s=0,a=t.length;s<a;s++){if(i[s]===0)continue;const u=t[s],d=u.poly;if(l.indexOf(d)===-1)if(u.isExterior)o.push(d);else{l.indexOf(d)===-1&&l.push(d);const c=o.indexOf(u.poly);c!==-1&&o.splice(c,1)}}for(let s=0,a=o.length;s<a;s++){const u=o[s].multiPoly;r.indexOf(u)===-1&&r.push(u)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;const e=this.beforeState().multiPolys,t=this.afterState().multiPolys;switch(Re.type){case"union":{const i=e.length===0,r=t.length===0;this._isInResult=i!==r;break}case"intersection":{let i,r;e.length<t.length?(i=e.length,r=t.length):(i=t.length,r=e.length),this._isInResult=r===Re.numMultiPolys&&i<r;break}case"xor":{const i=Math.abs(e.length-t.length);this._isInResult=i%2===1;break}case"difference":{const i=r=>r.length===1&&r[0].isSubject;this._isInResult=i(e)!==i(t);break}default:throw new Error(`Unrecognized operation type found ${Re.type}`)}return this._isInResult}}class Si{constructor(e,t,i){if(!Array.isArray(e)||e.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=t,this.isExterior=i,this.segments=[],typeof e[0][0]!="number"||typeof e[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const r=At.round(e[0][0],e[0][1]);this.bbox={ll:{x:r.x,y:r.y},ur:{x:r.x,y:r.y}};let o=r;for(let l=1,s=e.length;l<s;l++){if(typeof e[l][0]!="number"||typeof e[l][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let a=At.round(e[l][0],e[l][1]);a.x===o.x&&a.y===o.y||(this.segments.push(Ye.fromRing(o,a,this)),a.x<this.bbox.ll.x&&(this.bbox.ll.x=a.x),a.y<this.bbox.ll.y&&(this.bbox.ll.y=a.y),a.x>this.bbox.ur.x&&(this.bbox.ur.x=a.x),a.y>this.bbox.ur.y&&(this.bbox.ur.y=a.y),o=a)}(r.x!==o.x||r.y!==o.y)&&this.segments.push(Ye.fromRing(o,r,this))}getSweepEvents(){const e=[];for(let t=0,i=this.segments.length;t<i;t++){const r=this.segments[t];e.push(r.leftSE),e.push(r.rightSE)}return e}}class ol{constructor(e,t){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Si(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let i=1,r=e.length;i<r;i++){const o=new Si(e[i],this,!1);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.interiorRings.push(o)}this.multiPoly=t}getSweepEvents(){const e=this.exteriorRing.getSweepEvents();for(let t=0,i=this.interiorRings.length;t<i;t++){const r=this.interiorRings[t].getSweepEvents();for(let o=0,l=r.length;o<l;o++)e.push(r[o])}return e}}class wi{constructor(e,t){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof e[0][0][0]=="number"&&(e=[e])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(let i=0,r=e.length;i<r;i++){const o=new ol(e[i],this);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.polys.push(o)}this.isSubject=t}getSweepEvents(){const e=[];for(let t=0,i=this.polys.length;t<i;t++){const r=this.polys[t].getSweepEvents();for(let o=0,l=r.length;o<l;o++)e.push(r[o])}return e}}class Xt{static factory(e){const t=[];for(let i=0,r=e.length;i<r;i++){const o=e[i];if(!o.isInResult()||o.ringOut)continue;let l=null,s=o.leftSE,a=o.rightSE;const u=[s],d=s.point,c=[];for(;l=s,s=a,u.push(s),s.point!==d;)for(;;){const f=s.getAvailableLinkedEvents();if(f.length===0){const S=u[0].point,m=u[u.length-1].point;throw new Error(`Unable to complete output ring starting at [${S.x}, ${S.y}]. Last matching segment found ends at [${m.x}, ${m.y}].`)}if(f.length===1){a=f[0].otherSE;break}let g=null;for(let S=0,m=c.length;S<m;S++)if(c[S].point===s.point){g=S;break}if(g!==null){const S=c.splice(g)[0],m=u.splice(S.index);m.unshift(m[0].otherSE),t.push(new Xt(m.reverse()));continue}c.push({index:u.length,point:s.point});const b=s.getLeftmostComparator(l);a=f.sort(b)[0].otherSE;break}t.push(new Xt(u))}return t}constructor(e){this.events=e;for(let t=0,i=e.length;t<i;t++)e[t].segment.ringOut=this;this.poly=null}getGeom(){let e=this.events[0].point;const t=[e];for(let u=1,d=this.events.length-1;u<d;u++){const c=this.events[u].point,f=this.events[u+1].point;pi(c,e,f)!==0&&(t.push(c),e=c)}if(t.length===1)return null;const i=t[0],r=t[1];pi(i,e,r)===0&&t.shift(),t.push(t[0]);const o=this.isExteriorRing()?1:-1,l=this.isExteriorRing()?0:t.length-1,s=this.isExteriorRing()?t.length:-1,a=[];for(let u=l;u!=s;u+=o)a.push([t[u].x,t[u].y]);return a}isExteriorRing(){if(this._isExteriorRing===void 0){const e=this.enclosingRing();this._isExteriorRing=e?!e.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let e=this.events[0];for(let r=1,o=this.events.length;r<o;r++){const l=this.events[r];Ne.compare(e,l)>0&&(e=l)}let t=e.segment.prevInResult(),i=t?t.prevInResult():null;for(;;){if(!t)return null;if(!i)return t.ringOut;if(i.ringOut!==t.ringOut)return i.ringOut.enclosingRing()!==t.ringOut?t.ringOut:t.ringOut.enclosingRing();t=i.prevInResult(),i=t?t.prevInResult():null}}}class Ci{constructor(e){this.exteriorRing=e,e.poly=this,this.interiorRings=[]}addInterior(e){this.interiorRings.push(e),e.poly=this}getGeom(){const e=[this.exteriorRing.getGeom()];if(e[0]===null)return null;for(let t=0,i=this.interiorRings.length;t<i;t++){const r=this.interiorRings[t].getGeom();r!==null&&e.push(r)}return e}}class sl{constructor(e){this.rings=e,this.polys=this._composePolys(e)}getGeom(){const e=[];for(let t=0,i=this.polys.length;t<i;t++){const r=this.polys[t].getGeom();r!==null&&e.push(r)}return e}_composePolys(e){const t=[];for(let i=0,r=e.length;i<r;i++){const o=e[i];if(!o.poly)if(o.isExteriorRing())t.push(new Ci(o));else{const l=o.enclosingRing();l.poly||t.push(new Ci(l)),l.poly.addInterior(o)}}return t}}class ll{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ye.compare;this.queue=e,this.tree=new Tn(t),this.segments=[]}process(e){const t=e.segment,i=[];if(e.consumedBy)return e.isLeft?this.queue.remove(e.otherSE):this.tree.remove(t),i;const r=e.isLeft?this.tree.add(t):this.tree.find(t);if(!r)throw new Error(`Unable to find segment #${t.id} [${t.leftSE.point.x}, ${t.leftSE.point.y}] -> [${t.rightSE.point.x}, ${t.rightSE.point.y}] in SweepLine tree.`);let o=r,l=r,s,a;for(;s===void 0;)o=this.tree.prev(o),o===null?s=null:o.key.consumedBy===void 0&&(s=o.key);for(;a===void 0;)l=this.tree.next(l),l===null?a=null:l.key.consumedBy===void 0&&(a=l.key);if(e.isLeft){let u=null;if(s){const c=s.getIntersection(t);if(c!==null&&(t.isAnEndpoint(c)||(u=c),!s.isAnEndpoint(c))){const f=this._splitSafely(s,c);for(let g=0,b=f.length;g<b;g++)i.push(f[g])}}let d=null;if(a){const c=a.getIntersection(t);if(c!==null&&(t.isAnEndpoint(c)||(d=c),!a.isAnEndpoint(c))){const f=this._splitSafely(a,c);for(let g=0,b=f.length;g<b;g++)i.push(f[g])}}if(u!==null||d!==null){let c=null;u===null?c=d:d===null?c=u:c=Ne.comparePoints(u,d)<=0?u:d,this.queue.remove(t.rightSE),i.push(t.rightSE);const f=t.split(c);for(let g=0,b=f.length;g<b;g++)i.push(f[g])}i.length>0?(this.tree.remove(t),i.push(e)):(this.segments.push(t),t.prev=s)}else{if(s&&a){const u=s.getIntersection(a);if(u!==null){if(!s.isAnEndpoint(u)){const d=this._splitSafely(s,u);for(let c=0,f=d.length;c<f;c++)i.push(d[c])}if(!a.isAnEndpoint(u)){const d=this._splitSafely(a,u);for(let c=0,f=d.length;c<f;c++)i.push(d[c])}}}this.tree.remove(t)}return i}_splitSafely(e,t){this.tree.remove(e);const i=e.rightSE;this.queue.remove(i);const r=e.split(t);return r.push(i),e.consumedBy===void 0&&this.tree.add(e),r}}const _i=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,al=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6;class ul{run(e,t,i){Re.type=e,At.reset();const r=[new wi(t,!0)];for(let d=0,c=i.length;d<c;d++)r.push(new wi(i[d],!1));if(Re.numMultiPolys=r.length,Re.type==="difference"){const d=r[0];let c=1;for(;c<r.length;)Sn(r[c].bbox,d.bbox)!==null?c++:r.splice(c,1)}if(Re.type==="intersection")for(let d=0,c=r.length;d<c;d++){const f=r[d];for(let g=d+1,b=r.length;g<b;g++)if(Sn(f.bbox,r[g].bbox)===null)return[]}const o=new Tn(Ne.compare);for(let d=0,c=r.length;d<c;d++){const f=r[d].getSweepEvents();for(let g=0,b=f.length;g<b;g++)if(o.insert(f[g]),o.size>_i)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big).")}const l=new ll(o);let s=o.size,a=o.pop();for(;a;){const d=a.key;if(o.size===s){const f=d.segment;throw new Error(`Unable to pop() ${d.isLeft?"left":"right"} SweepEvent [${d.point.x}, ${d.point.y}] from segment #${f.id} [${f.leftSE.point.x}, ${f.leftSE.point.y}] -> [${f.rightSE.point.x}, ${f.rightSE.point.y}] from queue.`)}if(o.size>_i)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big).");if(l.segments.length>al)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments).");const c=l.process(d);for(let f=0,g=c.length;f<g;f++){const b=c[f];b.consumedBy===void 0&&o.insert(b)}s=o.size,a=o.pop()}At.reset();const u=Xt.factory(l.segments);return new sl(u).getGeom()}}const Re=new ul,cl=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return Re.run("union",n,t)},dl=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return Re.run("intersection",n,t)},fl=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return Re.run("xor",n,t)},ml=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return Re.run("difference",n,t)};var or={union:cl,intersection:dl,xor:fl,difference:ml};function sr(n,e,t){if(n!==null)for(var i,r,o,l,s,a,u,d=0,c=0,f,g=n.type,b=g==="FeatureCollection",S=g==="Feature",m=b?n.features.length:1,h=0;h<m;h++){u=b?n.features[h].geometry:S?n.geometry:n,f=u?u.type==="GeometryCollection":!1,s=f?u.geometries.length:1;for(var k=0;k<s;k++){var _=0,x=0;if(l=f?u.geometries[k]:u,l!==null){a=l.coordinates;var N=l.type;switch(d=0,N){case null:break;case"Point":if(e(a,c,h,_,x)===!1)return!1;c++,_++;break;case"LineString":case"MultiPoint":for(i=0;i<a.length;i++){if(e(a[i],c,h,_,x)===!1)return!1;c++,N==="MultiPoint"&&_++}N==="LineString"&&_++;break;case"Polygon":case"MultiLineString":for(i=0;i<a.length;i++){for(r=0;r<a[i].length-d;r++){if(e(a[i][r],c,h,_,x)===!1)return!1;c++}N==="MultiLineString"&&_++,N==="Polygon"&&x++}N==="Polygon"&&_++;break;case"MultiPolygon":for(i=0;i<a.length;i++){for(x=0,r=0;r<a[i].length;r++){for(o=0;o<a[i][r].length-d;o++){if(e(a[i][r][o],c,h,_,x)===!1)return!1;c++}x++}_++}break;case"GeometryCollection":for(i=0;i<l.geometries.length;i++)if(sr(l.geometries[i],e)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function On(n,e){var t,i,r,o,l,s,a,u,d,c,f=0,g=n.type==="FeatureCollection",b=n.type==="Feature",S=g?n.features.length:1;for(t=0;t<S;t++){for(s=g?n.features[t].geometry:b?n.geometry:n,u=g?n.features[t].properties:b?n.properties:{},d=g?n.features[t].bbox:b?n.bbox:void 0,c=g?n.features[t].id:b?n.id:void 0,a=s?s.type==="GeometryCollection":!1,l=a?s.geometries.length:1,r=0;r<l;r++){if(o=a?s.geometries[r]:s,o===null){if(e(null,f,u,d,c)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(o,f,u,d,c)===!1)return!1;break}case"GeometryCollection":{for(i=0;i<o.geometries.length;i++)if(e(o.geometries[i],f,u,d,c)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}f++}}function hl(n,e){On(n,function(t,i,r,o,l){var s=t===null?null:t.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return e(Pt(t,r,{bbox:o,id:l}),i,0)===!1?!1:void 0}var a;switch(s){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon";break}for(var u=0;u<t.coordinates.length;u++){var d=t.coordinates[u],c={type:a,coordinates:d};if(e(Pt(c,r),i,u)===!1)return!1}})}function gl(n,e={}){const t=[];if(On(n,r=>{t.push(r.coordinates)}),t.length<2)throw new Error("Must have at least 2 geometries");const i=or.union(t[0],...t.slice(1));return i.length===0?null:i.length===1?Nn(i[0],e.properties):ir(i,e.properties)}var lr=gl;function bl(n,e={}){if(n.bbox!=null&&e.recompute!==!0)return n.bbox;const t=[1/0,1/0,-1/0,-1/0];return sr(n,i=>{t[0]>i[0]&&(t[0]=i[0]),t[1]>i[1]&&(t[1]=i[1]),t[2]<i[0]&&(t[2]=i[0]),t[3]<i[1]&&(t[3]=i[1])}),t}var xi=bl;function yl(n){const e=[];if(On(n,r=>{e.push(r.coordinates)}),e.length<2)throw new Error("Must have at least two features");const t=n.features[0].properties||{},i=or.difference(e[0],...e.slice(1));return i.length===0?null:i.length===1?Nn(i[0],t):ir(i,t)}var vl=yl;function pl(n){if(!n)throw new Error("geojson is required");var e=[];return hl(n,function(t){e.push(t)}),Rt(e)}var Ll=pl;function ki(n,e){const t=vl(Rt([Nn([[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]]),n]));if(!t)return;t.properties={isMask:!0};const i=Kt(xi(n)),r=(i[2]-i[0])/360/1e3,o=i[0]<-180,l=i[2]>180,s=Ll(n);if(s.features.length>1&&(o||l))for(const a of s.features){const u=Kt(xi(a));if(l&&u[0]<-180+r)for(const d of a.geometry.coordinates)for(const c of d)c[0]+=360-r;if(o&&u[2]>180-r)for(const d of a.geometry.coordinates)for(const c of d)c[0]-=360-r}e(Rt([s.features.length<2?n:lr(s)??n,t]))}const Mi={fill:{paint:{"fill-color":"#000","fill-opacity":.1},filter:["all",["==",["geometry-type"],"Polygon"],["has","isMask"]]},line:{layout:{"line-cap":"square"},paint:{"line-width":["case",["==",["geometry-type"],"Polygon"],2,3],"line-dasharray":[1,1],"line-color":"#3170fe"},filter:["!",["has","isMask"]]}},Ht="mtlr-gc-full-geom",Ni="mtlr-gc-full-geom-fill",Ti="mtlr-gc-full-geom-line";function El(n,e,t=!0,i=!0,r={},o={},l=Mi){let s;const a=[];let u,d,c;function f(){if(!n.loaded){n.once("load",f);return}const m=l?l===!0?Mi:l:void 0;if(!(m!=null&&m.fill)&&!(m!=null&&m.line))return;const h=n.getSource(Ht);if(h)h.setData(c??Rt([]));else if(c)n.addSource(Ht,{type:"geojson",data:c});else return;!n.getLayer(Ni)&&m!=null&&m.fill&&n.addLayer({...m==null?void 0:m.fill,id:Ni,type:"fill",source:Ht}),!n.getLayer(Ti)&&m!=null&&m.line&&n.addLayer({...m==null?void 0:m.line,id:Ti,type:"line",source:Ht})}function g(m){c=m,f()}n.on("styledata",()=>{setTimeout(()=>{c&&f()})});const b=m=>{s==null||s({type:"mapClick",coordinates:[m.lngLat.lng,m.lngLat.lat]})};function S(m=!1){if(!e)throw new Error;const h=document.createElement("div");return m&&h.classList.add("marker-interactive"),new gs({props:{displayIn:"maplibre"},target:h}),new e.Marker({element:h,offset:[1,-13]})}return{setEventHandler(m){m?(s=m,n.on("click",b)):(s=void 0,n.off("click",b))},flyTo(m,h){n.flyTo({center:m,...h?{zoom:h}:{},...r})},fitBounds(m,h,k){n.fitBounds([[m[0],m[1]],[m[2],m[3]]],{padding:h,...k?{maxZoom:k}:{},...o})},indicateReverse(m){n.getCanvasContainer().style.cursor=m?"crosshair":""},setReverseMarker(m){!e||!t||(d?m?d.setLngLat(m):(d.remove(),d=void 0):m&&(t instanceof Function?d=t(n)??void 0:(d=(typeof t=="object"?new e.Marker(t):S()).setLngLat(m).addTo(n),d.getElement().classList.add("marker-reverse"))))},setFeatures(m,h,k){for(const _ of a)_.remove();if(a.length=0,g(void 0),!!e){if(h){let _=!1;if(h.geometry.type==="GeometryCollection"){const x=h.geometry.geometries.filter(N=>N.type==="Polygon"||N.type==="MultiPolygon");e:if(x.length>0){const N=lr(Rt(x.map(O=>Pt(O))));if(!N)break e;ki({...h,geometry:N.geometry},g),_=!0}else{const N=h.geometry.geometries.filter(O=>O.type==="LineString"||O.type==="MultiLineString");N.length>0&&(g({...h,geometry:{type:"GeometryCollection",geometries:N}}),_=!0)}}if(!_){if(h.geometry.type==="Polygon"||h.geometry.type==="MultiPolygon")ki(h,g);else if(h.geometry.type==="LineString"||h.geometry.type==="MultiLineString"){g(h);return}}if(!k&&h.geometry.type!=="Point")return;if(t instanceof Function){const x=t(n,h);x&&a.push(x)}else t&&a.push(typeof t=="object"?new e.Marker(t):S().setLngLat(h.center).addTo(n))}if(i)for(const _ of m??[]){if(_===h)continue;let x;if(i instanceof Function){if(x=i(n,_),!x)continue}else x=(typeof i=="object"?new e.Marker(i):S(!0)).setLngLat(_.center).setPopup(new e.Popup({offset:[1,-27],closeButton:!1,closeOnMove:!0,className:"maptiler-gc-popup"}).setText(_.place_type[0]==="reverse"?_.place_name:_.place_name.replace(/,.*/,""))).addTo(n);const N=x.getElement();N.addEventListener("click",O=>{O.stopPropagation(),s==null||s({type:"markerClick",id:_.id})}),N.addEventListener("mouseenter",()=>{s==null||s({type:"markerMouseEnter",id:_.id}),x.togglePopup()}),N.addEventListener("mouseleave",()=>{s==null||s({type:"markerMouseLeave",id:_.id}),x.togglePopup()}),a.push(x)}}},setSelectedMarker(m){u&&u.getElement().classList.toggle("marker-selected",!1),u=m>-1?a[m]:void 0,u==null||u.getElement().classList.toggle("marker-selected",!0)},getCenterAndZoom(){const m=n.getCenter();return[n.getZoom(),m.lng,m.lat]}}}function Sl(n,e,t){var i,r;class o{constructor(m,h){xe(this,"type"),xe(this,"target"),this.type=h,this.target=m}}class l extends o{constructor(m,h){super(m,"select"),xe(this,"feature"),Object.assign(this,h)}}class s extends o{constructor(m,h){super(m,"featureslisted"),xe(this,"features"),this.features=h}}class a extends o{constructor(m,h){super(m,"featuresmarked"),xe(this,"features"),this.features=h}}class u extends o{constructor(m,h){super(m,"optionsvisibilitychange"),xe(this,"optionsVisible"),this.optionsVisible=h}}class d extends o{constructor(m,h){super(m,"pick"),xe(this,"feature"),this.feature=h}}class c extends o{constructor(m,h){super(m,"querychange"),xe(this,"query"),this.query=h}}class f extends o{constructor(m,h,k){super(m,"response"),xe(this,"url"),xe(this,"featureCollection"),this.url=h,this.featureCollection=k}}class g extends o{constructor(m,h){super(m,"reversetoggle"),xe(this,"reverse"),this.reverse=h}}class b extends n{constructor(m={}){super(),Qn(this,i),Qn(this,r),Vn(this,r,m)}onAddInt(m){const h=document.createElement("div");h.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl maplibregl-ctrl-geocoder maplibregl-ctrl mapboxgl-ctrl-group";const{marker:k,showResultMarkers:_,flyTo:x,fullGeometryStyle:N,...O}=ae(this,r),v=typeof x=="boolean"?{}:x,y={mapController:El(m,e,k,_,v,v,N),flyTo:x===void 0?!0:!!x,apiKey:"",...t==null?void 0:t(m,h),...O};if(!y.apiKey)throw new Error("no apiKey provided");return Vn(this,i,new Ds({target:h,props:y})),ae(this,i).$on("select",M=>{this.fire(new l(this,M.detail))}),ae(this,i).$on("pick",M=>{this.fire(new d(this,M.detail.feature))}),ae(this,i).$on("featureslisted",M=>{this.fire(new s(this,M.detail.features))}),ae(this,i).$on("featuresmarked",M=>{this.fire(new a(this,M.detail.features))}),ae(this,i).$on("response",M=>{this.fire(new f(this,M.detail.url,M.detail.featureCollection))}),ae(this,i).$on("optionsvisibilitychange",M=>{this.fire(new u(this,M.detail.optionsVisible))}),ae(this,i).$on("reversetoggle",M=>{this.fire(new g(this,M.detail.reverse))}),ae(this,i).$on("querychange",M=>{this.fire(new c(this,M.detail.query))}),h}on(m,h){return super.on(m,h)}once(m,h){return super.once(m,h)}off(m,h){return super.off(m,h)}listens(m){return super.listens(m)}setOptions(m){var h;Object.assign(ae(this,r),m);const{marker:k,showResultMarkers:_,flyTo:x,fullGeometryStyle:N,...O}=ae(this,r);(h=ae(this,i))==null||h.$set(O)}setQuery(m,h=!0){var k;(k=ae(this,i))==null||k.setQuery(m,h)}clearMap(){var m;(m=ae(this,i))==null||m.clearMap()}clearList(){var m;(m=ae(this,i))==null||m.clearList()}setReverseMode(m){var h;(h=ae(this,i))==null||h.$set({reverseActive:m})}focus(){var m;(m=ae(this,i))==null||m.focus()}blur(){var m;(m=ae(this,i))==null||m.blur()}onRemove(){var m;(m=ae(this,i))==null||m.$destroy()}}return i=new WeakMap,r=new WeakMap,{MapLibreBasedGeocodingControl:b,events:{SelectEvent:l,FeaturesListedEvent:s,FeaturesMarkedEvent:a,OptionsVisibilityChangeEvent:u,PickEvent:d,QueryChangeEvent:c,ResponseEvent:f,ReverseToggleEvent:g}}}const{MapLibreBasedGeocodingControl:ha,events:st}=Sl(Br.Evented,Hr);st.SelectEvent;st.FeaturesListedEvent;st.FeaturesMarkedEvent;st.OptionsVisibilityChangeEvent;st.PickEvent;st.QueryChangeEvent;st.ResponseEvent;st.ReverseToggleEvent;const wl=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([6-9][0-9])\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([6-9][0-9])\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*(EAST|WEST|[EW])?$/i,Oi=/^([+-]?[0-8]?[0-9])\s+([0-5]?[0-9]\.\d{3,})[\s,]{1,}([+-]?[0-1]?[0-9]?[0-9])\s+([0-5]?[0-9]\.\d{3,})$/,Ii=/^(NORTH|SOUTH|[NS])?[\s]*([+-]?[0-8]?[0-9](?:[\.,]\d{3,}))[\s]*([•º°]?)[\s]*(NORTH|SOUTH|[NS])?[\s]*[,/;]?[\s]*(EAST|WEST|[EW])?[\s]*([+-]?[0-1]?[0-9]?[0-9](?:[\.,]\d{3,}))[\s]*([•º°]?)[\s]*(EAST|WEST|[EW])?$/i,Pi=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*(\.)\s*([0-5]?[0-9])\s*(\.)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*(\.)\s*([0-5]?[0-9])\s*(\.)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(EAST|WEST|[EW])?$/i,Ri=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*(D(?:EG)?(?:REES)?)\s*([0-5]?[0-9])\s*(M(?:IN)?(?:UTES)?)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(S(?:EC)?(?:ONDS)?)?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*(D(?:EG)?(?:REES)?)\s*([0-5]?[0-9])\s*(M(?:IN)?(?:UTES)?)\s*((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(S(?:EC)?(?:ONDS)?)\s*(EAST|WEST|[EW])?$/i,Ai=/^(NORTH|SOUTH|[NS])?\s*([+-]?[0-8]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([0-5]?[0-9](?:[\.,]\d{1,})?)?\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*,?((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(''|′′|’’|´´|["″”\.])?\s*(NORTH|SOUTH|[NS])?(?:\s*[,/;]\s*|\s*)(EAST|WEST|[EW])?\s*([+-]?[0-1]?[0-9]?[0-9])\s*([•º°\.:]|D(?:EG)?(?:REES)?)?\s*,?([0-5]?[0-9](?:[\.,]\d{1,})?)?\s*(['′´’\.:]|M(?:IN)?(?:UTES)?)?\s*,?((?:[0-5]?[0-9])(?:[\.,]\d{1,3})?)?\s*(''|′′|´´|’’|["″”\.])?\s*(EAST|WEST|[EW])?$/i;function Cl(n){if(!["DMS","DM","DD"].includes(n))throw new Error("invalid format specified");if(this.decimalCoordinates&&this.decimalCoordinates.trim()){const e=this.decimalCoordinates.split(",").map(g=>Number(g.trim())),t=Number(e[0]),i=Number(e[1]),r=Math.abs(t),o=Math.abs(i),l=t>0?"N":"S",s=i>0?"E":"W";let a;n=="DD"&&(a=`${r}° ${l}, ${o}° ${s}`);const u=Math.floor(r),d=Math.floor(o),c=(r-u)*60,f=(o-d)*60;if(n=="DM"){let g=Wi(c,3).toFixed(3).padStart(6,"0"),b=Wi(f,3).toFixed(3).padStart(6,"0");g.endsWith(".000")&&b.endsWith(".000")&&(g=g.replace(/\.000$/,""),b=b.replace(/\.000$/,"")),a=`${u}° ${g}' ${l}, ${d}° ${b}' ${s}`}if(n=="DMS"){const g=Math.floor(c),b=Math.floor(f);let S=((c-g)*60).toFixed(1).padStart(4,"0"),m=((f-b)*60).toFixed(1).padStart(4,"0");const h=g.toString().padStart(2,"0"),k=b.toString().padStart(2,"0");S.endsWith(".0")&&m.endsWith(".0")&&(S=S.replace(/\.0$/,""),m=m.replace(/\.0$/,"")),a=`${u}° ${h}' ${S}" ${l}, ${d}° ${k}' ${m}" ${s}`}return a}else throw new Error("no decimal coordinates to convert")}function Wi(n,e){const t=Math.pow(10,e);return Math.round((n+Number.EPSILON)*t)/t}function In(n,e){e||(e=5),n=n.replace(/\s+/g," ").trim();let t=null,i=null,r="",o="",l=null,s=[],a=!1;if(wl.test(n))throw new Error("invalid coordinate value");if(Oi.test(n))if(s=Oi.exec(n),a=Mt(s),a)t=Math.abs(s[1])+s[2]/60,Number(s[1])<0&&(t*=-1),i=Math.abs(s[3])+s[4]/60,Number(s[3])<0&&(i*=-1),l="DM";else throw new Error("invalid coordinate format");else if(Ii.test(n))if(s=Ii.exec(n),a=Mt(s),a){if(t=s[2],i=s[6],t.includes(",")&&(t=t.replace(",",".")),i.includes(",")&&(i=i.replace(",",".")),l="DD",Number(Math.round(t))==Number(t))throw new Error("integer only coordinate provided");if(Number(Math.round(i))==Number(i))throw new Error("integer only coordinate provided");s[1]?(r=s[1],o=s[5]):s[4]&&(r=s[4],o=s[8])}else throw new Error("invalid decimal coordinate format");else if(Pi.test(n))if(s=Pi.exec(n),a=Mt(s),a)t=Math.abs(parseInt(s[2])),s[4]&&(t+=s[4]/60,l="DM"),s[6]&&(t+=s[6].replace(",",".")/3600,l="DMS"),parseInt(s[2])<0&&(t=-1*t),i=Math.abs(parseInt(s[9])),s[11]&&(i+=s[11]/60),s[13]&&(i+=s[13].replace(",",".")/3600),parseInt(s[9])<0&&(i=-1*i),s[1]?(r=s[1],o=s[8]):s[7]&&(r=s[7],o=s[14]);else throw new Error("invalid DMS coordinates format");else if(Ri.test(n))if(s=Ri.exec(n),a=Mt(s),a)t=Math.abs(parseInt(s[2])),s[4]&&(t+=s[4]/60,l="DM"),s[6]&&(t+=s[6]/3600,l="DMS"),parseInt(s[2])<0&&(t=-1*t),i=Math.abs(parseInt(s[10])),s[12]&&(i+=s[12]/60),s[14]&&(i+=s[14]/3600),parseInt(s[10])<0&&(i=-1*i),s[1]?(r=s[1],o=s[9]):s[8]&&(r=s[8],o=s[16]);else throw new Error("invalid DMS coordinates format");else if(Ai.test(n)){if(s=Ai.exec(n),a=Mt(s),s.filter(u=>u).length<=5)throw new Error("invalid coordinates format");if(a)t=Math.abs(parseInt(s[2])),s[4]&&(t+=s[4].replace(",",".")/60,l="DM"),s[6]&&(t+=s[6].replace(",",".")/3600,l="DMS"),parseInt(s[2])<0&&(t=-1*t),i=Math.abs(parseInt(s[10])),s[12]&&(i+=s[12].replace(",",".")/60),s[14]&&(i+=s[14].replace(",",".")/3600),parseInt(s[10])<0&&(i=-1*i),s[1]?(r=s[1],o=s[9]):s[8]&&(r=s[8],o=s[16]);else throw new Error("invalid coordinates format")}if(a){if(Math.abs(i)>=180)throw new Error("invalid longitude value");if(Math.abs(t)>=90)throw new Error("invalid latitude value");if(r&&!o||!r&&o)throw new Error("invalid coordinates value");if(r&&r==o)throw new Error("invalid coordinates format");t.toString().includes(",")&&(t=t.replace(",",".")),i.toString().includes(",")&&(i=i.replace(",","."));let u=/S|SOUTH/i;u.test(r)&&t>0&&(t=-1*t),u=/W|WEST/i,u.test(o)&&i>0&&(i=-1*i);const d=s[0].trim();let c,f;const g=/[,/;\u0020]/g,b=d.match(g);if(b==null){const h=Math.floor(n.length/2);c=d.substring(0,h).trim(),f=d.substring(h).trim()}else{let h;b.length%2==1?h=Math.floor(b.length/2):h=b.length/2-1;let k=0;if(h==0)k=d.indexOf(b[0]),c=d.substring(0,k).trim(),f=d.substring(k+1).trim();else{let _=0,x=0;for(;_<=h;)k=d.indexOf(b[_],x),x=k+1,_++;c=d.substring(0,k).trim(),f=d.substring(k+1).trim()}}const S=c.split(".");if(S.length==2&&S[1]==0&&S[1].length!=2)throw new Error("invalid coordinates format");const m=f.split(".");if(m.length==2&&m[1]==0&&m[1].length!=2)throw new Error("invalid coordinates format");if(/^\d+$/.test(c)||/^\d+$/.test(f))throw new Error("degree only coordinate/s provided");return t=Number(Number(t).toFixed(e)),i=Number(Number(i).toFixed(e)),Object.freeze({verbatimCoordinates:d,verbatimLatitude:c,verbatimLongitude:f,decimalLatitude:t,decimalLongitude:i,decimalCoordinates:`${t},${i}`,originalFormat:l,closeEnough:_l,toCoordinateFormat:Cl})}else throw new Error("coordinates pattern match failed")}function Mt(n){if(!isNaN(n[0]))return!1;const e=[...n];if(e.shift(),e.length%2>0)return!1;const t=/^[-+]?\d+([\.,]\d+)?$/,i=/[eastsouthnorthwest]+/i,r=e.length/2;for(let o=0;o<r;o++){const l=e[o],s=e[o+r],a=t.test(l)&&t.test(s),u=i.test(l)&&i.test(s),d=l==s;if(!(l==null&&s==null)){if(l==null||s==null)return!1;if(a||u||d)continue;return!1}}return!0}function zi(n,e){const t=Math.abs(n-e);return Number(t.toFixed(6))<=1e-5}function _l(n){if(!n)throw new Error("coords must be provided");if(n.includes(",")){const e=n.split(",");if(Number(e[0])==NaN||Number(e[1])==NaN)throw new Error("coords are not valid decimals");return zi(this.decimalLatitude,Number(e[0]))&&zi(this.decimalLongitude,e[1])}else throw new Error("coords being tested must be separated by a comma")}const xl=Object.freeze({DMS:"DMS",DM:"DM",DD:"DD"});In.to=xl;const kl=[{verbatimCoordinates:"40.123, -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123° N 74.123° W",verbatimLatitude:"40.123° N",verbatimLongitude:"74.123° W"},{verbatimCoordinates:"40.123° N 74.123° W",verbatimLatitude:"40.123° N",verbatimLongitude:"74.123° W"},{verbatimCoordinates:'40° 7´ 22.8" N 74° 7´ 22.8" W',verbatimLatitude:'40° 7´ 22.8" N',verbatimLongitude:'74° 7´ 22.8" W'},{verbatimCoordinates:"40° 7.38’ , -74° 7.38’",verbatimLatitude:"40° 7.38’",verbatimLongitude:"-74° 7.38’"},{verbatimCoordinates:"N40°7’22.8’’, W74°7’22.8’’",verbatimLatitude:"N40°7’22.8’’",verbatimLongitude:"W74°7’22.8’’"},{verbatimCoordinates:'40°7’22.8"N, 74°7’22.8"W',verbatimLatitude:'40°7’22.8"N',verbatimLongitude:'74°7’22.8"W'},{verbatimCoordinates:`40°7'22.8"N, 74°7'22.8"W`,verbatimLatitude:`40°7'22.8"N`,verbatimLongitude:`74°7'22.8"W`},{verbatimCoordinates:"40 7 22.8, -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"},{verbatimCoordinates:"40.123 -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123°,-74.123°",verbatimLatitude:"40.123°",verbatimLongitude:"-74.123°"},{verbatimCoordinates:"40.123N74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"4007.38N7407.38W",verbatimLatitude:"4007.38N",verbatimLongitude:"7407.38W"},{verbatimCoordinates:'40°7’22.8"N, 74°7’22.8"W',verbatimLatitude:'40°7’22.8"N',verbatimLongitude:'74°7’22.8"W'},{verbatimCoordinates:"400722.8N740722.8W",verbatimLatitude:"400722.8N",verbatimLongitude:"740722.8W"},{verbatimCoordinates:"N 40 7.38 W 74 7.38",verbatimLatitude:"N 40 7.38",verbatimLongitude:"W 74 7.38"},{verbatimCoordinates:"40:7:22.8N 74:7:22.8W",verbatimLatitude:"40:7:22.8N",verbatimLongitude:"74:7:22.8W"},{verbatimCoordinates:"40:7:23N,74:7:23W",verbatimLatitude:"40:7:23N",verbatimLongitude:"74:7:23W",decimalLatitude:40.1230555555,decimalLongitude:-74.1230555555},{verbatimCoordinates:'40°7’23"N 74°7’23"W',verbatimLatitude:'40°7’23"N',verbatimLongitude:'74°7’23"W',decimalLatitude:40.1230555555,decimalLongitude:-74.12305555555555},{verbatimCoordinates:'40°7’23"S 74°7’23"E',verbatimLatitude:'40°7’23"S',verbatimLongitude:'74°7’23"E',decimalLatitude:-40.1230555555,decimalLongitude:74.12305555555555},{verbatimCoordinates:'40°7’23" -74°7’23"',verbatimLatitude:'40°7’23"',verbatimLongitude:'-74°7’23"',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:'40d 7’ 23" N 74d 7’ 23" W',verbatimLatitude:'40d 7’ 23" N',verbatimLongitude:'74d 7’ 23" W',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:"40.123N 74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"40° 7.38, -74° 7.38",verbatimLatitude:"40° 7.38",verbatimLongitude:"-74° 7.38"},{verbatimCoordinates:"40° 7.38, -74° 7.38",verbatimLatitude:"40° 7.38",verbatimLongitude:"-74° 7.38"},{verbatimCoordinates:"40 7 22.8; -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"}],Ml={decimalLatitude:40.123,decimalLongitude:-74.123},Nl=[{verbatimCoordinates:`50°4'17.698"south, 14°24'2.826"east`,verbatimLatitude:`50°4'17.698"south`,verbatimLongitude:`14°24'2.826"east`,decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"50d4m17.698S 14d24m2.826E",verbatimLatitude:"50d4m17.698S",verbatimLongitude:"14d24m2.826E",decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"40:26:46N,79:56:55W",verbatimLatitude:"40:26:46N",verbatimLongitude:"79:56:55W",decimalLatitude:40.44611111111111,decimalLongitude:-79.9486111111111},{verbatimCoordinates:"40:26:46.302N 79:56:55.903W",verbatimLatitude:"40:26:46.302N",verbatimLongitude:"79:56:55.903W",decimalLatitude:40.446195,decimalLongitude:-79.94886194444445},{verbatimCoordinates:"40°26′47″N 79°58′36″W",verbatimLatitude:"40°26′47″N",verbatimLongitude:"79°58′36″W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40d 26′ 47″ N 79d 58′ 36″ W",verbatimLatitude:"40d 26′ 47″ N",verbatimLongitude:"79d 58′ 36″ W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40.446195N 79.948862W",verbatimLatitude:"40.446195N",verbatimLongitude:"79.948862W",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40,446195° 79,948862°",verbatimLatitude:"40,446195°",verbatimLongitude:"79,948862°",decimalLatitude:40.446195,decimalLongitude:79.948862},{verbatimCoordinates:"40° 26.7717, -79° 56.93172",verbatimLatitude:"40° 26.7717",verbatimLongitude:"-79° 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.446195, -79.948862",verbatimLatitude:"40.446195",verbatimLongitude:"-79.948862",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.123256; -74.123256",verbatimLatitude:"40.123256",verbatimLongitude:"-74.123256",decimalLatitude:40.123256,decimalLongitude:-74.123256},{verbatimCoordinates:"18°24S 22°45E",verbatimLatitude:"18°24S",verbatimLongitude:"22°45E",decimalLatitude:-18.4,decimalLongitude:22.75}],Tl=[{verbatimCoordinates:"10.432342S 10.6345345E",verbatimLatitude:"10.432342S",verbatimLongitude:"10.6345345E",decimalLatitude:-10.432342,decimalLongitude:10.6345345},{verbatimCoordinates:"10.00S 10.00E",verbatimLatitude:"10.00S",verbatimLongitude:"10.00E",decimalLatitude:-10,decimalLongitude:10},{verbatimCoordinates:"00.00S 01.00E",verbatimLatitude:"00.00S",verbatimLongitude:"01.00E",decimalLatitude:0,decimalLongitude:1},{verbatimCoordinates:"18.24S 22.45E",verbatimLatitude:"18.24S",verbatimLongitude:"22.45E",decimalLatitude:-18.4,decimalLongitude:22.75},{verbatimCoordinates:"27deg 15min 45.2sec S 18deg 32min 53.7sec E",verbatimLatitude:"27deg 15min 45.2sec S",verbatimLongitude:"18deg 32min 53.7sec E",decimalLatitude:-27.262555555555554,decimalLongitude:18.54825},{verbatimCoordinates:"-23.3245° S / 28.2344° E",verbatimLatitude:"-23.3245° S",verbatimLongitude:"28.2344° E",decimalLatitude:-23.3245,decimalLongitude:28.2344},{verbatimCoordinates:"40° 26.7717 -79° 56.93172",verbatimLatitude:"40° 26.7717",verbatimLongitude:"-79° 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"27.15.45S 18.32.53E",verbatimLatitude:"27.15.45S",verbatimLongitude:"18.32.53E",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"-27.15.45 18.32.53",verbatimLatitude:"-27.15.45",verbatimLongitude:"18.32.53",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"27.15.45.2S 18.32.53.4E",verbatimLatitude:"27.15.45.2S",verbatimLongitude:"18.32.53.4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"27.15.45,2S 18.32.53,4E",verbatimLatitude:"27.15.45,2S",verbatimLongitude:"18.32.53,4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"S23.43563 °  E22.45634 °",verbatimLatitude:"S23.43563 °",verbatimLongitude:"E22.45634 °",decimalLatitude:-23.43563,decimalLongitude:22.45634},{verbatimCoordinates:"27,71372° S 23,07771° E",verbatimLatitude:"27,71372° S",verbatimLongitude:"23,07771° E",decimalLatitude:-27.71372,decimalLongitude:23.07771},{verbatimCoordinates:"27.45.34 S 23.23.23 E",verbatimLatitude:"27.45.34 S",verbatimLongitude:"23.23.23 E",decimalLatitude:-27.759444,decimalLongitude:23.38972222},{verbatimCoordinates:"S 27.45.34 E 23.23.23",verbatimLatitude:"S 27.45.34",verbatimLongitude:"E 23.23.23",decimalLatitude:-27.759444,decimalLongitude:23.38972222},{verbatimCoordinates:"53 16.3863,4 52.8171",verbatimLatitude:"53 16.3863",verbatimLongitude:"4 52.8171",decimalLatitude:53.273105,decimalLongitude:4.88029},{verbatimCoordinates:"50 8.2914,-5 2.4447",verbatimLatitude:"50 8.2914",verbatimLongitude:"-5 2.4447",decimalLatitude:50.13819,decimalLongitude:-5.040745},{verbatimCoordinates:"N 48° 30,6410', E 18° 57,4583'",verbatimLatitude:"N 48° 30,6410'",verbatimLongitude:"E 18° 57,4583'",decimalLatitude:48.51068,decimalLongitude:18.95764},{verbatimCoordinates:"1.23456, 18.33453",verbatimLatitude:"1.23456",verbatimLongitude:"18.33453",decimalLatitude:1.23456,decimalLongitude:18.33453}];function Ol(){const n=[];return kl.forEach(e=>{e.decimalLatitude?n.push(e):n.push({...e,...Ml})}),[...n,...Nl,...Tl]}const Il=Ol();In.formats=Il.map(n=>n.verbatimCoordinates);const ga=In;const Pl=Symbol.for("svelte-maplibre");function Rl(){return Zi(Pl)}function Al(n){return"layerType"in n&&n.layerType==="deckgl"}const Wl=n=>({features:n[0]&16,data:n[0]&16,map:n[0]&4,close:n[0]&1}),Fi=n=>{var e;return{features:n[4],data:(e=n[4])==null?void 0:e[0],map:n[2],close:n[31]}};function Di(n){let e,t,i=(n[4]||n[3]instanceof Pe.Marker)&&Ui(n);return{c(){e=qi("div"),i&&i.c()},m(r,o){Ae(r,e,o),i&&i.m(e,null),n[32](e),t=!0},p(r,o){r[4]||r[3]instanceof Pe.Marker?i?(i.p(r,o),o[0]&24&&Z(i,1)):(i=Ui(r),i.c(),Z(i,1),i.m(e,null)):i&&(tt(),Q(i,1,1,()=>{i=null}),nt())},i(r){t||(Z(i),t=!0)},o(r){Q(i),t=!1},d(r){r&&We(e),i&&i.d(),n[32](null)}}}function Ui(n){let e;const t=n[30].default,i=dt(t,n,n[29],Fi);return{c(){i&&i.c()},m(r,o){i&&i.m(r,o),e=!0},p(r,o){i&&i.p&&(!e||o[0]&536870933)&&ft(i,t,r,r[29],e?ht(t,r[29],o,Wl):mt(r[29]),Fi)},i(r){e||(Z(i,r),e=!0)},o(r){Q(i,r),e=!1},d(r){i&&i.d(r)}}}function zl(n){let e,t,i=n[9].default&&Di(n);return{c(){i&&i.c(),e=Wt()},m(r,o){i&&i.m(r,o),Ae(r,e,o),t=!0},p(r,o){r[9].default?i?(i.p(r,o),o[0]&512&&Z(i,1)):(i=Di(r),i.c(),Z(i,1),i.m(e.parentNode,e)):i&&(tt(),Q(i,1,1,()=>{i=null}),nt())},i(r){t||(Z(i),t=!0)},o(r){Q(i),t=!1},d(r){r&&We(e),i&&i.d(r)}}}function Fl(n,e,t){let i,r,o,l,s,a,{$$slots:u={},$$scope:d}=e;const c=Dr(u);let{closeButton:f=void 0}=e,{closeOnClickOutside:g=!0}=e,{closeOnClickInside:b=!1}=e,{closeOnMove:S=!1}=e,{openOn:m="click"}=e,{openIfTopMost:h=!0}=e,{focusAfterOpen:k=!0}=e,{anchor:_=void 0}=e,{offset:x=void 0}=e,{popupClass:N=void 0}=e,{maxWidth:O=void 0}=e,{lngLat:v=void 0}=e,{html:y=void 0}=e,{open:M=!1}=e;const z=Cn(),{map:E,popupTarget:D,layerEvent:K,layer:I,eventTopMost:U}=Rl();fe(n,E,w=>t(2,o=w)),fe(n,D,w=>t(3,s=w)),fe(n,K,w=>t(28,l=w)),fe(n,I,w=>t(35,a=w));const $=["click","dblclick","contextmenu"];let A,oe=!1,le;function we(){if(!A)return;let w=A.getElement();!w||w===le||(le=w,m==="hover"&&(le.style.pointerEvents="none"),le.addEventListener("mouseenter",()=>{t(24,oe=!0)},{passive:!0}),le.addEventListener("mouseleave",()=>{t(24,oe=!1)},{passive:!0}),le.addEventListener("click",()=>{b&&t(0,M=!1)},{passive:!0}))}Ur(()=>{if(o)return o.on("click",Me),o.on("contextmenu",Me),typeof s=="string"&&(o.on("click",s,ie),o.on("dblclick",s,ie),o.on("contextmenu",s,ie),o.on("mousemove",s,Ce),o.on("mouseleave",s,ve),o.on("touchstart",s,q),o.on("touchend",s,he)),()=>{o!=null&&o.loaded()&&(A==null||A.remove(),o.off("click",Me),o.off("contextmenu",Me),s instanceof Pe.Marker?s.getPopup()===A&&s.setPopup(void 0):typeof s=="string"&&(o.off("click",s,ie),o.off("dblclick",s,ie),o.off("contextmenu",s,ie),o.off("mousemove",s,Ce),o.off("mouseleave",s,ve),o.off("touchstart",s,q),o.off("touchend",s,he)))}});function me(w){return h?!("marker"in w)&&!Al(w)&&U(w)!==a:!1}let te=null,ne="normal";function ie(w){w.type===m&&(me(w)||("layerType"in w?w.layerType==="deckgl"?(t(10,v=w.coordinate),t(4,te=w.object?[w.object]:null)):(t(10,v=w.lngLat),t(4,te=w.features??[])):(t(10,v=w.lngLat),t(4,te=w.features??[])),setTimeout(()=>t(0,M=!0))))}let ue=null;function q(w){ue=w.point}function he(w){if(!ue||m!=="hover")return;let F=ue.dist(w.point);ue=null,F<3&&(t(10,v=w.lngLat),t(4,te=w.features??[]),A.isOpen()?t(25,ne="justOpened"):(t(25,ne="opening"),t(0,M=!0)))}function ve(w){m!=="hover"||ue||ne!=="normal"||(t(0,M=!1),t(4,te=null))}function Ce(w){if(!(m!=="hover"||ue||ne!=="normal")){if(me(w)){t(0,M=!1),t(4,te=null);return}t(0,M=!0),t(4,te=w.features??[]),t(10,v=w.lngLat)}}function Me(w){if(ne==="justOpened"){t(25,ne="normal");return}if(!g)return;let F=[le,s instanceof Pe.Marker?s==null?void 0:s.getElement():null];M&&A.isOpen()&&!F.some(B=>B==null?void 0:B.contains(w.originalEvent.target))&&(w.type==="contextmenu"&&m==="contextmenu"||w.type!=="contextmenu")&&t(0,M=!1)}Xe(()=>{o&&(A!=null&&A.isOpen())&&A.remove()});let ce;const Ie=()=>t(0,M=!1);function T(w){$t[w?"unshift":"push"](()=>{ce=w,t(1,ce)})}return n.$$set=w=>{"closeButton"in w&&t(11,f=w.closeButton),"closeOnClickOutside"in w&&t(12,g=w.closeOnClickOutside),"closeOnClickInside"in w&&t(13,b=w.closeOnClickInside),"closeOnMove"in w&&t(14,S=w.closeOnMove),"openOn"in w&&t(15,m=w.openOn),"openIfTopMost"in w&&t(16,h=w.openIfTopMost),"focusAfterOpen"in w&&t(17,k=w.focusAfterOpen),"anchor"in w&&t(18,_=w.anchor),"offset"in w&&t(19,x=w.offset),"popupClass"in w&&t(20,N=w.popupClass),"maxWidth"in w&&t(21,O=w.maxWidth),"lngLat"in w&&t(10,v=w.lngLat),"html"in w&&t(22,y=w.html),"open"in w&&t(0,M=w.open),"$$scope"in w&&t(29,d=w.$$scope)},n.$$.update=()=>{if(n.$$.dirty[0]&14336&&t(27,i=f??(!g&&!b)),n.$$.dirty[0]&146685952&&(A||(t(23,A=new Pe.Popup({closeButton:i,closeOnClick:!1,closeOnMove:S,focusAfterOpen:k,maxWidth:O,className:N,anchor:_,offset:x})),le=A.getElement(),A.on("open",()=>{t(0,M=!0),we(),z("open",A)}),A.on("close",()=>{t(0,M=!1),z("close",A)}),A.on("hover",()=>{z("hover",A)}))),n.$$.dirty[0]&8421384&&A&&s instanceof Pe.Marker&&(m==="click"?s.setPopup(A):s.getPopup()===A&&s.setPopup(void 0)),n.$$.dirty[0]&268468224&&$.includes(m)&&(l==null?void 0:l.type)===m&&(ie(l),Ke(K,l=null,l)),n.$$.dirty[0]&268468224&&t(26,r=m==="hover"&&((l==null?void 0:l.type)==="mousemove"||(l==null?void 0:l.type)==="mouseenter")),n.$$.dirty[0]&352354304&&m==="hover"&&K&&(r&&l&&(l.layerType==="deckgl"?(t(10,v=l.coordinate),t(4,te=l.object?[l.object]:null)):(t(10,v=l.lngLat),t(4,te=l.features??[]))),t(0,M=(r||oe)??!1)),n.$$.dirty[0]&12582914&&(ce?A.setDOMContent(ce):y&&A.setHTML(y)),n.$$.dirty[0]&8389632&&v&&A.setLngLat(v),n.$$.dirty[0]&41943045&&o){let w=A.isOpen();M&&!w?(A.addTo(o),ne==="opening"&&t(25,ne="justOpened")):!M&&w&&A.remove()}},[M,ce,o,s,te,E,D,K,I,c,v,f,g,b,S,m,h,k,_,x,N,O,y,A,oe,ne,r,i,l,d,u,Ie,T]}class Dl extends Fe{constructor(e){super(),De(this,e,Fl,zl,Se,{closeButton:11,closeOnClickOutside:12,closeOnClickInside:13,closeOnMove:14,openOn:15,openIfTopMost:16,focusAfterOpen:17,anchor:18,offset:19,popupClass:20,maxWidth:21,lngLat:10,html:22,open:0},null,[-1,-1])}}const Ul=n=>({props:n&8}),Bi=n=>({props:Zl(n[3])});function Bl(n){let e;const t=n[1].default,i=dt(t,n,n[2],Bi);return{c(){i&&i.c()},m(r,o){i&&i.m(r,o),e=!0},p(r,o){i&&i.p&&(!e||o&12)&&ft(i,t,r,r[2],e?ht(t,r[2],o,Ul):mt(r[2]),Bi)},i(r){e||(Z(i,r),e=!0)},o(r){Q(i,r),e=!1},d(r){i&&i.d(r)}}}function Hl(n){let e,t;return e=new Dl({props:{openOn:n[0],$$slots:{default:[Bl,({features:i})=>({3:i}),({features:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){lt(e.$$.fragment)},m(i,r){at(e,i,r),t=!0},p(i,[r]){const o={};r&1&&(o.openOn=i[0]),r&12&&(o.$$scope={dirty:r,ctx:i}),e.$set(o)},i(i){t||(Z(e.$$.fragment,i),t=!0)},o(i){Q(e.$$.fragment,i),t=!1},d(i){ut(e,i)}}}function Zl(n){return n?n[0].properties??{}:(console.log("A Popup with null features should be impossible"),{})}function Gl(n,e,t){let{$$slots:i={},$$scope:r}=e,{openOn:o="hover"}=e;return n.$$set=l=>{"openOn"in l&&t(0,o=l.openOn),"$$scope"in l&&t(2,r=l.$$scope)},[o,i,r]}class ba extends Fe{constructor(e){super(),De(this,e,Gl,Hl,Se,{openOn:0})}}const ya="/npw/assets/boundaries-c02eb905.geojson",va="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAAAoCAYAAAAmPX7RAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAA7FSURBVHhe7ZsJeFXFFcfPPEDFBREUUEFEBBdkEwQkYVFUEG1BwQpuUavgVq1YK2ih4ELYRBShCoIkgAtWAogKtrgUSNwJiVrFBVRQcQNRUZHc6f//Zq7cvLx3Z4zf11LJ7/smd+7c++67mTPnzDln5qk2C7SWKgLR0iRYIFtR/xilerI1M9vRa81L82UT6p+hOO9H6aClsBmODydb4vlGRNVR0vlHe56RhD3u6iREydCSPPU56tNNUyzVlZLh6OTNqN9ummKhgMcpyZqHY3GyJZ69RfSFth5LlQaWp42eL5u0krdR3800ZaQMHXdkaZ58gPoGlP2TrfG0DKSwoRJ50p7H8Y0W3TQh2Z/a87Q4NfDYunjLfe0JqLO7SHv7qgftaeqpZS+Mt2P2S3+tLZ7HayEtapv2ED6zpb2ewH/K6xfB8FzSXKTjAaad7FOj/HPboTTGuA1pVgvSqGNPQHj/EZH/JQ3DVucrCERPtOdxVMPr5UIHtqHuo4VkopIaS3H00kIlarCtZ8SpgQU9RA7ZS+TMp0Xeh2U+o7HIX1qLnPqUSKd6IqPa2hsjnP8vkZFob7qPbYjw7tciB0NIWY+L7FFN5LGTzKC4qkhkJcbabe2MAM/C9w06QiQHwvsYMxNfshHe45F1IqNXG0E81N08M8qE10TmvouebS+Sjffr8oQZUKPx3M44H/qyyDLOcukJUNoFBfI+jl+gQEaxfCdaty7J1+sx3D7COYabC90jkKL98OC/24Y4NmNyPqyaZHOuTYvXHEhNuBFCy8TAZ6FZC3eU1/B1/SEA1h98T2QbuiW8Nm+tERyF2BoaUhuGikOImkmOQRcUo+ta4/yCwzGA0JV9lon89p/mWf0PLa+JN2Msh89+AzPSwMPsBcvu+C4Opuz6IsNfjRUeYX9MwFzIDrsr2RJPTVFqJJTxO9TvNU0u1KiEZD2KCoa5k9qYnG+09bR4CfCDb+FCwfz0OcQ2pHDyQehgXGPp1sA2ZuC5T8yRWkahbcS/zrYsdHBDaNghMIMvwZU4Dt9XHW83+x2ohbURU980wu4QEeBh0HJqI5+1HwbDNxG/DY6G/LmlyEl4v9wSkSWcqdz0aFOgu0L3hqFOwbg4p1WOPgpHCFLsfxdLNv6LE3C83pw6GVQmy9PYMoOXAJfjtahVV+E198ZckkqvhiKDYe7CEsdXmDG2wqlmh3eEkFZ9KbICppPzbFtoJD2DUnwX5yzydUQg28rQoyg06SHnNTWmdAa65RN099hSewHQdPY62AidQvRGybSSWYrCu8c0OJmED32P41hz6iQXHumLOPpoYa2EJG619Qp4CZBc/5IR3iA4E6lch1c57R+mnPOcbczA9xDAC4icukNTW0ALV24UecaaNQrjc3TDOsy1n7E7QChIsv8eMIl44/WwCCE0odfi+3/Ac7eirMaACOFguOsNkZnwKam1nAM9aQbf4GRIfhTqjA1dnNwqJ8Asq+9H3UcLO8CudMXxanPq5AItKxvZejm8BcjRPQfOQToNZCdHiwtqM4WxHXPjKsx3W6BlG9BNzaGFNJ/kaboE4OqjjbvH59Kp4Xz8Ct2LCM9iAEx8HWYYAroQ82bId9D0hzHnUoB0hHLRxT7vB9gvd9Tor+ByyeRkSzx4K3ULPvYV6j6mkfePhRbCHfObC1Fo0ivgLUAyY43xRFOZloW36L2jZJorQ2g2yXvono8xMCjIUAtftcJZi+8Zi3mr+4Eihacbb5hzLAW1AlqbyiMQVAkGBoUcNbGEJns0nlULc+SwVrbRTYuyQAZorUejzmyLi1OhhR2hhYtQT/OGFegELewLI3EZ6jg4GQwtrNCzzjCiQU2RffGPv8WxBaiB9CBpxr5Fx6SLqzb9IPKpNYE14QXSMQk/H8LP8ZvXbLENgG3UxKgjQk09HuaPnuw7uJdhSAjv5xz5kTVy1E7Gf2zjXEunKPq9jBPpAfM5NK8efFbcV9WDkzICdZpTF4vhwf4G/9lVqPto7lsQwZEQDNNrvzNNsUyF1l5p60mqMjFuLtpeoBfBnccE4hHnaelWkq9gFjVsgiDocXKalsJ/4wh/22kRKayWCENghww/y4TuooyrfoamTfDRQM5ut9ma3/0id0KrKOzHzWksjIzKxYVVAnQDA56gtzgLJeLjZqQTTC68ApmNAhPpBG6XPgPHISjwo530h8nlqkaSX70A90QsSM+Tx1/AkETfZOcON6ex8JvGQ1l4/83JFje3QwtpQvPNaSxMsv+Uq3UKcDrGEgNlljndjCsehhL34tq5iN3SQdd/Mvwsfm5AJL3F4PoBPOePLWwDuPIokbwups6k9VxcPxzOCGF2hc/oUn/HZ09BcN5kH1O/4khzHxkKD3Nse3sCmCHic589VWQ5vON7Opu8ayWoA9N4y/ayZGBvA51YjocW4q3lIRREok6aQAvPwZEerw+9oIUIsDwEyNUBGt7HPhQp+lSkZ0OEDegIcii8uua2o1Nhios5ywPgRUY7mTSD95gDw0GhEGoIY0BCIR0NV4HJ5xB6m/SGCT8bJsnZfjEEzu8idSGc8DkUHhPaDFMuXiFyKyIupufCgVIJLtqtv8Z/qxHveTEVPQffWefacxe3WS30Wo9ESWaJvEwowwJm+KfAV2KAXRdCcXFaI+P6T4K/RAGlprIY+w1rDXuQ5g14jeHA6WlzD+WhWzb+OHsSgTEjw4s/vWiyM0yKD3wOVoH+XuXAG6nR25VieIDh7OQoaGF/fGYu6pEEX0bgserzcKSTYoOwWLKghdleAuQIZ45zDEZ01wbpA+kojLWYKqPGUnMZk/VAQB5lNgYEter3aVJzjCFfROg8og1MqMPkzVtn3q83LEMUmlhmXziIaDZPwPczfv0R54xNK8nlu/UVBtO+WjWqjVlXvyH5181NSjozlUEHyAVlN9FLgFwV4GIol34eeg+j2GHVaQIZNDOnyc+9iWCagufnQ3jtCQiX+U+a6VRGFWPs4njdMeY8Ey9jRnoewr4J2kwTGsIVDC4lkb1hcLhuObGDKZWcBwlTBnwtHw0h24pnKcbZGSaaCqCHNCcEH2+XbPES4BoI4NKVIpcVmlTWZq5Bx0DzSeiQ0AniXEgvMLqOR7jEwzxoOBdGofnj8pFPAnrYyyazEq4pEuZYOZDoBHE5rOsTZrH3FzKjrCDgFgcuHfkwAm/G2Zshgg8jAymirWJ6zQOd6yXAOKhhHN1h4cIp57vF0K5wobXdIpMeS53TmIqbGjMn3f92+txrKhxQ+Zz+I9xtn5vfVeQa+Gv0UOkx06SG64s/E3yLnqJEsXMd2d4ky0vy1GNQ2HNRTzNLV4Ax4xyo9x9wtK5YLLOVZC+r1mDAyNjRRAeEcxJNVSr1Mba+gIMTheecZ5ZuwExvl33YX0wo14QWctWcJo1Ja2oZc6HMYbLOhV3Oeby3kOMccK2Q9xfBTPLZNJNcL3wTz6EzxZUNfpbPY8527dfGpPIZCz4wppx7cOrhXj6TWshEeSUYE8zXT4pKzEHdxyQO2bh6BFynxN2oI/BxcjmcEvS2uhN1HyM/ZJTMXFuVC/WDw7d9UCD9cPTZwLRYK+lXOkvORP1B0xQLJgF6lYUMIS5ItsTzAOxIjpIu23+xCd1FmFw2X3MP6HXmNB5oxN2lszTnPt+5cjyExwmG5tYF129gyrvAxnjGgbs4MLx6klLqUtRTotm0LK6mZBlMIfObjg0mSYobyg/zcRyD4hPgLEbAD3fSUCVAN7lBgWI/lVuHywBXLSYUz0qGGn9NtrgZ96G8wsQiBe6C+3TC1Y4ksXMgJ37u/UyFi7l0GrgRqRNCg8aIXBisc/sCg+eQA2FEuOGJjgSdCmZD3rYLuNx0ywVXeqs7MQiagnZBQYKBuM/y0EI4ZP0gQC7oTjJNsXAHUQ+YTzpGA5It8TwA7StnZmMF2AqdzOQ1YbDNlW4Wen7MpDBZTZhx4aYhBsiXrDDCZZblvmwT/4UxWX0MiGtegH+9ES4UxtxAuPXdEZ8xnNhJGaznyyNwSBiUpIlWy7ENHXlKaZ4UoY4I18t8nhlI4UdQV36GWhsHfecWECC38v9ErAkt+XLHbjNCDWL9BvhMTK2x489+RuTGV0R6PyWyAZrJBDLhZiQG0RcvN7vWuJP7dbgB3HnNsOH/gEJRei6Edw3qLuGRJaV5ihrF7fA+wkNPBkvRFQzyfXpkeqrwSKXmQCagqZ3cQR3ufWGAzLwnzS5NJwN8ah5TZiG8zqWocPVgJ2dCMF/hv/Da+ode0DejcMsFBe6C0fMYLc9zuPvMffSAx5tqeSolwBr4FE0j92FG4TxIGIwzoc1NuFG24DqHGoW8k/MUYgEYdxmEYn9qE8vSkrwE7FDy/gwrpOXARBLQbHJuxZB2Mg3al/ZHAZUSIFNRP0I4jVKS0PWgecxJcg8pnRauF0bhCgHhzrOdnL8FCzRsjFxuTmPBf6wRAgTUPs/7ZSK0rxeOPZMt8WBu1ffZegUqJUBq1kJYY3qo/Q41JvXEA1FvbByUL2Eg6F02rWV+oMI5jyb37CYmnRXurOaXc1E2LDuJZj4aBMIc5hWo+2jfTGjf87j/EtR9dqEt0VK0BMdrUXzivlsSks3fK6bFO5W2qo9JGN/x04Y2kSnHl18t4K5qOjTcHs8tFXRYekaygNyPSQeIG3rphZ4f2UVNuOOaXuz/EMZZvcsK9IdKFE2iK6mMmV93LMnjDzwVf/PnWjvB/dITYQPN5mIUlwJtwgdaVZOs9fa8At4CDLekR39sQmgWmWBme7jZNwrNKndKczWCyzo0rSHhM6OkPv+/zKLivqpPqxyaRK9F2BkledQ8ze3040xTLI9vlaKzaop+GnUbhMUyFHNf7A9mqpLZO2CKoWtQIPxVxhoUzmlxbMbcdCJCB7r2XMxy3U+XrjvivtowTjDRTtZrCY5NSJfYbf2VmgN/pSyE9vHHJtxG7xIGebA0L7EKR67f+dw/L5AVqyA8362GU1zCI1UCNDBaHd46R/PnqT7LObx/MqY0xokMHXyYrCTB5ai25jSWdTCLU2w9BpH/AJK6pJIGy75EAAAAAElFTkSuQmCC";let pa=R(0),La=R(!0),ar=R(!1),jl=R(!1),Ea=R(!1),Jt=R(!1),ur=R(!1),cr=R(!1),dr=R(!1),ql=R(!1),wn=R(!1),Sa=R(!1),hn=R(!1),wa=R(!1),Ql={Primary:[ar,Jt],Secondary:[ur,cr,wn,Jt],LocalAccess:[],LongDistance:[dr],assessment:[]},Vl={Primary:[ar,jl,Jt],Secondary:[ur,cr,wn,hn,Jt],LocalAccess:[hn],LongDistance:[dr,hn],assessment:[ql,wn]},Ca=R({Primary:!0,Secondary:!0,LocalAccess:!0,LongDistance:!0}),_a=R({Segregated:!0,SegregatedWithSpeedVolume:!0,OffRoad:!0,SharedFootway:!0,CycleLane:!0,MixedTraffic:!0,MixedTrafficWithSpeedVolume:!0}),xa=R({deliverable:!0,not:!0}),ka=R({High:!0,Medium:!0,Low:!0,ShouldNotBeUsed:!0}),Ma=R("off"),Na=R("all"),Kl=R(null),Yl=R(null),Xl=R(null),Ta="MZEJTanw3WpxRvt7qDfo",Jl=R(""),fr=R(""),mr=R({kind:"setup",subpage:"explore"}),hr=R("Primary"),Oa=R(null),Ia=R(void 0),Pa=R("streets"),gr=R(1),$l=R(null),Ra=R(0),Aa=R(null),Wa=R(null),za=R("edits_tier"),ea=R("off"),Fa=R("infra_type"),Da=R(!0),ta=R(!0),Ua=R(!1),Ba=R(!1),Ha=R(null),Za=R(null),Ga=R(0),ja=R(null),qa=R(0),Qa=R({type:"FeatureCollection",features:[],component_lengths:[],component_bboxes:[]});async function Va(){gr.update(r=>r+1);let n=St(fr);if(!n){console.error("Autosave called without currentFilename set");return}let e=St($l),t=St(Jl);if(!e||!t)return;let i=await e.getAllRoutes();Zr(Gr(t,n),JSON.stringify(i))}function Ka(n){fr.set(n),gr.update(t=>t+1),mr.set({kind:"overview"});let e=new URL(window.location.href);e.searchParams.set("file",n),window.history.replaceState(null,"",e.toString())}function Ya(n){return St(ta)?`https://assets.npw.scot/v1/${n}`:n}function na(){let n=St(hr);for(let e of Vl[n])e.set(!1);n=="assessment"&&ea.set("off"),n=="LocalAccess"&&(Kl.set(null),Yl.set(null),Xl.set(null))}function Xa(n){na(),mr.set({kind:"main"});let e=n;hr.set(e);for(let t of Ql[e])t.set(!0)}function Ja(n){return["interpolate",["linear"],["zoom"],5,.5+n,10,1+n,12,1.5+n,14,4+n,16,7+n,20,24+n]}function $a(n){return n<1e3?Math.round(n)+"m":(n/1e3).toFixed(1)+"km"}function eu(n,e){return e==0?"0%":`${Math.round(n/e*100)}%`}function tu(n){return n.reduce((e,t)=>e+t,0)}function nu(n){return["let","base",["+",.3,["/",3,["+",1,["^",2.718,["-",2.94,["*",n,.0021]]]]]],["interpolate",["linear"],["zoom"],12,["*",2.1,["var","base"]],14,["*",5.25,["var","base"]],15,["*",7.5,["var","base"]],16,["*",18,["var","base"]],18,["*",52.5,["var","base"]]]]}function iu(n){return["step",n,"rgba(0,0,0,0)",1,"#9C9C9C",50,"#FFFF73",100,"#AFFF00",250,"#00FFFF",500,"#30B0FF",1e3,"#2E5FFF",2e3,"#0000FF",3e3,"#ba00ff"]}function ru(n,e){return n.startsWith(e)?n.slice(e.length):n}export{Ea as $,ja as A,Ha as B,hr as C,mr as D,Za as E,ca as F,da as G,eu as H,gr as I,qa as J,Ga as K,fa as L,ma as M,wo as N,ql as O,ba as P,Ca as Q,_a as R,Va as S,Da as T,El as U,Ba as V,Ia as W,Jl as X,jr as Y,Pa as Z,ar as _,Qi as a,jl as a0,ur as a1,wn as a2,cr as a3,dr as a4,Kl as a5,Na as a6,tu as a7,Fa as a8,Jt as a9,Wa as aa,Aa as ab,Ya as ac,wa as ad,pa as ae,La as af,iu as ag,nu as ah,hn as ai,xa as aj,ka as ak,Ua as al,Ma as am,Yl as an,Xl as ao,na as ap,fr as aq,Xa as ar,Ka as as,ta as at,_o as au,ya as b,zt as c,la as d,Kr as e,ao as f,en as g,ua as h,aa as i,Vt as j,ga as k,va as l,Ta as m,Ra as n,Oa as o,za as p,$l as q,uo as r,ru as s,Sa as t,Yr as u,Ja as v,R as w,ea as x,Qa as y,$a as z};
