import{S as pe,i as _e,s as he,e as A,l as de,a as me,b as c,c as _,t as y,d as O,f as h,g as oe,h as I,j as d,k as i,m as R,n as re,o as S,p as F,q as m,r as H,u as G,v as ge,w as $e,x as ce,y as fe,z as U}from"./files-eafdfaad.js";import{M as be,m as ve,G as ke,F as ye,h as we,L as Ce,P as Le}from"./stores-b9fc411f.js";const Ae="/npw/assets/boundaries-58f7367f.geojson";function je(a,e,o){const t=a.slice();return t[9]=e[o][0],t[10]=e[o][1],t}function Ne(a,e,o){const t=a.slice();return t[13]=e[o][0],t[14]=e[o][1],t}function ae(a,e,o){const t=a.slice();return t[17]=e[o],t}function se(a,e,o){const t=a.slice();return t[17]=e[o],t}function De(a){let e,o=A(a[2]),t=[];for(let n=0;n<o.length;n+=1)t[n]=ie(ae(a,o,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=fe()},m(n,r){for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(n,r);d(n,e,r)},p(n,r){if(r&4){o=A(n[2]);let l;for(l=0;l<o.length;l+=1){const s=ae(n,o,l);t[l]?t[l].p(s,r):(t[l]=ie(s),t[l].c(),t[l].m(e.parentNode,e))}for(;l<t.length;l+=1)t[l].d(1);t.length=o.length}},d(n){n&&m(e),H(t,n)}}}function Ie(a){let e,o=A(a[1]),t=[];for(let n=0;n<o.length;n+=1)t[n]=ue(se(a,o,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=fe()},m(n,r){for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(n,r);d(n,e,r)},p(n,r){if(r&2){o=A(n[1]);let l;for(l=0;l<o.length;l+=1){const s=se(n,o,l);t[l]?t[l].p(s,r):(t[l]=ue(s),t[l].c(),t[l].m(e.parentNode,e))}for(;l<t.length;l+=1)t[l].d(1);t.length=o.length}},d(n){n&&m(e),H(t,n)}}}function ie(a){let e,o,t=a[17]+"",n,r;return{c(){e=c("li"),o=c("a"),n=y(t),h(o,"href",r="npw.html?boundary=REGION_"+a[17])},m(l,s){d(l,e,s),i(e,o),i(o,n)},p(l,s){s&4&&t!==(t=l[17]+"")&&U(n,t),s&4&&r!==(r="npw.html?boundary=REGION_"+l[17])&&h(o,"href",r)},d(l){l&&m(e)}}}function ue(a){let e,o,t=a[17]+"",n,r;return{c(){e=c("li"),o=c("a"),n=y(t),h(o,"href",r="npw.html?boundary=LAD_"+a[17])},m(l,s){d(l,e,s),i(e,o),i(o,n)},p(l,s){s&2&&t!==(t=l[17]+"")&&U(n,t),s&2&&r!==(r="npw.html?boundary=LAD_"+l[17])&&h(o,"href",r)},d(l){l&&m(e)}}}function Oe(a){let e,o,t,n,r;return{c(){e=c("p"),o=c("a"),o.textContent=`${a[13]}`,t=y(`
            (`),n=y(a[14]),r=y(")"),h(o,"href",`npw.html?boundary=${a[9]}&file=${a[13]}`)},m(l,s){d(l,e,s),i(e,o),i(e,t),i(e,n),i(e,r)},p:ce,d(l){l&&m(e)}}}function Re(a){let e,o,t,n,r=A(a[10]),l=[];for(let s=0;s<r.length;s+=1)l[s]=Oe(Ne(a,r,s));return{c(){e=c("div"),o=c("h2"),o.textContent=`${a[9]}`,t=_();for(let s=0;s<l.length;s+=1)l[s].c();n=_(),h(e,"class","group svelte-oyd905")},m(s,f){d(s,e,f),i(e,o),i(e,t);for(let b=0;b<l.length;b+=1)l[b]&&l[b].m(e,null);i(e,n)},p:ce,d(s){s&&m(e),H(l,s)}}}function Se(a){let e,o=a[8].name+"",t;return{c(){e=c("p"),t=y(o)},m(n,r){d(n,e,r),i(e,t)},p(n,r){r&256&&o!==(o=n[8].name+"")&&U(t,o)},d(n){n&&m(e)}}}function Fe(a){let e,o;return e=new Le({props:{openOn:"hover",$$slots:{default:[Se,({props:t})=>({8:t}),({props:t})=>t?256:0]},$$scope:{ctx:a}}}),{c(){O(e.$$.fragment)},m(t,n){R(e,t,n),o=!0},p(t,n){const r={};n&4194560&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){o||(S(e.$$.fragment,t),o=!0)},o(t){F(e.$$.fragment,t),o=!1},d(t){G(e,t)}}}function Ge(a){let e,o,t,n;return e=new ye({props:{filter:["==",["get","kind"],a[3]],paint:{"fill-color":"rgb(200, 100, 240)","fill-outline-color":"rgb(200, 100, 240)","fill-opacity":we(0,.5)},beforeId:"Road labels",manageHoverState:!0,hoverCursor:"pointer",$$slots:{default:[Fe]},$$scope:{ctx:a}}}),e.$on("click",He),t=new Ce({props:{filter:["==",["get","kind"],a[3]],paint:{"line-color":"rgb(200, 100, 240)","line-width":2.5},beforeId:"Road labels",manageHoverState:!0}}),{c(){O(e.$$.fragment),o=_(),O(t.$$.fragment)},m(r,l){R(e,r,l),d(r,o,l),R(t,r,l),n=!0},p(r,l){const s={};l&8&&(s.filter=["==",["get","kind"],r[3]]),l&4194304&&(s.$$scope={dirty:l,ctx:r}),e.$set(s);const f={};l&8&&(f.filter=["==",["get","kind"],r[3]]),t.$set(f)},i(r){n||(S(e.$$.fragment,r),S(t.$$.fragment,r),n=!0)},o(r){F(e.$$.fragment,r),F(t.$$.fragment,r),n=!1},d(r){r&&m(o),G(e,r),G(t,r)}}}function Ee(a){let e,o;return e=new ke({props:{data:a[0],generateId:!0,$$slots:{default:[Ge]},$$scope:{ctx:a}}}),{c(){O(e.$$.fragment)},m(t,n){R(e,t,n),o=!0},p(t,n){const r={};n&1&&(r.data=t[0]),n&4194312&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){o||(S(e.$$.fragment,t),o=!0)},o(t){F(e.$$.fragment,t),o=!1},d(t){G(e,t)}}}function Me(a){let e,o,t,n,r,l,s,f,b,P,v,p,W,Q,q,V,j,X,Y,Z,T,x,N,ee,z,B,D,w,k,E,J,K,te;function le(u,$){return u[3]=="LAD"?Ie:De}let M=le(a),g=M(a),ne=A(de()),C=[];for(let u=0;u<ne.length;u+=1)C[u]=Re(je(a,ne,u));return k=new be({props:{style:`https://api.maptiler.com/maps/streets-v2/style.json?key=${ve}`,standardControls:!0,bounds:[-8.943,54.631,-.901,59.489],$$slots:{default:[Ee]},$$scope:{ctx:a}}}),k.$on("error",a[7]),J=me(a[5][0]),{c(){e=c("div"),o=c("h2"),o.textContent="Network Planning Workspace",t=_(),n=c("p"),n.innerHTML=`This is an
    <a href="https://github.com/nptscot/npw" target="_blank">open source project</a>
    project developed by
    <a href="https://github.com/dabreegster/" target="_blank">Dustin Carlino</a>
    .`,r=_(),l=c("fieldset"),s=c("label"),f=c("input"),b=y(`
      Local Authority Districts`),P=_(),v=c("label"),p=c("input"),W=y(`
      Regions`),Q=_(),q=c("p"),q.textContent="Choose a boundary below or on the map to begin sketching:",V=_(),j=c("ul"),g.c(),X=_(),Y=c("hr"),Z=_(),T=c("p"),T.textContent="Or continue with a previously opened file:",x=_(),N=c("div");for(let u=0;u<C.length;u+=1)C[u].c();ee=_(),z=c("style"),z.textContent=`.group {
      border: 1px solid black;
      padding: 4px;
      margin-bottom: 8px;
      break-inside: avoid-column;
    }`,B=_(),D=c("div"),w=c("div"),O(k.$$.fragment),h(f,"type","radio"),f.__value="LAD",oe(f,f.__value),h(p,"type","radio"),p.__value="REGION",oe(p,p.__value),I(j,"columns","3"),I(N,"columns","2"),h(N,"class","svelte-oyd905"),h(e,"class","left svelte-oyd905"),I(w,"position","relative"),I(w,"width","100%"),I(w,"height","100%"),h(w,"class","svelte-oyd905"),h(D,"class","main svelte-oyd905"),J.p(f,p)},m(u,$){d(u,e,$),i(e,o),i(e,t),i(e,n),i(e,r),i(e,l),i(l,s),i(s,f),f.checked=f.__value===a[3],i(s,b),i(l,P),i(l,v),i(v,p),p.checked=p.__value===a[3],i(v,W),i(e,Q),i(e,q),i(e,V),i(e,j),g.m(j,null),i(e,X),i(e,Y),i(e,Z),i(e,T),i(e,x),i(e,N);for(let L=0;L<C.length;L+=1)C[L]&&C[L].m(N,null);i(e,ee),i(e,z),d(u,B,$),d(u,D,$),i(D,w),R(k,w,null),E=!0,K||(te=[re(f,"change",a[4]),re(p,"change",a[6])],K=!0)},p(u,[$]){$&8&&(f.checked=f.__value===u[3]),$&8&&(p.checked=p.__value===u[3]),M===(M=le(u))&&g?g.p(u,$):(g.d(1),g=M(u),g&&(g.c(),g.m(j,null)));const L={};$&4194313&&(L.$$scope={dirty:$,ctx:u}),k.$set(L)},i(u){E||(S(k.$$.fragment,u),E=!0)},o(u){F(k.$$.fragment,u),E=!1},d(u){u&&(m(e),m(B),m(D)),g.d(),H(C,u),G(k),J.r(),K=!1,ge(te)}}}function He(a){let e=a.detail.features[0].properties;window.location.href=`npw.html?boundary=${e.kind}_${e.name}`}function Pe(a,e,o){let t={type:"FeatureCollection",features:[]},n=[],r=[],l="LAD";$e(async()=>{let v=await fetch(Ae);o(0,t=await v.json());for(let p of t.features)p.properties.kind=="LAD"?n.push(p.properties.name):r.push(p.properties.name);n.sort(),r.sort(),o(1,n),o(2,r)});const s=[[]];function f(){l=this.__value,o(3,l)}function b(){l=this.__value,o(3,l)}return[t,n,r,l,f,s,b,v=>{console.log(v.detail.error)}]}class qe extends pe{constructor(e){super(),_e(this,e,Pe,Me,he,{})}}new qe({target:document.getElementById("app")});
