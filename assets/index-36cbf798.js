import{S as ae,i as oe,s as se,M as ie,m as ue,a as fe,e as u,b as d,t as L,c as C,d as m,f as Y,g as S,h as g,j as i,k as A,l as Z,n as j,o as N,p as $,q as D,r as pe,u as ce,G as _e,v as G,w as ne,x as re,y as T,F as he,z as de,L as me,P as ge}from"./stores-546f7f15.js";const $e="/npw/assets/boundaries-58f7367f.geojson";function x(o,t,r){const e=o.slice();return e[9]=t[r],e}function ee(o,t,r){const e=o.slice();return e[9]=t[r],e}function be(o){let t,r=G(o[2]),e=[];for(let l=0;l<r.length;l+=1)e[l]=te(x(o,r,l));return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=ne()},m(l,a){for(let n=0;n<e.length;n+=1)e[n]&&e[n].m(l,a);g(l,t,a)},p(l,a){if(a&4){r=G(l[2]);let n;for(n=0;n<r.length;n+=1){const s=x(l,r,n);e[n]?e[n].p(s,a):(e[n]=te(s),e[n].c(),e[n].m(t.parentNode,t))}for(;n<e.length;n+=1)e[n].d(1);e.length=r.length}},d(l){l&&$(t),re(e,l)}}}function ve(o){let t,r=G(o[1]),e=[];for(let l=0;l<r.length;l+=1)e[l]=le(ee(o,r,l));return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=ne()},m(l,a){for(let n=0;n<e.length;n+=1)e[n]&&e[n].m(l,a);g(l,t,a)},p(l,a){if(a&2){r=G(l[1]);let n;for(n=0;n<r.length;n+=1){const s=ee(l,r,n);e[n]?e[n].p(s,a):(e[n]=le(s),e[n].c(),e[n].m(t.parentNode,t))}for(;n<e.length;n+=1)e[n].d(1);e.length=r.length}},d(l){l&&$(t),re(e,l)}}}function te(o){let t,r,e=o[9]+"",l,a;return{c(){t=u("li"),r=u("a"),l=L(e),m(r,"href",a="npw.html?boundary=REGION_"+o[9])},m(n,s){g(n,t,s),i(t,r),i(r,l)},p(n,s){s&4&&e!==(e=n[9]+"")&&T(l,e),s&4&&a!==(a="npw.html?boundary=REGION_"+n[9])&&m(r,"href",a)},d(n){n&&$(t)}}}function le(o){let t,r,e=o[9]+"",l,a;return{c(){t=u("li"),r=u("a"),l=L(e),m(r,"href",a="npw.html?boundary=LAD_"+o[9])},m(n,s){g(n,t,s),i(t,r),i(r,l)},p(n,s){s&2&&e!==(e=n[9]+"")&&T(l,e),s&2&&a!==(a="npw.html?boundary=LAD_"+n[9])&&m(r,"href",a)},d(n){n&&$(t)}}}function ke(o){let t,r=o[8].name+"",e;return{c(){t=u("p"),e=L(r)},m(l,a){g(l,t,a),i(t,e)},p(l,a){a&256&&r!==(r=l[8].name+"")&&T(e,r)},d(l){l&&$(t)}}}function ye(o){let t,r;return t=new ge({props:{openOn:"hover",$$slots:{default:[ke,({props:e})=>({8:e}),({props:e})=>e?256:0]},$$scope:{ctx:o}}}),{c(){C(t.$$.fragment)},m(e,l){A(t,e,l),r=!0},p(e,l){const a={};l&16640&&(a.$$scope={dirty:l,ctx:e}),t.$set(a)},i(e){r||(j(t.$$.fragment,e),r=!0)},o(e){N(t.$$.fragment,e),r=!1},d(e){D(t,e)}}}function we(o){let t,r,e,l;return t=new he({props:{filter:["==",["get","kind"],o[3]],paint:{"fill-color":"rgb(200, 100, 240)","fill-outline-color":"rgb(200, 100, 240)","fill-opacity":de(0,.5)},beforeId:"Road labels",manageHoverState:!0,hoverCursor:"pointer",$$slots:{default:[ye]},$$scope:{ctx:o}}}),t.$on("click",Ae),e=new me({props:{filter:["==",["get","kind"],o[3]],paint:{"line-color":"rgb(200, 100, 240)","line-width":2.5},beforeId:"Road labels",manageHoverState:!0}}),{c(){C(t.$$.fragment),r=d(),C(e.$$.fragment)},m(a,n){A(t,a,n),g(a,r,n),A(e,a,n),l=!0},p(a,n){const s={};n&8&&(s.filter=["==",["get","kind"],a[3]]),n&16384&&(s.$$scope={dirty:n,ctx:a}),t.$set(s);const p={};n&8&&(p.filter=["==",["get","kind"],a[3]]),e.$set(p)},i(a){l||(j(t.$$.fragment,a),j(e.$$.fragment,a),l=!0)},o(a){N(t.$$.fragment,a),N(e.$$.fragment,a),l=!1},d(a){a&&$(r),D(t,a),D(e,a)}}}function Le(o){let t,r;return t=new _e({props:{data:o[0],generateId:!0,$$slots:{default:[we]},$$scope:{ctx:o}}}),{c(){C(t.$$.fragment)},m(e,l){A(t,e,l),r=!0},p(e,l){const a={};l&1&&(a.data=e[0]),l&16392&&(a.$$scope={dirty:l,ctx:e}),t.$set(a)},i(e){r||(j(t.$$.fragment,e),r=!0)},o(e){N(t.$$.fragment,e),r=!1},d(e){D(t,e)}}}function Ce(o){let t,r,e,l,a,n,s,p,I,E,b,c,z,B,F,J,y,K,U,W,M,H,w,k,v,O,P,q,Q;function V(f,h){return f[3]=="LAD"?ve:be}let R=V(o),_=R(o);return v=new ie({props:{style:`https://api.maptiler.com/maps/streets-v2/style.json?key=${ue}`,standardControls:!0,bounds:[-8.943,54.631,-.901,59.489],$$slots:{default:[Le]},$$scope:{ctx:o}}}),v.$on("error",o[7]),P=fe(o[5][0]),{c(){t=u("div"),r=u("h2"),r.textContent="Network Planning Workspace",e=d(),l=u("p"),l.innerHTML=`This is an
    <a href="https://github.com/nptscot/npw" target="_blank">open source project</a>
    project developed by
    <a href="https://github.com/dabreegster/" target="_blank">Dustin Carlino</a>
    .`,a=d(),n=u("fieldset"),s=u("label"),p=u("input"),I=L(`
      Local Authority Districts`),E=d(),b=u("label"),c=u("input"),z=L(`
      Regions`),B=d(),F=u("p"),F.textContent="Choose a boundary below or on the map to begin sketching:",J=d(),y=u("ul"),_.c(),K=d(),U=u("hr"),W=d(),M=u("p"),M.textContent="Or continue with a previously opened file:",H=d(),w=u("div"),k=u("div"),C(v.$$.fragment),m(p,"type","radio"),p.__value="LAD",Y(p,p.__value),m(c,"type","radio"),c.__value="REGION",Y(c,c.__value),S(y,"columns","3"),m(t,"class","left svelte-oyd905"),S(k,"position","relative"),S(k,"width","100%"),S(k,"height","100%"),m(k,"class","svelte-oyd905"),m(w,"class","main svelte-oyd905"),P.p(p,c)},m(f,h){g(f,t,h),i(t,r),i(t,e),i(t,l),i(t,a),i(t,n),i(n,s),i(s,p),p.checked=p.__value===o[3],i(s,I),i(n,E),i(n,b),i(b,c),c.checked=c.__value===o[3],i(b,z),i(t,B),i(t,F),i(t,J),i(t,y),_.m(y,null),i(t,K),i(t,U),i(t,W),i(t,M),g(f,H,h),g(f,w,h),i(w,k),A(v,k,null),O=!0,q||(Q=[Z(p,"change",o[4]),Z(c,"change",o[6])],q=!0)},p(f,[h]){h&8&&(p.checked=p.__value===f[3]),h&8&&(c.checked=c.__value===f[3]),R===(R=V(f))&&_?_.p(f,h):(_.d(1),_=R(f),_&&(_.c(),_.m(y,null)));const X={};h&16393&&(X.$$scope={dirty:h,ctx:f}),v.$set(X)},i(f){O||(j(v.$$.fragment,f),O=!0)},o(f){N(v.$$.fragment,f),O=!1},d(f){f&&($(t),$(H),$(w)),_.d(),D(v),P.r(),q=!1,pe(Q)}}}function Ae(o){let t=o.detail.features[0].properties;window.location.href=`sketch.html?boundary=${t.kind}_${t.name}`}function je(o,t,r){let e={type:"FeatureCollection",features:[]},l=[],a=[],n="LAD";ce(async()=>{let b=await fetch($e);r(0,e=await b.json());for(let c of e.features)c.properties.kind=="LAD"?l.push(c.properties.name):a.push(c.properties.name);l.sort(),a.sort(),r(1,l),r(2,a)});const s=[[]];function p(){n=this.__value,r(3,n)}function I(){n=this.__value,r(3,n)}return[e,l,a,n,p,s,I,b=>{console.log(b.detail.error)}]}class Ne extends ae{constructor(t){super(),oe(this,t,je,Ce,se,{})}}new Ne({target:document.getElementById("app")});
