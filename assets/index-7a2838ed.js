import{S as pe,i as _e,s as he,e as A,l as de,a as me,b as u,c as _,t as w,d as z,f as h,g as oe,h as I,j as d,k as i,m as O,n as re,o as R,p as S,q as m,r as M,u as F,v as ge,w as $e,x as ue,y as fe,z as U}from"./files-d6ae88d2.js";import{M as be,m as ve,G as ke,F as we,h as ye,L as Ce,P as Le}from"./stores-798e0054.js";const Ae="/npw/assets/boundaries-cd2e45df.geojson";function je(a,e,o){const t=a.slice();return t[9]=e[o][0],t[10]=e[o][1],t}function Ne(a,e,o){const t=a.slice();return t[13]=e[o][0],t[14]=e[o][1],t}function ae(a,e,o){const t=a.slice();return t[17]=e[o],t}function se(a,e,o){const t=a.slice();return t[17]=e[o],t}function De(a){let e,o=A(a[2]),t=[];for(let n=0;n<o.length;n+=1)t[n]=ie(ae(a,o,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=fe()},m(n,r){for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(n,r);d(n,e,r)},p(n,r){if(r&4){o=A(n[2]);let l;for(l=0;l<o.length;l+=1){const s=ae(n,o,l);t[l]?t[l].p(s,r):(t[l]=ie(s),t[l].c(),t[l].m(e.parentNode,e))}for(;l<t.length;l+=1)t[l].d(1);t.length=o.length}},d(n){n&&m(e),M(t,n)}}}function Ie(a){let e,o=A(a[1]),t=[];for(let n=0;n<o.length;n+=1)t[n]=ce(se(a,o,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=fe()},m(n,r){for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(n,r);d(n,e,r)},p(n,r){if(r&2){o=A(n[1]);let l;for(l=0;l<o.length;l+=1){const s=se(n,o,l);t[l]?t[l].p(s,r):(t[l]=ce(s),t[l].c(),t[l].m(e.parentNode,e))}for(;l<t.length;l+=1)t[l].d(1);t.length=o.length}},d(n){n&&m(e),M(t,n)}}}function ie(a){let e,o,t=a[17]+"",n,r;return{c(){e=u("li"),o=u("a"),n=w(t),h(o,"href",r="npw.html?boundary=REGION_"+a[17])},m(l,s){d(l,e,s),i(e,o),i(o,n)},p(l,s){s&4&&t!==(t=l[17]+"")&&U(n,t),s&4&&r!==(r="npw.html?boundary=REGION_"+l[17])&&h(o,"href",r)},d(l){l&&m(e)}}}function ce(a){let e,o,t=a[17]+"",n,r;return{c(){e=u("li"),o=u("a"),n=w(t),h(o,"href",r="npw.html?boundary=LAD_"+a[17])},m(l,s){d(l,e,s),i(e,o),i(o,n)},p(l,s){s&2&&t!==(t=l[17]+"")&&U(n,t),s&2&&r!==(r="npw.html?boundary=LAD_"+l[17])&&h(o,"href",r)},d(l){l&&m(e)}}}function ze(a){let e,o,t,n,r;return{c(){e=u("p"),o=u("a"),o.textContent=`${a[13]}`,t=w(`
            (`),n=w(a[14]),r=w(")"),h(o,"href",`npw.html?boundary=${a[9]}&file=${a[13]}`)},m(l,s){d(l,e,s),i(e,o),i(e,t),i(e,n),i(e,r)},p:ue,d(l){l&&m(e)}}}function Oe(a){let e,o,t,n,r=A(a[10]),l=[];for(let s=0;s<r.length;s+=1)l[s]=ze(Ne(a,r,s));return{c(){e=u("div"),o=u("h2"),o.textContent=`${a[9]}`,t=_();for(let s=0;s<l.length;s+=1)l[s].c();n=_(),h(e,"class","group svelte-6955zw")},m(s,f){d(s,e,f),i(e,o),i(e,t);for(let b=0;b<l.length;b+=1)l[b]&&l[b].m(e,null);i(e,n)},p:ue,d(s){s&&m(e),M(l,s)}}}function Re(a){let e,o=a[8].name+"",t;return{c(){e=u("p"),t=w(o)},m(n,r){d(n,e,r),i(e,t)},p(n,r){r&256&&o!==(o=n[8].name+"")&&U(t,o)},d(n){n&&m(e)}}}function Se(a){let e,o;return e=new Le({props:{openOn:"hover",$$slots:{default:[Re,({props:t})=>({8:t}),({props:t})=>t?256:0]},$$scope:{ctx:a}}}),{c(){z(e.$$.fragment)},m(t,n){O(e,t,n),o=!0},p(t,n){const r={};n&4194560&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){o||(R(e.$$.fragment,t),o=!0)},o(t){S(e.$$.fragment,t),o=!1},d(t){F(e,t)}}}function Fe(a){let e,o,t,n;return e=new we({props:{filter:["==",["get","kind"],a[3]],paint:{"fill-color":"rgb(200, 100, 240)","fill-outline-color":"rgb(200, 100, 240)","fill-opacity":ye(0,.5)},beforeId:"Road labels",manageHoverState:!0,hoverCursor:"pointer",$$slots:{default:[Se]},$$scope:{ctx:a}}}),e.$on("click",Me),t=new Ce({props:{filter:["==",["get","kind"],a[3]],paint:{"line-color":"rgb(200, 100, 240)","line-width":2.5},beforeId:"Road labels",manageHoverState:!0}}),{c(){z(e.$$.fragment),o=_(),z(t.$$.fragment)},m(r,l){O(e,r,l),d(r,o,l),O(t,r,l),n=!0},p(r,l){const s={};l&8&&(s.filter=["==",["get","kind"],r[3]]),l&4194304&&(s.$$scope={dirty:l,ctx:r}),e.$set(s);const f={};l&8&&(f.filter=["==",["get","kind"],r[3]]),t.$set(f)},i(r){n||(R(e.$$.fragment,r),R(t.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),S(t.$$.fragment,r),n=!1},d(r){r&&m(o),F(e,r),F(t,r)}}}function Ge(a){let e,o;return e=new ke({props:{data:a[0],generateId:!0,$$slots:{default:[Fe]},$$scope:{ctx:a}}}),{c(){z(e.$$.fragment)},m(t,n){O(e,t,n),o=!0},p(t,n){const r={};n&1&&(r.data=t[0]),n&4194312&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){o||(R(e.$$.fragment,t),o=!0)},o(t){S(e.$$.fragment,t),o=!1},d(t){F(e,t)}}}function Ee(a){let e,o,t,n,r,l,s,f,b,H,v,p,W,Q,P,V,j,X,Y,Z,q,x,N,ee,T,B,D,y,k,G,J,K,te;function le(c,$){return c[3]=="LAD"?Ie:De}let E=le(a),g=E(a),ne=A(de()),C=[];for(let c=0;c<ne.length;c+=1)C[c]=Oe(je(a,ne,c));return k=new be({props:{style:`https://api.maptiler.com/maps/streets-v2/style.json?key=${ve}`,standardControls:!0,bounds:[-8.943,54.631,-.901,59.489],$$slots:{default:[Ge]},$$scope:{ctx:a}}}),k.$on("error",a[7]),J=me(a[5][0]),{c(){e=u("div"),o=u("h2"),o.textContent="Network Planning Workspace",t=_(),n=u("p"),n.innerHTML=`This is an
    <a href="https://github.com/nptscot/npw" target="_blank">open source project</a>
    project developed by
    <a href="https://github.com/dabreegster/" target="_blank">Dustin Carlino</a>
    .`,r=_(),l=u("fieldset"),s=u("label"),f=u("input"),b=w(`
      Local Authority Districts`),H=_(),v=u("label"),p=u("input"),W=w(`
      Regions`),Q=_(),P=u("p"),P.textContent="Choose a boundary below or on the map to begin sketching:",V=_(),j=u("ul"),g.c(),X=_(),Y=u("hr"),Z=_(),q=u("p"),q.textContent="Or continue with a previously opened file:",x=_(),N=u("div");for(let c=0;c<C.length;c+=1)C[c].c();ee=_(),T=u("style"),T.textContent=`.group {
      border: 1px solid black;
      padding: 4px;
      margin-bottom: 8px;
      break-inside: avoid-column;
    }`,B=_(),D=u("div"),y=u("div"),z(k.$$.fragment),h(f,"type","radio"),f.__value="LAD",oe(f,f.__value),h(p,"type","radio"),p.__value="REGION",oe(p,p.__value),I(j,"columns","3"),I(N,"columns","2"),h(N,"class","svelte-6955zw"),h(e,"class","left pico svelte-6955zw"),I(y,"position","relative"),I(y,"width","100%"),I(y,"height","100%"),h(y,"class","svelte-6955zw"),h(D,"class","map svelte-6955zw"),J.p(f,p)},m(c,$){d(c,e,$),i(e,o),i(e,t),i(e,n),i(e,r),i(e,l),i(l,s),i(s,f),f.checked=f.__value===a[3],i(s,b),i(l,H),i(l,v),i(v,p),p.checked=p.__value===a[3],i(v,W),i(e,Q),i(e,P),i(e,V),i(e,j),g.m(j,null),i(e,X),i(e,Y),i(e,Z),i(e,q),i(e,x),i(e,N);for(let L=0;L<C.length;L+=1)C[L]&&C[L].m(N,null);i(e,ee),i(e,T),d(c,B,$),d(c,D,$),i(D,y),O(k,y,null),G=!0,K||(te=[re(f,"change",a[4]),re(p,"change",a[6])],K=!0)},p(c,[$]){$&8&&(f.checked=f.__value===c[3]),$&8&&(p.checked=p.__value===c[3]),E===(E=le(c))&&g?g.p(c,$):(g.d(1),g=E(c),g&&(g.c(),g.m(j,null)));const L={};$&4194313&&(L.$$scope={dirty:$,ctx:c}),k.$set(L)},i(c){G||(R(k.$$.fragment,c),G=!0)},o(c){S(k.$$.fragment,c),G=!1},d(c){c&&(m(e),m(B),m(D)),g.d(),M(C,c),F(k),J.r(),K=!1,ge(te)}}}function Me(a){let e=a.detail.features[0].properties;window.location.href=`npw.html?boundary=${e.kind}_${e.name}`}function He(a,e,o){let t={type:"FeatureCollection",features:[]},n=[],r=[],l="LAD";$e(async()=>{let v=await fetch(Ae);o(0,t=await v.json());for(let p of t.features)p.properties.kind=="LAD"?n.push(p.properties.name):r.push(p.properties.name);n.sort(),r.sort(),o(1,n),o(2,r)});const s=[[]];function f(){l=this.__value,o(3,l)}function b(){l=this.__value,o(3,l)}return[t,n,r,l,f,s,b,v=>{console.log(v.detail.error)}]}class Pe extends pe{constructor(e){super(),_e(this,e,He,Ee,he,{})}}new Pe({target:document.getElementById("app")});
