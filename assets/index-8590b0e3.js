import{S as ce,i as ue,s as pe,e as T,l as fe,a as u,b as f,t as y,c as P,d as H,f as _e,g as R,h as N,j as C,k as r,m as ne,n as F,o as oe,p as I,q as W,r as S,u as J,v as M,w as he,x as de,y as se,z as ie,A as $e}from"./files-3c2399c6.js";import{M as me,m as ge,G as ve,F as be,h as we,L as ke,P as ye}from"./stores-641fc159.js";const Ce="/npw/assets/boundaries-c02eb905.geojson";function Se(o,e,t){const l=o.slice();return l[7]=e[t][0],l[8]=e[t][1],l}function je(o,e,t){const l=o.slice();return l[11]=e[t][0],l[12]=e[t][1],l}function ae(o,e,t){const l=o.slice();return l[15]=e[t],l}function re(o){let e,t=o[15]+"",l,a;return{c(){e=u("option"),l=y(t),e.__value=a=o[15],H(e,e.__value)},m(n,i){C(n,e,i),r(e,l)},p(n,i){i&4&&t!==(t=n[15]+"")&&se(l,t),i&4&&a!==(a=n[15])&&(e.__value=a,H(e,e.__value))},d(n){n&&S(e)}}}function Ae(o){let e,t,l,a,n;return{c(){e=u("p"),t=u("a"),t.textContent=`${o[11]}`,l=y(`
              (`),a=y(o[12]),n=y(")"),N(t,"href",`npw.html?boundary=${o[7]}&file=${o[11]}`)},m(i,c){C(i,e,c),r(e,t),r(e,l),r(e,a),r(e,n)},p:ie,d(i){i&&S(e)}}}function Le(o){let e,t,l,a,n=T(o[8]),i=[];for(let c=0;c<n.length;c+=1)i[c]=Ae(je(o,n,c));return{c(){e=u("div"),t=u("h4"),t.textContent=`${o[7]}`,l=f();for(let c=0;c<i.length;c+=1)i[c].c();a=f(),N(e,"class","group svelte-hou9hc")},m(c,j){C(c,e,j),r(e,t),r(e,l);for(let _=0;_<i.length;_+=1)i[_]&&i[_].m(e,null);r(e,a)},p:ie,d(c){c&&S(e),J(i,c)}}}function Ne(o){let e,t=o[6].name+"",l;return{c(){e=u("p"),l=y(t)},m(a,n){C(a,e,n),r(e,l)},p(a,n){n&64&&t!==(t=a[6].name+"")&&se(l,t)},d(a){a&&S(e)}}}function Pe(o){let e,t;return e=new ye({props:{openOn:"hover",$$slots:{default:[Ne,({props:l})=>({6:l}),({props:l})=>l?64:0]},$$scope:{ctx:o}}}),{c(){P(e.$$.fragment)},m(l,a){F(e,l,a),t=!0},p(l,a){const n={};a&262208&&(n.$$scope={dirty:a,ctx:l}),e.$set(n)},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Fe(o){let e,t,l,a;return e=new be({props:{paint:{"fill-color":"rgb(200, 100, 240)","fill-outline-color":"rgb(200, 100, 240)","fill-opacity":we(0,.5)},beforeId:"Road labels",manageHoverState:!0,hoverCursor:"pointer",$$slots:{default:[Pe]},$$scope:{ctx:o}}}),e.$on("click",Me),l=new ke({props:{paint:{"line-color":"rgb(200, 100, 240)","line-width":2.5},beforeId:"Road labels"}}),{c(){P(e.$$.fragment),t=f(),P(l.$$.fragment)},m(n,i){F(e,n,i),C(n,t,i),F(l,n,i),a=!0},p(n,i){const c={};i&262144&&(c.$$scope={dirty:i,ctx:n}),e.$set(c)},i(n){a||(I(e.$$.fragment,n),I(l.$$.fragment,n),a=!0)},o(n){W(e.$$.fragment,n),W(l.$$.fragment,n),a=!1},d(n){n&&S(t),M(e,n),M(l,n)}}}function Ie(o){let e,t;return e=new ve({props:{data:o[0],generateId:!0,$$slots:{default:[Fe]},$$scope:{ctx:o}}}),{c(){P(e.$$.fragment)},m(l,a){F(e,l,a),t=!0},p(l,a){const n={};a&1&&(n.data=l[0]),a&262144&&(n.$$scope={dirty:a,ctx:l}),e.$set(n)},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function We(o){let e,t,l,a,n,i,c,j,_,O,z,K,$,A,U,b,Q,q,V,X,Y,B,Z,D,x,G,w,m,L,E,ee,k=T(o[2]),p=[];for(let s=0;s<k.length;s+=1)p[s]=re(ae(o,k,s));let te=T(fe()),v=[];for(let s=0;s<te.length;s+=1)v[s]=Le(Se(o,te,s));return m=new me({props:{style:`https://api.maptiler.com/maps/streets-v2/style.json?key=${ge}`,standardControls:!0,bounds:[-8.943,54.631,-.901,59.489],$$slots:{default:[Ie]},$$scope:{ctx:o}}}),m.$on("error",o[5]),{c(){e=u("div"),t=u("div"),l=u("h2"),l.textContent="Network Planning Workspace",a=f(),n=u("p"),n.textContent=`Welcome to the Network Planning Workspace, incorporating the Network
      Planning Tool.`,i=f(),c=u("p"),c.textContent=`The NPW is designed to enable local authorities to plan a cycle network
      for the area, using segregated infrastructure on key routes and ensuring
      local places are properly connected without severance.`,j=f(),_=u("h3"),_.textContent="Select an area",O=f(),z=u("p"),z.textContent="Select your area from this list, or click on the map, to start.",K=f(),$=u("select"),A=u("option");for(let s=0;s<p.length;s+=1)p[s].c();U=f(),b=u("button"),Q=y("Start"),V=f(),X=u("hr"),Y=f(),B=u("h3"),B.textContent="Or continue with a previously opened file",Z=f(),D=u("div");for(let s=0;s<v.length;s+=1)v[s].c();x=f(),G=u("div"),w=u("div"),P(m.$$.fragment),A.__value="",H(A,A.__value),o[1]===void 0&&_e(()=>o[3].call($)),b.disabled=q=o[1]=="",R(D,"columns","2"),N(t,"class","controls svelte-hou9hc"),R(w,"position","relative"),R(w,"width","100%"),R(w,"height","100%"),N(G,"class","map svelte-hou9hc"),N(e,"class","container svelte-hou9hc")},m(s,g){C(s,e,g),r(e,t),r(t,l),r(t,a),r(t,n),r(t,i),r(t,c),r(t,j),r(t,_),r(t,O),r(t,z),r(t,K),r(t,$),r($,A);for(let h=0;h<p.length;h+=1)p[h]&&p[h].m($,null);ne($,o[1],!0),r(t,U),r(t,b),r(b,Q),r(t,V),r(t,X),r(t,Y),r(t,B),r(t,Z),r(t,D);for(let h=0;h<v.length;h+=1)v[h]&&v[h].m(D,null);r(e,x),r(e,G),r(G,w),F(m,w,null),L=!0,E||(ee=[oe($,"change",o[3]),oe(b,"click",o[4])],E=!0)},p(s,[g]){if(g&4){k=T(s[2]);let d;for(d=0;d<k.length;d+=1){const le=ae(s,k,d);p[d]?p[d].p(le,g):(p[d]=re(le),p[d].c(),p[d].m($,null))}for(;d<p.length;d+=1)p[d].d(1);p.length=k.length}g&6&&ne($,s[1]),(!L||g&6&&q!==(q=s[1]==""))&&(b.disabled=q);const h={};g&262145&&(h.$$scope={dirty:g,ctx:s}),m.$set(h)},i(s){L||(I(m.$$.fragment,s),L=!0)},o(s){W(m.$$.fragment,s),L=!1},d(s){s&&S(e),J(p,s),J(v,s),M(m),E=!1,he(ee)}}}function Me(o){let e=o.detail.features[0].properties;window.location.href=`npw.html?boundary=LAD_${e.name}`}function Oe(o,e,t){let l={type:"FeatureCollection",features:[]},a="",n=[];de(async()=>{let _=await fetch(Ce);t(0,l=await _.json());for(let O of l.features)n.push(O.properties.name);n.sort(),t(2,n)});function i(){a=$e(this),t(1,a),t(2,n)}return[l,a,n,i,()=>window.location.href=`npw.html?boundary=LAD_${a}`,_=>{console.log(_.detail.error)}]}class qe extends ce{constructor(e){super(),ue(this,e,Oe,We,pe,{})}}new qe({target:document.getElementById("app")});
