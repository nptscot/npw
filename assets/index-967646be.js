import{S as X,i as Y,s as Z,e as N,l as ee,a as p,b as h,c as L,d as C,f as g,g as y,h as c,m as A,t as S,j as F,k,n as q,o as D,p as te,q as j,r as Q,u as V}from"./files-d48daeef.js";import{M as le,m as ne,G as oe,F as re,h as ae,L as se,P as ie}from"./stores-df690ad3.js";const ce="/npw/assets/boundaries-c02eb905.geojson";function pe(r,e,l){const t=r.slice();return t[4]=e[l][0],t[5]=e[l][1],t}function ue(r,e,l){const t=r.slice();return t[8]=e[l][0],t[9]=e[l][1],t}function W(r,e,l){const t=r.slice();return t[12]=e[l],t}function z(r){let e,l,t=r[12]+"",o,n;return{c(){e=p("li"),l=p("a"),o=j(t),g(l,"href",n="npw.html?boundary=LAD_"+r[12])},m(a,i){y(a,e,i),c(e,l),c(l,o)},p(a,i){i&2&&t!==(t=a[12]+"")&&Q(o,t),i&2&&n!==(n="npw.html?boundary=LAD_"+a[12])&&g(l,"href",n)},d(a){a&&k(e)}}}function fe(r){let e,l,t,o,n;return{c(){e=p("p"),l=p("a"),l.textContent=`${r[8]}`,t=j(`
              (`),o=j(r[9]),n=j(")"),g(l,"href",`npw.html?boundary=${r[4]}&file=${r[8]}`)},m(a,i){y(a,e,i),c(e,l),c(e,t),c(e,o),c(e,n)},p:V,d(a){a&&k(e)}}}function _e(r){let e,l,t,o,n=N(r[5]),a=[];for(let i=0;i<n.length;i+=1)a[i]=fe(ue(r,n,i));return{c(){e=p("div"),l=p("h2"),l.textContent=`${r[4]}`,t=h();for(let i=0;i<a.length;i+=1)a[i].c();o=h(),g(e,"class","group")},m(i,I){y(i,e,I),c(e,l),c(e,t);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(e,null);c(e,o)},p:V,d(i){i&&k(e),q(a,i)}}}function he(r){let e,l=r[3].name+"",t;return{c(){e=p("p"),t=j(l)},m(o,n){y(o,e,n),c(e,t)},p(o,n){n&8&&l!==(l=o[3].name+"")&&Q(t,l)},d(o){o&&k(e)}}}function me(r){let e,l;return e=new ie({props:{openOn:"hover",$$slots:{default:[he,({props:t})=>({3:t}),({props:t})=>t?8:0]},$$scope:{ctx:r}}}),{c(){L(e.$$.fragment)},m(t,o){A(e,t,o),l=!0},p(t,o){const n={};o&32776&&(n.$$scope={dirty:o,ctx:t}),e.$set(n)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){D(e,t)}}}function $e(r){let e,l,t,o;return e=new re({props:{paint:{"fill-color":"rgb(200, 100, 240)","fill-outline-color":"rgb(200, 100, 240)","fill-opacity":ae(0,.5)},beforeId:"Road labels",manageHoverState:!0,hoverCursor:"pointer",$$slots:{default:[me]},$$scope:{ctx:r}}}),e.$on("click",ve),t=new se({props:{paint:{"line-color":"rgb(200, 100, 240)","line-width":2.5},beforeId:"Road labels",manageHoverState:!0}}),{c(){L(e.$$.fragment),l=h(),L(t.$$.fragment)},m(n,a){A(e,n,a),y(n,l,a),A(t,n,a),o=!0},p(n,a){const i={};a&32768&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){o||(S(e.$$.fragment,n),S(t.$$.fragment,n),o=!0)},o(n){F(e.$$.fragment,n),F(t.$$.fragment,n),o=!1},d(n){n&&k(l),D(e,n),D(t,n)}}}function de(r){let e,l;return e=new oe({props:{data:r[0],generateId:!0,$$slots:{default:[$e]},$$scope:{ctx:r}}}),{c(){L(e.$$.fragment)},m(t,o){A(e,t,o),l=!0},p(t,o){const n={};o&1&&(n.data=t[0]),o&32768&&(n.$$scope={dirty:o,ctx:t}),e.$set(n)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){D(e,t)}}}function ge(r){let e,l,t,o,n,a,i,I,m,G,R,T,O,B,M,E,P,J,x,v,$,H,b=N(r[1]),u=[];for(let s=0;s<b.length;s+=1)u[s]=z(W(r,b,s));let K=N(ee()),d=[];for(let s=0;s<K.length;s+=1)d[s]=_e(pe(r,K,s));return $=new le({props:{style:`https://api.maptiler.com/maps/streets-v2/style.json?key=${ne}`,standardControls:!0,bounds:[-8.943,54.631,-.901,59.489],$$slots:{default:[de]},$$scope:{ctx:r}}}),$.$on("error",r[2]),{c(){e=p("div"),l=p("div"),t=p("h2"),t.textContent="Network Planning Workspace",o=h(),n=p("p"),n.innerHTML=`This is an
      <a href="https://github.com/nptscot/npw" target="_blank">open source project</a>
      project developed by
      <a href="https://github.com/dabreegster/" target="_blank">Dustin Carlino</a>
      .`,a=h(),i=p("p"),i.textContent="Choose a boundary below or on the map to begin sketching:",I=h(),m=p("ul");for(let s=0;s<u.length;s+=1)u[s].c();G=h(),R=p("hr"),T=h(),O=p("p"),O.textContent="Or continue with a previously opened file:",B=h(),M=p("div");for(let s=0;s<d.length;s+=1)d[s].c();E=h(),P=p("style"),P.textContent=`.group {
        border: 1px solid black;
        padding: 4px;
        margin-bottom: 8px;
        break-inside: avoid-column;
      }`,J=h(),x=p("div"),v=p("div"),L($.$$.fragment),C(m,"columns","3"),C(M,"columns","2"),g(l,"class","controls svelte-1cvv0vd"),C(v,"position","relative"),C(v,"width","100%"),C(v,"height","100%"),g(x,"class","map svelte-1cvv0vd"),g(e,"class","container svelte-1cvv0vd")},m(s,w){y(s,e,w),c(e,l),c(l,t),c(l,o),c(l,n),c(l,a),c(l,i),c(l,I),c(l,m);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(m,null);c(l,G),c(l,R),c(l,T),c(l,O),c(l,B),c(l,M);for(let f=0;f<d.length;f+=1)d[f]&&d[f].m(M,null);c(l,E),c(l,P),c(e,J),c(e,x),c(x,v),A($,v,null),H=!0},p(s,[w]){if(w&2){b=N(s[1]);let _;for(_=0;_<b.length;_+=1){const U=W(s,b,_);u[_]?u[_].p(U,w):(u[_]=z(U),u[_].c(),u[_].m(m,null))}for(;_<u.length;_+=1)u[_].d(1);u.length=b.length}const f={};w&32769&&(f.$$scope={dirty:w,ctx:s}),$.$set(f)},i(s){H||(S($.$$.fragment,s),H=!0)},o(s){F($.$$.fragment,s),H=!1},d(s){s&&k(e),q(u,s),q(d,s),D($)}}}function ve(r){let e=r.detail.features[0].properties;window.location.href=`npw.html?boundary=LAD_${e.name}`}function be(r,e,l){let t={type:"FeatureCollection",features:[]},o=[];return te(async()=>{let a=await fetch(ce);l(0,t=await a.json());for(let i of t.features)o.push(i.properties.name);o.sort(),l(1,o)}),[t,o,a=>{console.log(a.detail.error)}]}class we extends X{constructor(e){super(),Y(this,e,be,ge,Z,{})}}new we({target:document.getElementById("app")});
