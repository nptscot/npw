var Ae=Object.defineProperty;var Oe=(r,p,g)=>p in r?Ae(r,p,{enumerable:!0,configurable:!0,writable:!0,value:g}):r[p]=g;var Q=(r,p,g)=>(Oe(r,typeof p!="symbol"?p+"":p,g),g);(function(){"use strict";let r;const p=new Array(128).fill(void 0);p.push(void 0,null,!0,!1);function g(t){return p[t]}let M=p.length;function ee(t){t<132||(p[t]=M,M=t)}function h(t){const e=g(t);return ee(t),e}const L=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&L.decode();let N=null;function O(){return(N===null||N.byteLength===0)&&(N=new Uint8Array(r.memory.buffer)),N}function y(t,e){return t=t>>>0,L.decode(O().subarray(t,t+e))}function b(t){M===p.length&&p.push(p.length+1);const e=M;return M=p[e],p[e]=t,e}let m=0;const T=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},te=typeof T.encodeInto=="function"?function(t,e){return T.encodeInto(t,e)}:function(t,e){const n=T.encode(t);return e.set(n),{read:t.length,written:n.length}};function R(t,e,n){if(n===void 0){const s=T.encode(t),c=e(s.length,1)>>>0;return O().subarray(c,c+s.length).set(s),m=s.length,c}let a=t.length,_=e(a,1)>>>0;const u=O();let d=0;for(;d<a;d++){const s=t.charCodeAt(d);if(s>127)break;u[_+d]=s}if(d!==a){d!==0&&(t=t.slice(d)),_=n(_,a,a=d+t.length*3,1)>>>0;const s=O().subarray(_+d,_+a),c=te(t,s);d+=c.written,_=n(_,a,d,1)>>>0}return m=d,_}function v(t){return t==null}let S=null;function i(){return(S===null||S.buffer.detached===!0||S.buffer.detached===void 0&&S.buffer!==r.memory.buffer)&&(S=new DataView(r.memory.buffer)),S}function J(t){const e=typeof t;if(e=="number"||e=="boolean"||t==null)return`${t}`;if(e=="string")return`"${t}"`;if(e=="symbol"){const _=t.description;return _==null?"Symbol":`Symbol(${_})`}if(e=="function"){const _=t.name;return typeof _=="string"&&_.length>0?`Function(${_})`:"Function"}if(Array.isArray(t)){const _=t.length;let u="[";_>0&&(u+=J(t[0]));for(let d=1;d<_;d++)u+=", "+J(t[d]);return u+="]",u}const n=/\[object ([^\]]+)\]/.exec(toString.call(t));let a;if(n.length>1)a=n[1];else return toString.call(t);if(a=="Object")try{return"Object("+JSON.stringify(t)+")"}catch{return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:a}function ne(t,e){const n=e(t.length*1,1)>>>0;return O().set(t,n/1),m=t.length,n}let x=null;function re(){return(x===null||x.byteLength===0)&&(x=new Float64Array(r.memory.buffer)),x}function ae(t,e){return t=t>>>0,re().subarray(t/8,t/8+e)}function _e(t,e){return t=t>>>0,O().subarray(t/1,t/1+e)}let D=null;function oe(){return(D===null||D.byteLength===0)&&(D=new Uint32Array(r.memory.buffer)),D}function ie(t,e){const n=e(t.length*4,4)>>>0;return oe().set(t,n/4),m=t.length,n}function k(t,e){try{return t.apply(this,e)}catch(n){r.__wbindgen_exn_store(b(n))}}const G=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>r.__wbg_mapmodel_free(t>>>0,1));class se{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,G.unregister(this),e}free(){const e=this.__destroy_into_raw();r.__wbg_mapmodel_free(e,0)}constructor(e){try{const u=r.__wbindgen_add_to_stack_pointer(-16),d=ne(e,r.__wbindgen_malloc),s=m;r.mapmodel_new(u,d,s);var n=i().getInt32(u+4*0,!0),a=i().getInt32(u+4*1,!0),_=i().getInt32(u+4*2,!0);if(_)throw h(a);return this.__wbg_ptr=n>>>0,G.register(this,this.__wbg_ptr,this),this}finally{r.__wbindgen_add_to_stack_pointer(16)}}renderStaticRoads(){let e,n;try{const o=r.__wbindgen_add_to_stack_pointer(-16);r.mapmodel_renderStaticRoads(o,this.__wbg_ptr);var a=i().getInt32(o+4*0,!0),_=i().getInt32(o+4*1,!0),u=i().getInt32(o+4*2,!0),d=i().getInt32(o+4*3,!0),s=a,c=_;if(d)throw s=0,c=0,h(u);return e=s,n=c,y(s,c)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,n,1)}}renderDynamicRoads(){let e,n;try{const o=r.__wbindgen_add_to_stack_pointer(-16);r.mapmodel_renderDynamicRoads(o,this.__wbg_ptr);var a=i().getInt32(o+4*0,!0),_=i().getInt32(o+4*1,!0),u=i().getInt32(o+4*2,!0),d=i().getInt32(o+4*3,!0),s=a,c=_;if(d)throw s=0,c=0,h(u);return e=s,n=c,y(s,c)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,n,1)}}getInvertedBoundary(){let e,n;try{const o=r.__wbindgen_add_to_stack_pointer(-16);r.mapmodel_getInvertedBoundary(o,this.__wbg_ptr);var a=i().getInt32(o+4*0,!0),_=i().getInt32(o+4*1,!0),u=i().getInt32(o+4*2,!0),d=i().getInt32(o+4*3,!0),s=a,c=_;if(d)throw s=0,c=0,h(u);return e=s,n=c,y(s,c)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,n,1)}}getBounds(){try{const _=r.__wbindgen_add_to_stack_pointer(-16);r.mapmodel_getBounds(_,this.__wbg_ptr);var e=i().getInt32(_+4*0,!0),n=i().getInt32(_+4*1,!0),a=ae(e,n).slice();return r.__wbindgen_free(e,n*8,8),a}finally{r.__wbindgen_add_to_stack_pointer(16)}}toRouteSnapper(){try{const _=r.__wbindgen_add_to_stack_pointer(-16);r.mapmodel_toRouteSnapper(_,this.__wbg_ptr);var e=i().getInt32(_+4*0,!0),n=i().getInt32(_+4*1,!0),a=_e(e,n).slice();return r.__wbindgen_free(e,n*1,1),a}finally{r.__wbindgen_add_to_stack_pointer(16)}}setRoute(e,n){try{const u=r.__wbindgen_add_to_stack_pointer(-16);r.mapmodel_setRoute(u,this.__wbg_ptr,!v(e),v(e)?0:e,b(n));var a=i().getInt32(u+4*0,!0),_=i().getInt32(u+4*1,!0);if(_)throw h(a)}finally{r.__wbindgen_add_to_stack_pointer(16)}}deleteRoutes(e){try{const _=r.__wbindgen_add_to_stack_pointer(-16),u=ie(e,r.__wbindgen_malloc),d=m;r.mapmodel_deleteRoutes(_,this.__wbg_ptr,u,d);var n=i().getInt32(_+4*0,!0),a=i().getInt32(_+4*1,!0);if(a)throw h(n)}finally{r.__wbindgen_add_to_stack_pointer(16)}}clearAllRoutes(){r.mapmodel_clearAllRoutes(this.__wbg_ptr)}autosplitRoute(e,n,a){let _,u;try{const w=r.__wbindgen_add_to_stack_pointer(-16);r.mapmodel_autosplitRoute(w,this.__wbg_ptr,!v(e),v(e)?0:e,b(n),b(a));var d=i().getInt32(w+4*0,!0),s=i().getInt32(w+4*1,!0),c=i().getInt32(w+4*2,!0),o=i().getInt32(w+4*3,!0),f=d,l=s;if(o)throw f=0,l=0,h(c);return _=f,u=l,y(f,l)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(_,u,1)}}getAllRoutes(){let e,n;try{const o=r.__wbindgen_add_to_stack_pointer(-16);r.mapmodel_getAllRoutes(o,this.__wbg_ptr);var a=i().getInt32(o+4*0,!0),_=i().getInt32(o+4*1,!0),u=i().getInt32(o+4*2,!0),d=i().getInt32(o+4*3,!0),s=a,c=_;if(d)throw s=0,c=0,h(u);return e=s,n=c,y(s,c)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,n,1)}}getRoute(e){let n,a;try{const f=r.__wbindgen_add_to_stack_pointer(-16);r.mapmodel_getRoute(f,this.__wbg_ptr,e);var _=i().getInt32(f+4*0,!0),u=i().getInt32(f+4*1,!0),d=i().getInt32(f+4*2,!0),s=i().getInt32(f+4*3,!0),c=_,o=u;if(s)throw c=0,o=0,h(d);return n=c,a=o,y(c,o)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(n,a,1)}}evaluateRoute(e){let n,a;try{const f=r.__wbindgen_add_to_stack_pointer(-16);r.mapmodel_evaluateRoute(f,this.__wbg_ptr,b(e));var _=i().getInt32(f+4*0,!0),u=i().getInt32(f+4*1,!0),d=i().getInt32(f+4*2,!0),s=i().getInt32(f+4*3,!0),c=_,o=u;if(s)throw c=0,o=0,h(d);return n=c,a=o,y(c,o)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(n,a,1)}}debugReachablePath(e,n){let a,_;try{const l=r.__wbindgen_add_to_stack_pointer(-16),w=R(e,r.__wbindgen_malloc,r.__wbindgen_realloc),I=m;r.mapmodel_debugReachablePath(l,this.__wbg_ptr,w,I,n);var u=i().getInt32(l+4*0,!0),d=i().getInt32(l+4*1,!0),s=i().getInt32(l+4*2,!0),c=i().getInt32(l+4*3,!0),o=u,f=d;if(c)throw o=0,f=0,h(s);return a=o,_=f,y(o,f)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(a,_,1)}}debugUnreachablePath(e,n){let a,_;try{const l=r.__wbindgen_add_to_stack_pointer(-16),w=R(e,r.__wbindgen_malloc,r.__wbindgen_realloc),I=m;r.mapmodel_debugUnreachablePath(l,this.__wbg_ptr,w,I,n);var u=i().getInt32(l+4*0,!0),d=i().getInt32(l+4*1,!0),s=i().getInt32(l+4*2,!0),c=i().getInt32(l+4*3,!0),o=u,f=d;if(c)throw o=0,f=0,h(s);return a=o,_=f,y(o,f)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(a,_,1)}}evaluateOD(e){let n,a;try{const f=r.__wbindgen_add_to_stack_pointer(-16);r.mapmodel_evaluateOD(f,this.__wbg_ptr,e);var _=i().getInt32(f+4*0,!0),u=i().getInt32(f+4*1,!0),d=i().getInt32(f+4*2,!0),s=i().getInt32(f+4*3,!0),c=_,o=u;if(s)throw c=0,o=0,h(d);return n=c,a=o,y(c,o)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(n,a,1)}}recalculateStats(){let e,n;try{const o=r.__wbindgen_add_to_stack_pointer(-16);r.mapmodel_recalculateStats(o,this.__wbg_ptr);var a=i().getInt32(o+4*0,!0),_=i().getInt32(o+4*1,!0),u=i().getInt32(o+4*2,!0),d=i().getInt32(o+4*3,!0),s=a,c=_;if(d)throw s=0,c=0,h(u);return e=s,n=c,y(s,c)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,n,1)}}recalculateODStats(){let e,n;try{const o=r.__wbindgen_add_to_stack_pointer(-16);r.mapmodel_recalculateODStats(o,this.__wbg_ptr);var a=i().getInt32(o+4*0,!0),_=i().getInt32(o+4*1,!0),u=i().getInt32(o+4*2,!0),d=i().getInt32(o+4*3,!0),s=a,c=_;if(d)throw s=0,c=0,h(u);return e=s,n=c,y(s,c)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,n,1)}}toSavefile(){let e,n;try{const o=r.__wbindgen_add_to_stack_pointer(-16);r.mapmodel_toSavefile(o,this.__wbg_ptr);var a=i().getInt32(o+4*0,!0),_=i().getInt32(o+4*1,!0),u=i().getInt32(o+4*2,!0),d=i().getInt32(o+4*3,!0),s=a,c=_;if(d)throw s=0,c=0,h(u);return e=s,n=c,y(s,c)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,n,1)}}loadSavefile(e){try{const _=r.__wbindgen_add_to_stack_pointer(-16),u=R(e,r.__wbindgen_malloc,r.__wbindgen_realloc),d=m;r.mapmodel_loadSavefile(_,this.__wbg_ptr,u,d);var n=i().getInt32(_+4*0,!0),a=i().getInt32(_+4*1,!0);if(a)throw h(n)}finally{r.__wbindgen_add_to_stack_pointer(16)}}getAreaMeshDensity(){let e,n;try{const o=r.__wbindgen_add_to_stack_pointer(-16);r.mapmodel_getAreaMeshDensity(o,this.__wbg_ptr);var a=i().getInt32(o+4*0,!0),_=i().getInt32(o+4*1,!0),u=i().getInt32(o+4*2,!0),d=i().getInt32(o+4*3,!0),s=a,c=_;if(d)throw s=0,c=0,h(u);return e=s,n=c,y(s,c)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,n,1)}}getGridMeshDensity(e,n,a){let _,u;try{const w=r.__wbindgen_add_to_stack_pointer(-16);r.mapmodel_getGridMeshDensity(w,this.__wbg_ptr,e,n,a);var d=i().getInt32(w+4*0,!0),s=i().getInt32(w+4*1,!0),c=i().getInt32(w+4*2,!0),o=i().getInt32(w+4*3,!0),f=d,l=s;if(o)throw f=0,l=0,h(c);return _=f,u=l,y(f,l)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(_,u,1)}}importExistingRoutes(e){return r.mapmodel_importExistingRoutes(this.__wbg_ptr,e)>>>0}importCoreNetwork(){return r.mapmodel_importCoreNetwork(this.__wbg_ptr)>>>0}getSchools(){let e,n;try{const o=r.__wbindgen_add_to_stack_pointer(-16);r.mapmodel_getSchools(o,this.__wbg_ptr);var a=i().getInt32(o+4*0,!0),_=i().getInt32(o+4*1,!0),u=i().getInt32(o+4*2,!0),d=i().getInt32(o+4*3,!0),s=a,c=_;if(d)throw s=0,c=0,h(u);return e=s,n=c,y(s,c)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,n,1)}}getGPHospitals(){let e,n;try{const o=r.__wbindgen_add_to_stack_pointer(-16);r.mapmodel_getGPHospitals(o,this.__wbg_ptr);var a=i().getInt32(o+4*0,!0),_=i().getInt32(o+4*1,!0),u=i().getInt32(o+4*2,!0),d=i().getInt32(o+4*3,!0),s=a,c=_;if(d)throw s=0,c=0,h(u);return e=s,n=c,y(s,c)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,n,1)}}getTownCentres(){let e,n;try{const o=r.__wbindgen_add_to_stack_pointer(-16);r.mapmodel_getTownCentres(o,this.__wbg_ptr);var a=i().getInt32(o+4*0,!0),_=i().getInt32(o+4*1,!0),u=i().getInt32(o+4*2,!0),d=i().getInt32(o+4*3,!0),s=a,c=_;if(d)throw s=0,c=0,h(u);return e=s,n=c,y(s,c)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,n,1)}}getSettlements(){let e,n;try{const o=r.__wbindgen_add_to_stack_pointer(-16);r.mapmodel_getSettlements(o,this.__wbg_ptr);var a=i().getInt32(o+4*0,!0),_=i().getInt32(o+4*1,!0),u=i().getInt32(o+4*2,!0),d=i().getInt32(o+4*3,!0),s=a,c=_;if(d)throw s=0,c=0,h(u);return e=s,n=c,y(s,c)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,n,1)}}getGreenspaces(){let e,n;try{const o=r.__wbindgen_add_to_stack_pointer(-16);r.mapmodel_getGreenspaces(o,this.__wbg_ptr);var a=i().getInt32(o+4*0,!0),_=i().getInt32(o+4*1,!0),u=i().getInt32(o+4*2,!0),d=i().getInt32(o+4*3,!0),s=a,c=_;if(d)throw s=0,c=0,h(u);return e=s,n=c,y(s,c)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,n,1)}}getDataZones(){let e,n;try{const o=r.__wbindgen_add_to_stack_pointer(-16);r.mapmodel_getDataZones(o,this.__wbg_ptr);var a=i().getInt32(o+4*0,!0),_=i().getInt32(o+4*1,!0),u=i().getInt32(o+4*2,!0),d=i().getInt32(o+4*3,!0),s=a,c=_;if(d)throw s=0,c=0,h(u);return e=s,n=c,y(s,c)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,n,1)}}getConnectedComponents(){let e,n;try{const o=r.__wbindgen_add_to_stack_pointer(-16);r.mapmodel_getConnectedComponents(o,this.__wbg_ptr);var a=i().getInt32(o+4*0,!0),_=i().getInt32(o+4*1,!0),u=i().getInt32(o+4*2,!0),d=i().getInt32(o+4*3,!0),s=a,c=_;if(d)throw s=0,c=0,h(u);return e=s,n=c,y(s,c)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,n,1)}}}async function ce(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(a){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",a);else throw a}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function ue(){const t={};return t.wbg={},t.wbg.__wbindgen_object_drop_ref=function(e){h(e)},t.wbg.__wbindgen_string_new=function(e,n){const a=y(e,n);return b(a)},t.wbg.__wbindgen_string_get=function(e,n){const a=g(n),_=typeof a=="string"?a:void 0;var u=v(_)?0:R(_,r.__wbindgen_malloc,r.__wbindgen_realloc),d=m;i().setInt32(e+4*1,d,!0),i().setInt32(e+4*0,u,!0)},t.wbg.__wbindgen_number_get=function(e,n){const a=g(n),_=typeof a=="number"?a:void 0;i().setFloat64(e+8*1,v(_)?0:_,!0),i().setInt32(e+4*0,!v(_),!0)},t.wbg.__wbindgen_error_new=function(e,n){const a=new Error(y(e,n));return b(a)},t.wbg.__wbindgen_boolean_get=function(e){const n=g(e);return typeof n=="boolean"?n?1:0:2},t.wbg.__wbindgen_is_bigint=function(e){return typeof g(e)=="bigint"},t.wbg.__wbindgen_is_object=function(e){const n=g(e);return typeof n=="object"&&n!==null},t.wbg.__wbindgen_in=function(e,n){return g(e)in g(n)},t.wbg.__wbindgen_bigint_from_i64=function(e){return b(e)},t.wbg.__wbindgen_jsval_eq=function(e,n){return g(e)===g(n)},t.wbg.__wbindgen_bigint_from_u64=function(e){const n=BigInt.asUintN(64,e);return b(n)},t.wbg.__wbindgen_is_string=function(e){return typeof g(e)=="string"},t.wbg.__wbindgen_is_undefined=function(e){return g(e)===void 0},t.wbg.__wbindgen_jsval_loose_eq=function(e,n){return g(e)==g(n)},t.wbg.__wbindgen_as_number=function(e){return+g(e)},t.wbg.__wbg_String_b9412f8799faab3e=function(e,n){const a=String(g(n)),_=R(a,r.__wbindgen_malloc,r.__wbindgen_realloc),u=m;i().setInt32(e+4*1,u,!0),i().setInt32(e+4*0,_,!0)},t.wbg.__wbindgen_object_clone_ref=function(e){const n=g(e);return b(n)},t.wbg.__wbg_getwithrefkey_edc2c8960f0f1191=function(e,n){const a=g(e)[g(n)];return b(a)},t.wbg.__wbg_debug_5a33c41aeac15ee6=function(e){console.debug(g(e))},t.wbg.__wbg_error_09480e4aadca50ad=function(e){console.error(g(e))},t.wbg.__wbg_info_c261acb2deacd903=function(e){console.info(g(e))},t.wbg.__wbg_log_b103404cc5920657=function(e){console.log(g(e))},t.wbg.__wbg_warn_2b3adb99ce26c314=function(e){console.warn(g(e))},t.wbg.__wbg_new_abda76e883ba8a5f=function(){const e=new Error;return b(e)},t.wbg.__wbg_stack_658279fe44541cf6=function(e,n){const a=g(n).stack,_=R(a,r.__wbindgen_malloc,r.__wbindgen_realloc),u=m;i().setInt32(e+4*1,u,!0),i().setInt32(e+4*0,_,!0)},t.wbg.__wbg_error_f851667af71bcfc6=function(e,n){let a,_;try{a=e,_=n,console.error(y(e,n))}finally{r.__wbindgen_free(a,_,1)}},t.wbg.__wbg_performance_a1b8bde2ee512264=function(e){const n=g(e).performance;return b(n)},t.wbg.__wbg_now_abd80e969af37148=function(e){return g(e).now()},t.wbg.__wbg_get_3baa728f9d58d3f6=function(e,n){const a=g(e)[n>>>0];return b(a)},t.wbg.__wbg_length_ae22078168b726f5=function(e){return g(e).length},t.wbg.__wbindgen_is_function=function(e){return typeof g(e)=="function"},t.wbg.__wbg_newnoargs_76313bd6ff35d0f2=function(e,n){const a=new Function(y(e,n));return b(a)},t.wbg.__wbg_next_de3e9db4440638b2=function(e){const n=g(e).next;return b(n)},t.wbg.__wbg_next_f9cb570345655b9a=function(){return k(function(e){const n=g(e).next();return b(n)},arguments)},t.wbg.__wbg_done_bfda7aa8f252b39f=function(e){return g(e).done},t.wbg.__wbg_value_6d39332ab4788d86=function(e){const n=g(e).value;return b(n)},t.wbg.__wbg_iterator_888179a48810a9fe=function(){return b(Symbol.iterator)},t.wbg.__wbg_get_224d16597dbbfd96=function(){return k(function(e,n){const a=Reflect.get(g(e),g(n));return b(a)},arguments)},t.wbg.__wbg_call_1084a111329e68ce=function(){return k(function(e,n){const a=g(e).call(g(n));return b(a)},arguments)},t.wbg.__wbg_self_3093d5d1f7bcb682=function(){return k(function(){const e=self.self;return b(e)},arguments)},t.wbg.__wbg_window_3bcfc4d31bc012f8=function(){return k(function(){const e=window.window;return b(e)},arguments)},t.wbg.__wbg_globalThis_86b222e13bdf32ed=function(){return k(function(){const e=globalThis.globalThis;return b(e)},arguments)},t.wbg.__wbg_global_e5a3fe56f8be9485=function(){return k(function(){const e=global.global;return b(e)},arguments)},t.wbg.__wbg_isArray_8364a5371e9737d8=function(e){return Array.isArray(g(e))},t.wbg.__wbg_instanceof_ArrayBuffer_61dfc3198373c902=function(e){let n;try{n=g(e)instanceof ArrayBuffer}catch{n=!1}return n},t.wbg.__wbg_call_89af060b4e1523f2=function(){return k(function(e,n,a){const _=g(e).call(g(n),g(a));return b(_)},arguments)},t.wbg.__wbg_instanceof_Map_763ce0e95960d55e=function(e){let n;try{n=g(e)instanceof Map}catch{n=!1}return n},t.wbg.__wbg_isSafeInteger_7f1ed56200d90674=function(e){return Number.isSafeInteger(g(e))},t.wbg.__wbg_entries_7a0e06255456ebcd=function(e){const n=Object.entries(g(e));return b(n)},t.wbg.__wbg_buffer_b7b08af79b0b0974=function(e){const n=g(e).buffer;return b(n)},t.wbg.__wbg_new_ea1883e1e5e86686=function(e){const n=new Uint8Array(g(e));return b(n)},t.wbg.__wbg_set_d1e79e2388520f18=function(e,n,a){g(e).set(g(n),a>>>0)},t.wbg.__wbg_length_8339fcf5d8ecd12e=function(e){return g(e).length},t.wbg.__wbg_instanceof_Uint8Array_247a91427532499e=function(e){let n;try{n=g(e)instanceof Uint8Array}catch{n=!1}return n},t.wbg.__wbindgen_bigint_get_as_i64=function(e,n){const a=g(n),_=typeof a=="bigint"?a:void 0;i().setBigInt64(e+8*1,v(_)?BigInt(0):_,!0),i().setInt32(e+4*0,!v(_),!0)},t.wbg.__wbindgen_debug_string=function(e,n){const a=J(g(n)),_=R(a,r.__wbindgen_malloc,r.__wbindgen_realloc),u=m;i().setInt32(e+4*1,u,!0),i().setInt32(e+4*0,_,!0)},t.wbg.__wbindgen_throw=function(e,n){throw new Error(y(e,n))},t.wbg.__wbindgen_memory=function(){const e=r.memory;return b(e)},t}function de(t,e){return r=t.exports,H.__wbindgen_wasm_module=e,S=null,x=null,D=null,N=null,r}async function H(t){if(r!==void 0)return r;typeof t<"u"&&Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead"),typeof t>"u"&&(t=new URL("/npw/assets/backend_bg-d7bfafd5.wasm",self.location));const e=ue();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:a}=await ce(await t,e);return de(n,a)}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const V=Symbol("Comlink.proxy"),ge=Symbol("Comlink.endpoint"),fe=Symbol("Comlink.releaseProxy"),W=Symbol("Comlink.finalizer"),C=Symbol("Comlink.thrown"),$=t=>typeof t=="object"&&t!==null||typeof t=="function",le={canHandle:t=>$(t)&&t[V],serialize(t){const{port1:e,port2:n}=new MessageChannel;return B(t,e),[n,[n]]},deserialize(t){return t.start(),ye(t)}},be={canHandle:t=>$(t)&&C in t,serialize({value:t}){let e;return t instanceof Error?e={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:e={isError:!1,value:t},[e,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},Z=new Map([["proxy",le],["throw",be]]);function we(t,e){for(const n of t)if(e===n||n==="*"||n instanceof RegExp&&n.test(e))return!0;return!1}function B(t,e=globalThis,n=["*"]){e.addEventListener("message",function a(_){if(!_||!_.data)return;if(!we(n,_.origin)){console.warn(`Invalid origin '${_.origin}' for comlink proxy`);return}const{id:u,type:d,path:s}=Object.assign({path:[]},_.data),c=(_.data.argumentList||[]).map(A);let o;try{const f=s.slice(0,-1).reduce((w,I)=>w[I],t),l=s.reduce((w,I)=>w[I],t);switch(d){case"GET":o=l;break;case"SET":f[s.slice(-1)[0]]=A(_.data.value),o=!0;break;case"APPLY":o=l.apply(f,c);break;case"CONSTRUCT":{const w=new l(...c);o=ke(w)}break;case"ENDPOINT":{const{port1:w,port2:I}=new MessageChannel;B(t,I),o=Ie(w,[w])}break;case"RELEASE":o=void 0;break;default:return}}catch(f){o={value:f,[C]:0}}Promise.resolve(o).catch(f=>({value:f,[C]:0})).then(f=>{const[l,w]=F(f);e.postMessage(Object.assign(Object.assign({},l),{id:u}),w),d==="RELEASE"&&(e.removeEventListener("message",a),Y(e),W in t&&typeof t[W]=="function"&&t[W]())}).catch(f=>{const[l,w]=F({value:new TypeError("Unserializable return value"),[C]:0});e.postMessage(Object.assign(Object.assign({},l),{id:u}),w)})}),e.start&&e.start()}function he(t){return t.constructor.name==="MessagePort"}function Y(t){he(t)&&t.close()}function ye(t,e){const n=new Map;return t.addEventListener("message",function(_){const{data:u}=_;if(!u||!u.id)return;const d=n.get(u.id);if(d)try{d(u)}finally{n.delete(u.id)}}),z(t,n,[],e)}function P(t){if(t)throw new Error("Proxy has been released and is not useable")}function q(t){return E(t,new Map,{type:"RELEASE"}).then(()=>{Y(t)})}const j=new WeakMap,U="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{const e=(j.get(t)||0)-1;j.set(t,e),e===0&&q(t)});function pe(t,e){const n=(j.get(e)||0)+1;j.set(e,n),U&&U.register(t,e,t)}function me(t){U&&U.unregister(t)}function z(t,e,n=[],a=function(){}){let _=!1;const u=new Proxy(a,{get(d,s){if(P(_),s===fe)return()=>{me(u),q(t),e.clear(),_=!0};if(s==="then"){if(n.length===0)return{then:()=>u};const c=E(t,e,{type:"GET",path:n.map(o=>o.toString())}).then(A);return c.then.bind(c)}return z(t,e,[...n,s])},set(d,s,c){P(_);const[o,f]=F(c);return E(t,e,{type:"SET",path:[...n,s].map(l=>l.toString()),value:o},f).then(A)},apply(d,s,c){P(_);const o=n[n.length-1];if(o===ge)return E(t,e,{type:"ENDPOINT"}).then(A);if(o==="bind")return z(t,e,n.slice(0,-1));const[f,l]=X(c);return E(t,e,{type:"APPLY",path:n.map(w=>w.toString()),argumentList:f},l).then(A)},construct(d,s){P(_);const[c,o]=X(s);return E(t,e,{type:"CONSTRUCT",path:n.map(f=>f.toString()),argumentList:c},o).then(A)}});return pe(u,t),u}function ve(t){return Array.prototype.concat.apply([],t)}function X(t){const e=t.map(F);return[e.map(n=>n[0]),ve(e.map(n=>n[1]))]}const K=new WeakMap;function Ie(t,e){return K.set(t,e),t}function ke(t){return Object.assign(t,{[V]:!0})}function F(t){for(const[e,n]of Z)if(n.canHandle(t)){const[a,_]=n.serialize(t);return[{type:"HANDLER",name:e,value:a},_]}return[{type:"RAW",value:t},K.get(t)||[]]}function A(t){switch(t.type){case"HANDLER":return Z.get(t.name).deserialize(t.value);case"RAW":return t.value}}function E(t,e,n,a){return new Promise(_=>{const u=Re();e.set(u,_),t.start&&t.start(),t.postMessage(Object.assign({id:u},n),a)})}function Re(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}class Se{constructor(){Q(this,"inner");this.inner=null}async loadFile(e){await H(),this.inner=new se(e)}getBounds(){return this.checkReady(),Array.from(this.inner.getBounds())}getInvertedBoundary(){return this.checkReady(),JSON.parse(this.inner.getInvertedBoundary())}renderStaticRoads(){return this.checkReady(),JSON.parse(this.inner.renderStaticRoads())}renderDynamicRoads(){return this.checkReady(),JSON.parse(this.inner.renderDynamicRoads())}toRouteSnapper(){return this.checkReady(),this.inner.toRouteSnapper()}getAllRoutes(){return this.checkReady(),JSON.parse(this.inner.getAllRoutes())}getRoute(e){return this.checkReady(),JSON.parse(this.inner.getRoute(e))}setRoute(e,n){this.checkReady(),this.inner.setRoute(e??void 0,n)}deleteRoutes(e){this.checkReady(),this.inner.deleteRoutes(new Uint32Array(e))}clearAllRoutes(){this.checkReady(),this.inner.clearAllRoutes()}autosplitRoute(e,n,a){return this.checkReady(),JSON.parse(this.inner.autosplitRoute(e??void 0,n,a))}evaluateRoute(e){return this.checkReady(),JSON.parse(this.inner.evaluateRoute({x1:e.start.lng,y1:e.start.lat,x2:e.end[0],y2:e.end[1],breakdown:e.breakdown}))}evaluateOD(e){return this.checkReady(),JSON.parse(this.inner.evaluateOD(e))}recalculateStats(){return this.checkReady(),JSON.parse(this.inner.recalculateStats())}recalculateODStats(){return this.checkReady(),JSON.parse(this.inner.recalculateODStats())}getAreaMeshDensity(){return this.checkReady(),JSON.parse(this.inner.getAreaMeshDensity())}getGridMeshDensity(e,n,a){return this.checkReady(),JSON.parse(this.inner.getGridMeshDensity(e,n,a))}importExistingRoutes(e){return this.checkReady(),this.inner.importExistingRoutes(e=="infra-type")}importCoreNetwork(){return this.checkReady(),this.inner.importCoreNetwork()}toSavefile(){return this.checkReady(),this.inner.toSavefile()}loadSavefile(e){this.checkReady(),this.inner.loadSavefile(e)}getSchools(){return this.checkReady(),JSON.parse(this.inner.getSchools())}getGpHospitals(){return this.checkReady(),JSON.parse(this.inner.getGPHospitals())}getTownCentres(){return this.checkReady(),JSON.parse(this.inner.getTownCentres())}getSettlements(){return this.checkReady(),JSON.parse(this.inner.getSettlements())}getGreenspaces(){return this.checkReady(),JSON.parse(this.inner.getGreenspaces())}getDataZones(){return this.checkReady(),JSON.parse(this.inner.getDataZones())}debugReachablePath(e,n){return this.checkReady(),JSON.parse(this.inner.debugReachablePath(e,n))}debugUnreachablePath(e,n){return this.checkReady(),JSON.parse(this.inner.debugUnreachablePath(e,n))}getConnectedComponents(){return this.checkReady(),JSON.parse(this.inner.getConnectedComponents())}checkReady(){if(!this.inner)throw new Error("Backend used without a file loaded")}}B(Se)})();
